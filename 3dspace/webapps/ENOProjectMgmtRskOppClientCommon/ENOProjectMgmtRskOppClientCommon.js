define("DS/ENOProjectMgmtRskOppClientCommon/config/RskOppMembersConfigForCreate",["DS/ENOProjectMgmtModels/Collections/Persons","DS/ENOProjectMgmtModels/Models/AppSettings","DS/ENOProjectMgmtCommonComponents/config/ConfigBase","DS/ENOProjectMgmtCommonComponents/views/ProjectMgmtObjectCardView","DS/ENOProjectMgmtCommonComponents/utils/CommonUtils","i18n!DS/ENOProjectMgmtCommonComponents/assets/nls/ENOProjectMgmtCommonComponents"],function(e,t,i,n,a,o){"use strict";let s=i.extend({_uwaClassName:"RskOppMembersConfigForCreate",columnInfo:{},setup:function(){this.setColumnInfo()},type:"members",values:[{readWrite:"true",name:"assignees",attributeToDisplay:"fullName",imageAttribute:"image",singleObjectOnly:!1,label:o.ASSIGNEES,type:"person",typeAheadCallback:e.typeAheadCallback,customView:n,linkCallback:a.launchProperties,placeHolder:o.SEARCH_PLACEHOLDER_TEXT,excludePendingUser:!0,validateSameTenant:!0,addMembers:!0}],getAssigneesCustomButtons:function(){return i.assigneesCustomButtons}});return s._instance=s._instance||new s,s._instance}),define("DS/ENOProjectMgmtRskOppClientCommon/config/ActionButtonConfig",["DS/ENOProjectMgmtCommonComponents/config/ConfigBase","DS/ENOProjectMgmtCommonComponents/utils/Constants","i18n!DS/ENOProjectMgmtCommonComponents/assets/nls/ENOProjectMgmtCommonComponents"],function(e,t,i){"use strict";let n=e.extend({_uwaClassName:"ActionButtonConfig",type:"actionButtons",columnInfo:{},setup:function(){this.setColumnInfo()},values:[{name:"complete",value:"complete",text:i.COMPLETE,label:i.COMPLETE,fonticon:"check"},{name:"re-open",value:"re-open",text:i.RE_OPEN,label:i.RE_OPEN,fonticon:"reset"},{name:"duplicate",value:"duplicate",text:i.DUPLICATE,label:i.DUPLICATE,fonticon:"duplicate"},{name:"delete",value:"delete",text:i.DELETE,label:i.DELETE,fonticon:"trash"}],getItems:function(e){if(!e)return;let i,n,a=[],o=e.getActionsAttrsAccessMap(),s=o.canModify,l=o.canDelete,r=o.canDemote,c=o.canPromote,m=o.isComplete;return this.values.forEach(function(o){let d=!0;switch(o.name){case t.DELETE:i=Boolean(!l);break;case t.COMPLETE:d=s&&c&&!m;break;case t.RE_OPEN:d=r&&m;break;case t.DUPLICATE:d=e.hasContextViewAccess()}d&&((n=UWA.clone(o||{},!1)).className=i?"disabled":"",a.push(n))}),a}});return n._instance=n._instance||new n,n._instance}),define("DS/ENOProjectMgmtRskOppClientCommon/config/RskOppContentConfig",["DS/ENOProjectMgmtModels/Collections/SearchObjects","DS/ENOProjectMgmtModels/Utils/FederatedSearch","DS/ENOProjectMgmtCommonComponents/config/ConfigBase","DS/ENOProjectMgmtCommonComponents/views/ProjectMgmtObjectCardView","DS/ENOProjectMgmtCommonComponents/utils/CommonUtils","i18n!DS/ENOProjectMgmtCommonComponents/assets/nls/ENOProjectMgmtCommonComponents"],function(e,t,i,n,a,o){"use strict";return i.extend({_uwaClassName:"RskOppContentConfig",type:"relatedContents",columnInfo:{},setup:function(e){this.setValues(e),this.addAdditionalValues(),this.setColumnInfo()},addAdditionalValues:Function.prototype,setValues:function(i){this.values=[{readWrite:"true",name:"affectedItems",attributeToDisplay:"title",imageAttribute:"image",singleObjectOnly:!1,label:o.AFFECTED_ITEMS,type:"object",typeAheadCallback:e.typeAheadCallback,customView:n,searchSource:t.filterSearchSources(["3dspace","3dplan"]),excludeSearchTypes:{"3dspace":["Person","Security Context","Business Role"],swym:["pno:Person"]},linkCallback:a.launchProperties,placeHolder:o.SEARCH_PLACEHOLDER_TEXT,validateSameTenant:!0,preValidate:[{name:"context",label:o.CONTEXT,nlsMsg:o.CONTEXT_SELECTION_ERROR}]},{readWrite:"true",name:i.name,attributeToDisplay:"title",imageAttribute:"image",singleObjectOnly:!1,label:i.label,type:"object",typeAheadCallback:e.typeAheadCallback,customView:n,searchSource:t.filterSearchSources(["3dspace"]),searchSourceTypes:{"3dspace":[i.searchTypes]},linkCallback:a.launchProperties,placeHolder:o.SEARCH_PLACEHOLDER_TEXT,validateSameTenant:!0},{readWrite:"true",name:"references",allowFileManagement:!0,attributeToDisplay:"title",imageAttribute:"image",singleObjectOnly:!1,label:o.ATTACHMENTS,type:"object",typeAheadCallback:e.typeAheadCallback,customView:n,searchSource:t.filterSearchSources(["3dspace","3dplan"]),excludeSearchTypes:{"3dspace":["Person","Security Context","Business Role"],swym:["pno:Person"]},linkCallback:a.launchProperties,placeHolder:o.SEARCH_PLACEHOLDER_TEXT,validateSameTenant:!0,addLinks:!0}]}})}),define("DS/ENOProjectMgmtRskOppClientCommon/config/RskOppAppConfig",["UWA/Core","DS/ENOProjectMgmtCommonComponents/config/AppConfig"],function(e,t){"use strict";return t.singleton({_uwaClassName:"RskOppAppConfig",supportedTypesAsParamsForContext:["Project Space","Task"],supportedTypesAsParamsInAppListing:["Risk","Opportunity"],widgetLinkOptions:{appIds:["ENOPRGA_AP"],open:!1},subscribeToContextChange:!0})}),define("DS/ENOProjectMgmtRskOppClientCommon/config/RskOppPlanConfig",["DS/ENOProjectMgmtModels/Collections/SearchObjects","DS/ENOProjectMgmtCommonComponents/config/ConfigBase","DS/ENOProjectMgmtCommonComponents/views/ProjectMgmtObjectCardView","DS/ENOProjectMgmtCommonComponents/utils/CommonUtils","i18n!DS/ENOProjectMgmtCommonComponents/assets/nls/ENOProjectMgmtCommonComponents","i18n!DS/ENOProjectMgmtRskOppClientCommon/assets/nls/ENOProjectMgmtRskOppClientCommon"],function(e,t,i,n,a,o){"use strict";return t.extend({_uwaClassName:"RskOppPlanConfig",columnInfo:{},type:"plan",setup:function(e){this.setValues(e),this.addAdditionalValues(),this.setColumnInfo()},setValues:function(t){this.values=[{label:a.ACTION_PLAN,name:"mitigationType",type:"select",readWrite:"true",defaultValue:void 0,values:void 0},{label:o.MEASURE_OF_SUCCESS,name:"measureOfSuccess",type:"textarea",numberOfDisplayLines:2,numberOfEditableLines:2,readWrite:"true"},{label:t.label,name:t.name,type:"textarea",numberOfDisplayLines:2,numberOfEditableLines:2,readWrite:"true"},{readWrite:"true",name:"resolvedBy",attributeToDisplay:"title",imageAttribute:"image",singleObjectOnly:!1,label:a.RESOLVED_BY,type:"object",typeAheadCallback:e.typeAheadCallback,linkCallback:n.launchProperties,placeHolder:a.SEARCH_PLACEHOLDER_TEXT,customView:i,validateSameTenant:!0,preValidate:[{name:"context",label:a.CONTEXT,nlsMsg:a.CONTEXT_SELECTION_ERROR}]}]}})}),define("DS/ENOProjectMgmtRskOppClientCommon/config/RskOppPropertiesConfig",["UWA/Core","DS/ENOProjectMgmtModels/Collections/SearchObjects","DS/ENOProjectMgmtCommonComponents/config/ConfigBase","DS/ENOProjectMgmtCommonComponents/utils/CommonUtils","DS/ENOProjectMgmtCommonComponents/views/ToggleView","DS/ENOProjectMgmtCommonComponents/views/ProjectMgmtObjectCardView","DS/ENOProjectMgmtCommonComponents/views/ProjectMgmtHeatMapCustomView","i18n!DS/ENOProjectMgmtCommonComponents/assets/nls/ENOProjectMgmtCommonComponents","i18n!DS/ENOProjectMgmtRskOppClientCommon/assets/nls/ENOProjectMgmtRskOppClientCommon"],function(e,t,i,n,a,o,s,l,r){"use strict";let c=l.MORE;return i.extend({_uwaClassName:"RskOppPropertiesConfig",type:"basic",columnInfo:{},setup:function(e){this.clientNLS=e&&e.nls,this.setValues(),this.addAdditionalValues(),this.setColumnInfo()},setValues:function(){this.values=[{label:l.TITLE,name:"title",type:"text",readWrite:"true",required:!0,numberOfDisplayLines:1,numberOfEditableLines:1,removeCarriageReturns:!0,maxLength:128,validate:!0},{label:l.NAME,name:"name",type:"text"},{label:l.ROOTCAUSE,name:"rootCause",type:"textarea",readWrite:"true",numberOfDisplayLines:2,numberOfEditableLines:2,maxLength:150},{label:l.DESCRIPTION,name:"description",type:"textarea",readWrite:"true",numberOfDisplayLines:2,numberOfEditableLines:2,maxLength:150},{name:"context",key:"contextId",readWrite:"true",attributeToDisplay:"title",imageAttribute:"image",singleObjectOnly:!0,label:l.CONTEXT,type:"object",minLengthBeforeAutocomplete:0,typeAheadCallback:t.focusTypeAheadCallback,customView:o,linkCallback:n.launchProperties,placeHolder:l.CONTEXT_SEARCH_TEXT,validate:!0,fields:"readAccess",include:"configuration",validateSameTenant:!0,fetchSource:"RiskContextInfo",excludeSearchTypes:{"3dspace":["Program","Experiment","Project Baseline"]},additionalQuery:{"3dspace":' AND NOT [ds6w:status]:"Project Space Hold Cancel.Hold" AND NOT [ds6w:status]:"Project Space Hold Cancel.Cancel"'},preValidate:[{name:"affectedItems",label:l.AFFECTED_ITEMS,nlsMsg:l.CONTEXT_PREVALIDATE_MSG},{name:"resolvedBy",label:l.RESOLVED_BY,nlsMsg:l.CONTEXT_PREVALIDATE_MSG}]},{label:l.MATRIX_CONFIGURATION,name:"matrixConfiguration",type:"text",readWrite:!1},{label:l.EFFECTIVE_DATE,name:"effectiveDate",type:"date",readWrite:!0,defaultValue:new Date,required:!0,validate:!0},{label:this.clientNLS.IMPACT,name:"impact",type:"select",readWrite:!0,defaultValue:void 0,values:void 0},{label:r.PROBABILITY,name:"probability",type:"select",readWrite:!0,defaultValue:void 0,values:void 0},{label:this.clientNLS.RPN,name:"rpnValue",type:"text",readWrite:!1},{label:l.HEAT_MAP,name:"heatmap",readWrite:!1,customView:s},{label:l.COMMENT,name:"comments",type:"textarea",numberOfDisplayLines:2,numberOfEditableLines:2,maxLength:150},{label:l.POLICY,name:"policy",type:"select",group:c,mapFromRangeValue:!0},{label:l.ESTIMATED_DATES,name:"estimatedStartDate",type:"startStop",readWrite:"true",startDateAttribute:"estimatedStartDate",startDateLabel:l.START,endDateAttribute:"estimatedFinishDate",endDateLabel:l.END,validate:!0},{label:this.clientNLS.CLASS_TYPE,name:"classType",type:"select",readWrite:"true",defaultValue:void 0,values:void 0},{label:l.MATURITY_STATE,name:"state",type:"select",readWrite:"true",defaultValue:void 0,mapFromRangeValue:!0,helpInfoFilter:"Project Risk",values:void 0},{label:l.ORGANIZATION,name:"organizationTitle",type:"text",group:c},{label:l.COLLABORATIVE_SPACE,name:"projectTitle",type:"text",group:c},{label:l.ACTUAL_DATES,startDateLabel:l.START,name:"actualStartDate",type:"startStop",endDateAttribute:"actualFinishDate",endDateLabel:l.END,group:c},{label:l.ORIGINATED,name:"originated",type:"date",group:c},{label:l.MODIFICATION_DATE,name:"modified",type:"date",group:c}]},getDefaultCommentsConfig:function(){return{label:l.COMMENT,name:"comments",type:"textarea",readWrite:"true",numberOfDisplayLines:2,numberOfEditableLines:2,maxLength:150}},getCommentsConfig:function(){return{label:l.COMMENT,name:"comments",type:"text"}},getDefaultImpactConfig:function(e,t){return{label:this.clientNLS.IMPACT,name:"impact",type:"select",readWrite:!t,defaultValue:e||"",values:void 0}},getDefaultProbabilityConfig:function(e,t){return{label:r.PROBABILITY,name:"probability",type:"select",readWrite:!t,defaultValue:e||"",values:void 0}},getImpactConfigForMatrix:function(t,i){let a=e.clone(i||{},!1),o=a.isEdit,s=a.inValidRMC,l=a.blankRange,r=a.isContextModified,c=a.isMatrixConfigSelectView,m=o&&(s||r||!c),d=t.Xaxis,u=d.nls[widget.lang]||d.name,p=n.formatRangeValuesForSelectView(d.nodes,"value",n.getconcatenatedActualDisplayValue,a),C=l?"":a.defaultValue||p[0].actualValue;return{required:o&&!C,label:u,name:"impact",type:"select",readWrite:m,defaultValue:C,values:p,validate:!0}},getProbabilityConfigForMatrix:function(t,i){let a=e.clone(i||{},!1),o=a.isEdit,s=a.inValidRMC,l=a.blankRange,r=a.isContextModified,c=a.isMatrixConfigSelectView,m=o&&(s||r||!c),d=t.Yaxis,u=d.nls[widget.lang]||d.name,p=n.formatRangeValuesForSelectView(d.nodes,"value",n.getconcatenatedActualDisplayValue,a),C=l?"":a.defaultValue||p[0].actualValue;return{required:o&&!C,label:u,name:"probability",type:"select",readWrite:m,defaultValue:C,values:p,validate:!0}},getDefaultImpactGoalConfig:function(e,t){return{label:r.GOAL_IMPACT,name:"impactGoal",type:"select",readWrite:!t,defaultValue:e||"",values:void 0}},getDefaultProbabilityGoalConfig:function(e,t){return{label:r.GOAL_PROBABILITY,name:"probabilityGoal",type:"select",readWrite:!t,defaultValue:e||"",values:void 0}},getImpactGoalConfigForMatrix:function(t,i){let a=e.clone(i||{},!1),o=a.isEdit,s=a.inValidRMC,l=a.blankRange,c=a.isContextModified,m=a.isMatrixConfigSelectView,d=o&&(s||c||!m),u=t.Xaxis,p=n.formatRangeValuesForSelectView(u.nodes,"value",n.getconcatenatedActualDisplayValue,a),C=l?"":a.defaultValue||p[0].actualValue;return{required:!1,label:r.GOAL_IMPACT,name:"impactGoal",type:"select",readWrite:d,defaultValue:C,values:p,validate:!0}},getProbabilityGoalConfigForMatrix:function(t,i){let a=e.clone(i||{},!1),o=a.isEdit,s=a.inValidRMC,l=a.blankRange,c=a.isContextModified,m=a.isMatrixConfigSelectView,d=o&&(s||c||!m),u=t.Yaxis,p=n.formatRangeValuesForSelectView(u.nodes,"value",n.getconcatenatedActualDisplayValue,a),C=l?"":a.defaultValue||p[0].actualValue;return{required:!1,label:r.GOAL_PROBABILITY,name:"probabilityGoal",type:"select",readWrite:d,defaultValue:C,values:p,validate:!0}},getDefaultMatrixConfig:function(){return{label:l.MATRIX_CONFIGURATION,name:"matrixConfiguration",type:"text",readWrite:!1,validate:!0}},getMultiValueMatrixConfig:function(e,t){let i;return t&&(i={blankRange:!0,blankRangeDisplayValue:t.title}),{required:!0,label:l.MATRIX_CONFIGURATION,name:"matrixConfiguration",type:"select",readWrite:!0,defaultValue:t&&t.id||"",validate:!0,values:n.formatRangeValuesForSelectView(e,"id","title",i)}}})}),define("DS/ENOProjectMgmtRskOppClientCommon/views/RskOppDetailsAndRelationships",["UWA/Core","DS/ENOProjectMgmtCommonComponents/utils/Constants","DS/ENOProjectMgmtCommonComponents/utils/CommonUtils","DS/ENOProjectMgmtCommonComponents/components/CustomAlert","DS/ENOProjectMgmtCommonComponents/views/ProjectMgmtTrendView","DS/ENOProjectMgmtCommonComponents/views/ProjectMgmtDetailsAndRelationships","DS/ENOProjectMgmtModels/Collections/RelatedDataItems","i18n!DS/ENOProjectMgmtRskOppClientCommon/assets/nls/ENOProjectMgmtRskOppClientCommon"],function(e,t,i,n,a,o,s,l){"use strict";let r=["properties","members","classification"];return o.extend({_uwaClassName:"RskOppDetailsAndRelationships",init:function(t,i){let n=e.clone(i||{},!1);this._nlsTrend=n.nlsTrend,this._trendConfig=n.trendConfig,this._trendTemplate=n.trendTemplate,this._trendChartConfig=n.trendChartConfig,this._parent.apply(this,arguments)},showDetailsDisplay:function(){let e=this.currentModel&&this.currentModel.isNew;e||(this.currentModel=this._viewCollection.getCurrentDataModel(void 0),this.canRMCConnect=this.currentModel.model.canRMCConnect()),this._parent.apply(this,arguments),!this.isMassUpdate&&this.handleTabCustomRender(this.currentTab.key),e||this.canRMCConnect||n.buildNotification({message:l.RMC_CONNECT_ERROR_MESSAGE,hideDelay:5e3},"error")},_checkAccess:function(){switch(this.currentTab.key){case"members":this._setFieldReadWrite("assignees","canToConnect"),this._setFieldReadWrite("ownerInfo","canChangeOwner"),this._setFieldReadWrite("informedUser","canFromConnect");break;case"plan":this._setFieldReadWrite("resolvedBy","canFromConnect");break;case"relatedContent":this._setFieldReadWrite("affectedItems","canFromConnect"),this._setFieldReadWrite("references","canFromConnect"),this._setFieldReadWrite("associatedRisks","canFromConnect")}},reset:function(){this._parent.apply(this,arguments),delete this.inValidRMC,delete this._membersTab,delete this.isContextModified,delete this.isMatrixConfigSelectView},initializeEvents:function(){let e={"onChange:matrixConfiguration":this.fetchMatrixConfigDetails,onChange:function(e,t){let i=t&&t.config;i&&this.handleTabCustomRender(i.name)}};this._parent(e),this.listenTo(this.currentModel.model,"onChange:"+t.ASSIGNEE_ATTR,this.handleTabCustomRender.bind(this,t.ASSIGNEE_ATTR))},validateContextFieldModified:function(){return this.isContextModified=this.currentModel.localRelatedItems.hasOwnProperty(t.CONTEXT_ATTR),this.isContextModified&&this.inValidRMC&&delete this.inValidRMC,this.isContextModified},isPropertiesTab:function(){return this._parent.apply(this,arguments)&&!this.isRMCContext},isMembersTab:function(){return Boolean("members"===this.currentTab.key&&this.currentTabView&&this.currentModel)},isClassificationTab:function(){return Boolean("classification"===this.currentTab.key&&this.currentTabView&&this.currentModel)},handleTabCustomRender:function(e){switch(e){case"properties":this.isPropertiesTab()&&(this._propertiesTab=this.currentTabView),this.handleMatrixConfigForPropertiesTab();break;case t.CONTEXT_ATTR:this.handleMatrixConfigForPropertiesTab();break;case"impact":case"probability":case"impactGoal":case"probabilityGoal":this.handleCommentsForPropertiesTab(e);break;case"members":this.isMembersTab()&&(this._membersTab=this.currentTabView),this.handleAssigneesFieldCustomBtns();break;case t.ASSIGNEE_ATTR:this.handleAssigneesFieldCustomBtns();break;case"classification":!this.isClassificationTab()&&this.relatedView[e]&&this.relatedView[e].acceptChanges(this.currentModel)}},handleCommentsForPropertiesTab:function(e){if(!this.isCreate){let t=this._propertiesTab._config,n=t&&i.findIndex(t.values,"name","comments");n>=0&&(t.values[n]=e?t.getDefaultCommentsConfig():t.getCommentsConfig(),e&&this.currentModel.updateDetailsDisplay())}},handleAssigneesFieldCustomBtns:function(){if(this._membersTab){let e,n,a=[],o=i.isSelfAssigned(this.currentModel),s=this.currentModel.model.canModify()||this.isCreate,l=this.currentModel.model.canToConnect()||this.isCreate;this._membersTab._config.getAssigneesCustomButtons().forEach(i=>{switch(i.id){case t.ASSIGN_TO_SELF:n="add",e=s&&l&&!o;break;case t.REMOVE_ASSIGN_TO_SELF:n="remove",e=s&&o}e&&(i.callback=this.currentModel.handleAssigneeUpdate.bind(this.currentModel,n),a.push(i))}),this._membersTab._config.columnInfo.assignees.customButtons=a,this.currentModel.updateDetailsDisplay()}},getMatrixConfigObj:function(e){let t,i,n=e.get("configuration");if(!n||!n.length){let e=this.currentModel.get("rmcActual"),t=this.currentModel.get("rmcGoverning"),i=e&&e.length,a=t&&t.length,o=i?e[0]||e.at(0):this._matrixConfigCollection.getDefaultConfiguration(),s=this.currentModel.model.isValidConfiguration();this.inValidRMC=!s&&this._matrixConfigCollection.getMatrixConfigDefinition(o.id),n=a&&t}if(i=n&&n.length,this.isMatrixConfigSelectView=i>(this.inValidRMC?0:1),this.updateRMCConfig(n),!this.isMatrixConfigSelectView)return t=i?n[0]||n.at(0):this._matrixConfigCollection.getDefaultConfiguration();this.handlePropertyTabUpdate()},handleMatrixConfigForPropertiesTab:function(){if(this._propertiesTab){!this.isNew&&this.validateContextFieldModified();let e=this.currentModel.getContextModel();if(e){let t=this.getMatrixConfigObj(e);t&&this.fetchMatrixConfigDetails(t.id)}else this.updateRMCConfig(),this.handlePropertyTabUpdate()}},fetchMatrixConfigDetails:function(t){if(t=arguments[1]||t,this._propertiesTab&&e.is(t,"string"))if(t){let e=this._matrixConfigCollection.getMatrixConfigDefinition(t);e&&this.handlePropertyTabUpdate(e)}else this.handlePropertyTabUpdate()},validateRMCExistsAlready:function(e){return this.currentModel.model.isValidConfiguration()||this.inValidRMC&&this.inValidRMC.id===e||this.isContextModified&&this.currentModel.model.getRMCActualId()===e},handlePropertyTabUpdate:function(t){if(this._propertiesTab){let i=Boolean(this.inValidRMC),n=Boolean(this.isContextModified),a=this._propertiesTab._config,o=t&&this.validateRMCExistsAlready(t.id),s={inValidRMC:i,isContextModified:n,isRMCExistsAlready:o,isMatrixConfigSelectView:this.isMatrixConfigSelectView},l=this.getImpactAndProbabilityConfigFields(t,a,s),r=this.getGoalImpactAndProbabilityConfigFields(t,a,s);this.handleCommentsForPropertiesTab();let c={configs:{impact:l.configs.impact,probability:l.configs.probability,impactGoal:r&&r.configs.impactGoal,probabilityGoal:r&&r.configs.probabilityGoal},data:{impact:l.data.impact,probability:l.data.probability,impactGoal:r&&r.data.impactGoal,probabilityGoal:r&&r.data.probabilityGoal},isRMCExistsAlready:o};e.extend(c,s);let m=this.getAttributeValuesForPropertiesTab(c),d=this.currentModel.modificationsPending;this.currentModel.postAddRemoveContextMatrixConfig(t,m,this.isMatrixConfigSelectView),!d&&this.handleInitialOpenPropertyPanel()}},getImpactAndProbabilityConfigFields:function(t,n,a){let o,s,l,r,c,m,d=i.findIndex(n.values,"name","impact"),u=i.findIndex(n.values,"name","probability");a.inValidRMC&&(c=this.currentModel.getMatrixAxisDisplayValue("impact",this.inValidRMC),m=this.currentModel.getMatrixAxisDisplayValue("probability",this.inValidRMC));let p=c&&c.actualValue,C=c&&c.displayValue,g=m&&m.actualValue,f=m&&m.displayValue;if(t){o=t.get("matrix");let i={blankRange:!(s=a.isRMCExistsAlready),isEdit:!this.isCreate&&this.currentModel.model.canEdit(),blankRangeDisplayValue:!s&&C,defaultValue:s&&(p||this.currentModel.model.get("impact"))};e.extend(i,a),l=n.getImpactConfigForMatrix(o,i),e.extend(i,{blankRangeDisplayValue:!s&&f,defaultValue:s&&(g||this.currentModel.model.get("probability"))}),r=n.getProbabilityConfigForMatrix(o,i)}else{let e=a.inValidRMC||a.isContextModified;l=n.getDefaultImpactConfig(p,e),r=n.getDefaultProbabilityConfig(g,e)}return n.values[d]=l,n.values[u]=r,{configs:{impact:l,probability:r},data:{impact:c,probability:m}}},getGoalImpactAndProbabilityConfigFields:function(t,n,a){let o,s,l,r,c=i.findIndex(n.values,"name","impactGoal"),m=i.findIndex(n.values,"name","probabilityGoal");if(c&&-1!==c&&m&&-1!==m){let i,d;if(a.inValidRMC&&(i=this.currentModel.getMatrixAxisDisplayValue("impactGoal",this.inValidRMC),d=this.currentModel.getMatrixAxisDisplayValue("probabilityGoal",this.inValidRMC)),t){o=t.get("matrix"),s=a.isRMCExistsAlready;let c=this.currentModel.model.get("impactGoal"),m={blankRange:a.inValidRMC&&Boolean(Number(c)),noneRange:!0,isEdit:!this.isCreate&&this.currentModel.model.canEdit(),blankRangeDisplayValue:!s&&i&&i.displayValue,defaultValue:s&&(i&&i.actualValue||c)};e.extend(m,a),l=n.getImpactGoalConfigForMatrix(o,m);let u=this.currentModel.model.get("probabilityGoal");e.extend(m,{blankRange:a.inValidRMC&&Boolean(Number(u)),blankRangeDisplayValue:!s&&d&&d.displayValue,defaultValue:s&&(d&&d.actualValue||u)}),r=n.getProbabilityGoalConfigForMatrix(o,m)}else{let e=a.inValidRMC||a.isContextModified;l=n.getDefaultImpactGoalConfig(i&&i.actualValue,e),r=n.getDefaultProbabilityGoalConfig(d&&d.actualValue,e)}return n.values[c]=l,n.values[m]=r,{configs:{impactGoal:l,probabilityGoal:r},data:{impactGoal:i,probabilityGoal:d}}}},getAttributeValuesForPropertiesTab:function(t){let i={},n=e.clone(t||{},!1),a=n.inValidRMC,o=n.isContextModified,s=n.isRMCExistsAlready,l=n.configs.impact,r=n.configs.probability,c=n.configs.impactGoal,m=n.configs.probabilityGoal;if(this.isCreate||o&&!s){let e=l&&l.defaultValue,t=r&&r.defaultValue,n=this.currentModel.getRPNFieldValue(e,t);if(i.comments="",i.rpnValue=n,i.impact=e,i.probability=t,c&&m){let e="0",t="0",n="";i.rpnValueGoal=n,i.impactGoal=e,i.probabilityGoal=t}}else if(a){let e=n.data.impact,t=n.data.probability,a=n.data.impactGoal,o=n.data.probabilityGoal,s=this.inValidRMC.title;i.impact=l.readWrite?l.defaultValue:e.displayValue,i.probability=r.readWrite?r.defaultValue:t.displayValue,c&&m&&(i.impactGoal=c.readWrite?c.defaultValue:a.displayValue?a.displayValue:"--",i.probabilityGoal=m.readWrite?m.defaultValue:o.displayValue?o.displayValue:"--"),this.currentModel.model.canModify()?(i.inValidRMCId=this.inValidRMC.id,i.inValidRMCTitle=s,i.impact_displayValue=e&&e.displayValue,i.probability_displayValue=e&&t.displayValue,c&&m&&(i.impactGoal_displayValue=a&&a.displayValue,i.probabilityGoal_displayValue=o&&o.displayValue)):i.matrixConfiguration=s}return i},updateRMCConfig:function(e){if(this._propertiesTab){let t=this._propertiesTab._config,n=i.findIndex(t.values,"name","matrixConfiguration");n>=0&&(this.canRMCConnect||this.isNew)&&(this.isMatrixConfigSelectView?(t.values[n]=t.getMultiValueMatrixConfig(e,this.inValidRMC||this.isContextModified),this.currentModel.dispatchEvent("resetDetailsDisplay")):t.values[n]=t.getDefaultMatrixConfig())}},handleRMCActualForCreateAndInvalidRMCPayload:function(){if(this.isCreate||this.isContextModified||this.inValidRMC){let e=this.currentModel.get("rmcId");if(e){let t=new s;this.currentModel.model.set("rmcActual",t),t.add({id:e})}this.currentModel.model.unset("rmcId")}},isPropertyPanelOpen:function(){return!this.isRMCContext&&this._parent.apply(this,arguments)},save:function(t){let i=e.clone(t||{},!1);i.invokeSaveEvent||this.isMassUpdate||(this.handleRMCActualForCreateAndInvalidRMCPayload(),i.resetWidgetData=this.inValidRMC||this.isContextModified||this.isMatrixConfigSelectView),this._parent(i)},updateCurrentTabPostSave:function(){let e=this.inValidRMC||this.isContextModified;!e&&r.forEach(e=>this.handleTabCustomRender(e)),this._parent({doNotUpdateCurrentTab:e}),delete this.inValidRMC,delete this.isContextModified},_addRelatedView:function(e,t,i){"riskTrend"===e?this._addTrend(e,t):this._parent(e,t,i)}})}),define("DS/ENOProjectMgmtRskOppClientCommon/config/ActionPlanBreakdownChartConfig",["DS/ENOProjectMgmtCommonComponents/utils/CommonUtils"],function(e){"use strict";let t={text:"",align:"center",verticalAlign:"middle",y:60,style:{fontFamily:"Arial",fontWeight:"bold",fontSize:"30px"}};return{_uwaClassName:"ActionPlanBreakdownChartConfig",chart:{type:"pie",animation:{easing:e.easeInOutSineProjectMgmt}},credits:!1,title:t,tooltip:{pointFormat:"<b>{point.y}</b> ({point.percentage:.2f}%)"},legend:{y:20,margin:5,maxHeight:75,labelFormatter:function(){return this.isEmpty?this.name:this.name+" ("+this.y+")"}},plotOptions:{pie:{animation:!0,allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!1},states:{hover:{brightness:.02}},showInLegend:!0,startAngle:-90,endAngle:90,center:["50%","100%"],size:"210%",point:{events:{legendItemClick:function(){if(this.series.chart.options.series.isEmpty)return!1;let e;return e=this.visible?parseInt(this.total)-this.options.y:parseInt(this.total)+this.options.y,t.text=String(e),this.series.chart.setTitle(t),!0},click:function(){if(this.series.chart.options.series.isEmpty)return!1;this.series.chart.options.onClickCallBack("ds6w:how/ds6w:actionPlan",this.actualValue)}}}}},series:[{innerSize:"45%",data:[]}],responsive:{rules:[{condition:{minHeight:390,maxWidth:768},chartOptions:{plotOptions:{pie:{center:["50%","80%"],size:"150%"}}}},{condition:{minHeight:390,maxWidth:500},chartOptions:{plotOptions:{pie:{center:["50%","80%"],size:"110%"}}}}]}}}),define("DS/ENOProjectMgmtRskOppClientCommon/config/RskOppMembersConfig",["DS/ENOProjectMgmtModels/Collections/Persons","DS/ENOProjectMgmtCommonComponents/config/MembersConfig","DS/ENOProjectMgmtCommonComponents/views/ProjectMgmtObjectCardView","DS/ENOProjectMgmtCommonComponents/utils/CommonUtils","i18n!DS/ENOProjectMgmtCommonComponents/assets/nls/ENOProjectMgmtCommonComponents","i18n!DS/ENOProjectMgmtRskOppClientCommon/assets/nls/ENOProjectMgmtRskOppClientCommon"],function(e,t,i,n,a,o){"use strict";let s=t.extend({_uwaClassName:"RskOppMembersConfig",columnInfo:{},addAdditionalValues:function(){this.values.push({readWrite:"true",name:"informedUser",label:o.INFORMED_USERS,attributeToDisplay:"fullName",imageAttribute:"image",type:"person",singleObjectOnly:!1,typeAheadCallback:e.typeAheadCallback,customView:i,linkCallback:n.launchProperties,placeHolder:a.SEARCH_PLACEHOLDER_TEXT,excludePendingUser:!0,validateSameTenant:!0})}});return s._instance=s._instance||new s,s._instance}),define("DS/ENOProjectMgmtRskOppClientCommon/config/RskOppPlanConfigForCreate",["DS/ENOProjectMgmtModels/Collections/SearchObjects","DS/ENOProjectMgmtCommonComponents/config/ConfigBase","DS/ENOProjectMgmtCommonComponents/views/ProjectMgmtObjectCardView","DS/ENOProjectMgmtCommonComponents/utils/CommonUtils","i18n!DS/ENOProjectMgmtCommonComponents/assets/nls/ENOProjectMgmtCommonComponents","i18n!DS/ENOProjectMgmtRskOppClientCommon/assets/nls/ENOProjectMgmtRskOppClientCommon"],function(e,t,i,n,a,o){"use strict";return t.extend({_uwaClassName:"RskOppPlanConfigForCreate",columnInfo:{},type:"plan",setup:function(e){this.setValues(e),this.addAdditionalValues(),this.setColumnInfo()},addAdditionalValues:Function.prototype,setValues:function(t){this.values=[{label:o.MEASURE_OF_SUCCESS,name:"measureOfSuccess",type:"textarea",numberOfDisplayLines:2,numberOfEditableLines:2,readWrite:"true"},{label:t.label,name:t.name,type:"textarea",numberOfDisplayLines:2,numberOfEditableLines:2,readWrite:"true"},{readWrite:"true",name:"resolvedBy",attributeToDisplay:"title",imageAttribute:"image",singleObjectOnly:!1,label:a.RESOLVED_BY,type:"object",typeAheadCallback:e.typeAheadCallback,linkCallback:n.launchProperties,placeHolder:a.SEARCH_PLACEHOLDER_TEXT,customView:i,validateSameTenant:!0}]}})}),define("DS/ENOProjectMgmtRskOppClientCommon/config/RskOppTrendConfig",["UWA/Core","DS/ENOProjectMgmtCommonComponents/config/ConfigBase","DS/ENOProjectMgmtCommonComponents/config/DefaultGridConfig","DS/ENOProjectMgmtCommonComponents/utils/CommonUtils","i18n!DS/ENOProjectMgmtCommonComponents/assets/nls/ENOProjectMgmtCommonComponents","i18n!DS/ENOProjectMgmtRskOppClientCommon/assets/nls/ENOProjectMgmtRskOppClientCommon","css!DS/ENOProjectMgmtRskOppClientCommon/ENOProjectMgmtRskOppClientCommon.css"],function(e,t,i,n,a,o){"use strict";let s;return t.extend({_uwaClassName:"RskOppTrendConfig",type:"list",columnInfo:{},customContentColumnInfo:{},setup:function(e){this.setValues(e),this.setColumnInfo()},gridConfig:function(){let t=e.clone(i);return t.identifier="TrendGridView",t.showContextualMenuColumnFlag=!1,t.showSelectionCheckBoxesFlag=!1,t.rowSelection="none",t.customViews=[{identifier:"TrendList View",layoutDensity:"comfortable",columnsWidth:{rpnImpact:55,rpnProbability:80,rpnValue:82},columnsSortModel:[{dataIndex:"modified",sort:"desc"}],isDefault:!0}],t}(),registerReusableCellContent:{id:"rpnHistoryContent",buildContent:function(){return e.createElement("div",{class:"object-rating"})}},setModel:function(e){s=e},setValues:function(e){this.values=[{text:e.IMPACT,fields:"rpnImpact",dataIndex:"rpnImpact",mapFromRangeValue:!0,alignmentValue:"center"},{text:o.PROBABILITY,fields:"rpnProbability",dataIndex:"rpnProbability",mapFromRangeValue:!0,alignmentValue:"center"},{text:e.RPN,fields:"rpnValue",dataIndex:"rpnValue",typeRepresentation:"number",mapFromRangeValue:!0,alignmentValue:"center",customContentId:"rpnHistoryContent"},{text:a.EFFECTIVE_DATE,fields:"rpnEffectiveDate",dataIndex:"rpnEffectiveDate",alignmentValue:"center",typeRepresentation:"date"},{text:a.MODIFICATION_DATE,fields:"modified",dataIndex:"modified",alignmentValue:"center",typeRepresentation:"datetime"},{text:a.COMMENT,fields:"rpnComments",dataIndex:"rpnComments"}]}})}),define("DS/ENOProjectMgmtRskOppClientCommon/config/ContextSelectionConfig",["DS/ENOProjectMgmtModels/Collections/SearchObjects","DS/ENOProjectMgmtModels/Utils/FederatedSearch","DS/ENOProjectMgmtCommonComponents/config/ConfigBase","DS/ENOProjectMgmtCommonComponents/utils/CommonUtils","DS/ENOProjectMgmtCommonComponents/views/ProjectMgmtObjectCardView","i18n!DS/ENOProjectMgmtCommonComponents/assets/nls/ENOProjectMgmtCommonComponents"],function(e,t,i,n,a,o){"use strict";let s=i.extend({_uwaClassName:"ContextSelectionConfig",columnInfo:{},setup:function(){this.setColumnInfo()},type:"properties",values:[{readWrite:"true",name:"context",attributeToDisplay:"title",imageAttribute:"image",singleObjectOnly:!0,type:"object",minLengthBeforeAutocomplete:0,typeAheadCallback:e.focusTypeAheadCallback,customView:a,linkCallback:n.launchProperties,placeHolder:o.CONTEXT_SEARCH_TEXT,validateSameTenant:!0,excludeSearchTypes:{"3dspace":["Inbox Task","Project Baseline","Experiment","Project Snapshot"],"3dplan":["dsplan:ProjectPlanningTemplate"]},additionalQuery:{"3dspace":' AND NOT [ds6w:status]:"Project Space Hold Cancel.Hold" AND NOT [ds6w:status]:"Project Space Hold Cancel.Cancel"'},showRemoveMenuItem:!0}]});return s._instance=s._instance||new s,s._instance}),define("DS/ENOProjectMgmtRskOppClientCommon/config/BreakdownChartConfig",["DS/ENOProjectMgmtCommonComponents/utils/CommonUtils"],function(e){"use strict";let t={text:"",align:"center",verticalAlign:"middle",y:60,style:{fontFamily:"Arial",fontWeight:"bold",fontSize:"30px"}};return{_uwaClassName:"RiskBreakdownConfig",chart:{type:"pie",animation:{easing:e.easeInOutSineProjectMgmt}},credits:!1,title:t,tooltip:{pointFormat:"<b>{point.y}</b> ({point.percentage:.2f}%)"},legend:{y:20,margin:5,maxHeight:75,labelFormatter:function(){return this.isEmpty?this.name:this.name+" ("+this.y+")"}},plotOptions:{pie:{animation:!0,allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!1},states:{hover:{brightness:.02}},showInLegend:!0,startAngle:-90,endAngle:90,center:["50%","100%"],size:"210%",point:{events:{legendItemClick:function(){if(this.series.chart.options.series.isEmpty)return!1;let e;return e=this.visible?parseInt(this.total)-this.options.y:parseInt(this.total)+this.options.y,t.text=String(e),this.series.chart.setTitle(t),!0},click:function(){if(this.series.chart.options.series.isEmpty)return!1;this.series.chart.options.onClickCallBack("ds6w:why/ds6w:fulfills/ds6w:severity",this.name)}}}}},series:[{innerSize:"45%",data:[]}],responsive:{rules:[{condition:{minHeight:390,maxWidth:768},chartOptions:{plotOptions:{pie:{center:["50%","80%"],size:"150%"}}}},{condition:{minHeight:390,maxWidth:500},chartOptions:{plotOptions:{pie:{center:["50%","80%"],size:"110%"}}}}]}}}),define("DS/ENOProjectMgmtRskOppClientCommon/constants/Constants",["DS/WebappsUtils/WebappsUtils"],function(e){"use strict";let t=e.getWebappsBaseUrl()+"ENOProjectMgmtRskOppClientCommon/assets/";return{BASE_URL:t,ADD_NODE:"add node",REMOVE:"Remove",ENTER_KEYCODE:13,MOVE_RISK:"move risk",EMPTY_CIRCLE:t+"icons/emptyCircle.png",QUARTERFILLED_CIRCLE:t+"icons/quarterFilledCircle.png",HALFFILLED_CIRCLE:t+"icons/halfFilledCircle.png",THREEQUARTERFILLED_CIRCLE:t+"icons/threeQuarterFilledCircle.png",FILLED_CIRCLE:t+"icons/filledCircle.png",ALLOWED_IMAGE_FORMATS:["png","jpg","jpeg","gif","tiff","bpg"]}}),define("DS/ENOProjectMgmtRskOppClientCommon/config/RskOppCreateConfig",["UWA/Core","DS/ENOProjectMgmtModels/Utils/FederatedSearch","DS/ENOProjectMgmtModels/Collections/SearchObjects","DS/ENOProjectMgmtCommonComponents/config/ConfigBase","DS/ENOProjectMgmtCommonComponents/views/ProjectMgmtObjectCardView","DS/ENOProjectMgmtCommonComponents/views/ProjectMgmtHeatMapCustomView","DS/ENOProjectMgmtCommonComponents/utils/CommonUtils","i18n!DS/ENOProjectMgmtCommonComponents/assets/nls/ENOProjectMgmtCommonComponents","i18n!DS/ENOProjectMgmtRskOppClientCommon/assets/nls/ENOProjectMgmtRskOppClientCommon"],function(e,t,i,n,a,o,s,l,r){"use strict";return n.extend({_uwaClassName:"RskOppCreateConfig",type:"basic",columnInfo:{},options:{excludeAutoDeploy:!0},setup:function(e){this.clientNLS=e,this.setValues(),this.addAdditionalValues(),this.setColumnInfo()},setValues:function(){this.values=[{label:l.TITLE,name:"title",type:"text",readWrite:!0,required:!0,numberOfDisplayLines:1,numberOfEditableLines:1,removeCarriageReturns:!0,maxLength:128,validate:!0},{label:l.ROOTCAUSE,name:"rootCause",type:"textarea",readWrite:!0,numberOfDisplayLines:2,numberOfEditableLines:2,maxLength:150},{label:l.DESCRIPTION,name:"description",type:"textarea",readWrite:!0,numberOfDisplayLines:2,numberOfEditableLines:2,maxLength:150},{name:"context",label:l.CONTEXT,readWrite:!0,attributeToDisplay:"title",imageAttribute:"image",singleObjectOnly:!0,type:"object",required:!0,fetchSource:"RiskContextInfo",minLengthBeforeAutocomplete:0,typeAheadCallback:i.focusTypeAheadCallback,customView:a,linkCallback:s.launchProperties,placeHolder:l.SEARCH_PLACEHOLDER_TEXT,validate:!0,validateSameTenant:!0,excludeSearchTypes:{"3dspace":["Program","Experiment","Project Baseline"]},additionalQuery:{"3dspace":' AND NOT [ds6w:status]:"Project Space Hold Cancel.Hold" AND NOT [ds6w:status]:"Project Space Hold Cancel.Cancel"'},include:"configuration"},{label:l.MATRIX_CONFIGURATION,name:"matrixConfiguration",type:"text",readWrite:!1,validate:!0},{label:l.EFFECTIVE_DATE,name:"effectiveDate",type:"date",readWrite:!0,defaultValue:new Date,required:!0,validate:!0},{label:this.clientNLS.IMPACT,name:"impact",type:"select",readWrite:!0,defaultValue:void 0,values:void 0},{label:r.PROBABILITY,name:"probability",type:"select",readWrite:!0,defaultValue:void 0,values:void 0},{label:this.clientNLS.RPN,name:"rpnValue",type:"text",readWrite:!1},{label:l.HEAT_MAP,name:"heatmap",readWrite:!1,customView:o},{label:l.COMMENT,name:"comments",type:"textarea",readWrite:"true",numberOfDisplayLines:2,numberOfEditableLines:2,maxLength:150},{label:l.ESTIMATED_DATES,name:"estimatedStartDate",type:"startStop",readWrite:!0,startDateAttribute:"estimatedStartDate",startDateLabel:l.START,endDateAttribute:"estimatedFinishDate",endDateLabel:l.END,validate:!0},{label:this.clientNLS.CLASS_TYPE,name:"classType",type:"select",readWrite:!0,defaultValue:void 0,values:void 0}]},getDefaultCommentsConfig:function(){return{label:l.COMMENT,name:"comments",type:"textarea",readWrite:"true",numberOfDisplayLines:2,numberOfEditableLines:2,maxLength:150}},getDefaultImpactConfig:function(){return{label:this.clientNLS.IMPACT,name:"impact",type:"select",readWrite:!0,defaultValue:void 0,values:void 0}},getDefaultProbabilityConfig:function(){return{label:r.PROBABILITY,name:"probability",type:"select",readWrite:!0,defaultValue:void 0,values:void 0}},getImpactConfigForMatrix:function(t,i){let n=e.clone(i||{},!1).inValidRMC,a=t.Xaxis,o=a.nls[widget.lang]||a.name,l=s.formatRangeValuesForSelectView(a.nodes,"value",s.getconcatenatedActualDisplayValue);return{required:n,label:o,name:"impact",type:"select",readWrite:!0,defaultValue:n?"":l[0].actualValue,values:l,validate:!0}},getProbabilityConfigForMatrix:function(t,i){let n=e.clone(i||{},!1).inValidRMC,a=t.Yaxis,o=a.nls[widget.lang]||a.name,l=s.formatRangeValuesForSelectView(a.nodes,"value",s.getconcatenatedActualDisplayValue);return{required:n,label:o,name:"probability",type:"select",readWrite:!0,defaultValue:n?"":l[0].actualValue,values:l,validate:!0}},getDefaultImpactGoalConfig:function(){return{label:r.GOAL_IMPACT,name:"impactGoal",type:"select",readWrite:!0,defaultValue:void 0,values:void 0}},getDefaultProbabilityGoalConfig:function(){return{label:r.GOAL_PROBABILITY,name:"probabilityGoal",type:"select",readWrite:!0,defaultValue:void 0,values:void 0}},getImpactGoalConfigForMatrix:function(t,i){let n=e.clone(i||{},!1),a=n.inValidRMC,o=t.Xaxis,l=s.formatRangeValuesForSelectView(o.nodes,"value",s.getconcatenatedActualDisplayValue,n),c=a?"":l[0].actualValue;return{required:!1,label:r.GOAL_IMPACT,name:"impactGoal",type:"select",readWrite:!0,defaultValue:c,values:l,validate:!0}},getProbabilityGoalConfigForMatrix:function(t,i){let n=e.clone(i||{},!1),a=n.inValidRMC,o=t.Yaxis,l=s.formatRangeValuesForSelectView(o.nodes,"value",s.getconcatenatedActualDisplayValue,n),c=a?"":l[0].actualValue;return{required:!1,label:r.GOAL_PROBABILITY,name:"probabilityGoal",type:"select",readWrite:!0,defaultValue:c,values:l,validate:!0}},getDefaultMatrixConfig:function(){return{label:l.MATRIX_CONFIGURATION,name:"matrixConfiguration",type:"text",readWrite:!1,validate:!0}},getMultiValueMatrixConfig:function(e){return{required:!0,label:l.MATRIX_CONFIGURATION,name:"matrixConfiguration",type:"select",readWrite:!0,defaultValue:"",validate:!0,values:s.formatRangeValuesForSelectView(e,"id","title",{blankRange:!0})}}})}),define("DS/ENOProjectMgmtRskOppClientCommon/config/ClassificationChartConfig",["DS/ENOProjectMgmtCommonComponents/config/AppConfig","DS/ENOProjectMgmtCommonComponents/utils/CommonUtils"],function(e,t){"use strict";let i=new e;return{_uwaClassName:"ClassificationChartConfig",chart:{type:"bar",animation:{easing:t.easeInOutSineProjectMgmt}},credits:!1,title:!1,xAxis:{type:"category",tickLength:0,labels:{step:1,style:{width:"180px",overflow:"hidden",textOverflow:"ellipsis"}}},yAxis:{allowDecimals:!1,lineWidth:1,title:{text:null}},legend:{enabled:!1},tooltip:{pointFormat:"<b>{point.y}</b>",style:{textOverflow:"ellipsis"}},plotOptions:{bar:{animation:!0,cursor:"pointer",color:i.ChartsColor.ORANGE0_COLOR,dataLabels:{enabled:!0},point:{events:{click:function(){this.isEmpty||("Classification"===this.classType?this.series.chart.options.onClickCallBack("ds6w:what/ds6w:library",this.actualValue):this.series.chart.options.onClickCallBack("ds6w:how/ds6w:classification",this.actualValue))}}}}},series:[{dataSorting:{enabled:!0,sortKey:"y"},data:[]}]}}),define("DS/ENOProjectMgmtRskOppClientCommon/config/RskOppPropertiesConfigForMassUpdate",["UWA/Core","DS/ENOProjectMgmtCommonComponents/config/ConfigBase","i18n!DS/ENOProjectMgmtCommonComponents/assets/nls/ENOProjectMgmtCommonComponents","i18n!DS/ENOProjectMgmtRskOppClientCommon/assets/nls/ENOProjectMgmtRskOppClientCommon"],function(e,t,i,n){"use strict";let a=t.extend({_uwaClassName:"RskOppPropertiesConfigForMassUpdate",columnInfo:{},setup:function(){this.setColumnInfo()},type:"basic",values:[{label:i.DESCRIPTION,name:"description",type:"textarea",readWrite:!0,numberOfDisplayLines:2,numberOfEditableLines:2,maxLength:150,validate:!0},{label:i.EFFECTIVE_DATE,name:"effectiveDate",type:"date",readWrite:!0,defaultValue:new Date,validate:!0},{label:i.ESTIMATED_DATES,name:"estimatedStartDate",type:"startStop",readWrite:!0,startDateAttribute:"estimatedStartDate",startDateLabel:i.START,endDateAttribute:"estimatedFinishDate",endDateLabel:i.END,validate:!0},{label:i.MATURITY_STATE,name:"state",type:"select",readWrite:"true",defaultValue:void 0,mapFromRangeValue:!0,helpInfoFilter:"Project Risk",values:void 0,maxLength:26,validate:!0},{label:n.CLASS_TYPE,name:"classType",type:"select",readWrite:!0,defaultValue:void 0,values:void 0,validate:!0}]});return a._instance=a._instance||new a,a._instance}),define("DS/ENOProjectMgmtRskOppClientCommon/config/RskOppTrendChartConfig",["DS/ENOProjectMgmtCommonComponents/config/AppConfig","i18n!DS/ENOProjectMgmtRskOppClientCommon/assets/nls/ENOProjectMgmtRskOppClientCommon"],function(e,t){"use strict";let i=new e;return{_uwaClassName:"RskOppTrendChartConfig",goalXAxisField:"impactGoal",goalYAxisField:"probabilityGoal",goalLineDashStyle:"dash",goalLineDashColor:"#858585",goalLineDashWidth:"2",goalLineLabel:t.GOAL_RPN,chart:{type:"scatter",spacingLeft:0,events:{redraw:function(){let e=this.series[0].points[0];this.fontIcon&&(this.fontIcon.destroy(),this.fontIcon=void 0),this.fontIcon=this.renderer.text(e.fontIcon,e.plotX+this.plotLeft-7,e.plotY+this.plotTop+3,!0).add()}}},credits:!1,title:!1,exporting:!1,yAxis:{allowDecimals:!1,lineWidth:1,title:{text:t.RPN,style:{fontWeight:"bold",color:i.ChartsColor.BLUE4_COLOR}},max:30,min:0},xAxis:{type:"datetime",tickmarkPlacement:"on",minPadding:.1},tooltip:{headerFormat:"<b>{series.name}: {point.y} </b><br>",pointFormat:"{point.x:%A, %b %e, %Y} "},legend:{enabled:!1},plotOptions:{series:{lineWidth:2,color:i.ChartsColor.BLUE3_COLOR,step:"right",marker:{enabled:!0,radius:5}}},series:[{name:t.RPN,data:void 0}]}}),define("DS/ENOProjectMgmtRskOppClientCommon/config/TabConfigForCreate",["DS/ENOProjectMgmtCommonComponents/config/ConfigBase","DS/ENOProjectMgmtRskOppClientCommon/config/RskOppMembersConfigForCreate","DS/ENOProjectMgmtCommonComponents/config/ClassificationConfigForCreate","i18n!DS/ENOProjectMgmtCommonComponents/assets/nls/ENOProjectMgmtCommonComponents"],function(e,t,i,n){"use strict";return e.extend({_uwaClassName:"TabConfigForCreate",name:"create",type:"tab",columnInfo:{},setup:function(e){this.setValues(e),this.setColumnInfo()},setValues:function(e){this.values=[{name:n.PROPERTIES,key:"properties",selected:!0,include:"context,ownerInfo,originatorInfo,rmcActual,rmcGoverning",font:"properties",config:e.createConfig,checkFlag:!0},{name:n.CUSTOM_ATTRIBUTES,key:"customAttributes",selected:!1,font:"attributes",config:e.customAttributesConfig,checkFlag:!1},{name:n.MEMBERS,key:"members",selected:!1,font:"users",config:t,checkFlag:!1},{name:n.PLAN,key:"plan",selected:!1,font:"list-test",config:e.planConfig,checkFlag:!1},{name:n.RELATED_CONTENT,key:"relatedContent",selected:!1,font:"attach",config:e.contentConfig,checkFlag:!1},{name:n.CLASSIFICATION,key:"classification",selected:!1,font:"library-class",config:i,checkFlag:!1}]}})}),define("DS/ENOProjectMgmtRskOppClientCommon/config/TabConfig",["DS/ENOProjectMgmtCommonComponents/config/ConfigBase","DS/ENOProjectMgmtRskOppClientCommon/config/RskOppMembersConfig","DS/ENOProjectMgmtRskOppClientCommon/config/ActionButtonConfig","DS/ENOProjectMgmtCommonComponents/config/ClassificationConfig","i18n!DS/ENOProjectMgmtCommonComponents/assets/nls/ENOProjectMgmtCommonComponents"],function(e,t,i,n,a){"use strict";return e.extend({_uwaClassName:"TabConfig",name:"edit",type:"tab",actionButtonConfig:i,columnInfo:{},setup:function(e){this.setValues(e),this.addAdditionalValues(),this.setColumnInfo()},setValues:function(e){this.values=[{name:a.PROPERTIES,key:"properties",selected:!0,fields:"custom,title,name,typeicon,owner,deleteAccess,modifyAccess,promoteAccess,demoteAccess,fromConnectAccess,toConnectAccess,RMCConnectAccess,description,effectiveDate,impact,probability,impactGoal,probabilityGoal,rpnValue,rpnValueGoal,policy,rootCause,estimatedStartDate,estimatedFinishDate,classType,state,actualStartDate,actualFinishDate,originated,modified,context.title,context.name,context.image,context.project,context.thumbnail,ownerInfo.title,ownerInfo.name,ownerInfo.image,ownerInfo.firstname,ownerInfo.lastname,ownerInfo.company,project,projectTitle,originator,originatorInfo.firstname,originatorInfo.lastname,rmcActual.title,rmcGoverning.title,validConfiguration,organizationTitle,comments,estimatedBenefit,estimatedBenefitInputUnit",include:"context,ownerInfo,originatorInfo,rmcActual,rmcGoverning",font:"properties",config:e.propertiesConfig,checkFlag:!0},{name:a.CUSTOM_ATTRIBUTES,key:"customAttributes",selected:!1,font:"attributes",config:e.customAttributesConfig,checkFlag:!1},{name:a.MEMBERS,key:"members",selected:!1,fields:"assignees.title,assignees.name,assignees.image,assignees.firstname,assignees.lastname,changeOwnerAccess,informedUser.name,informedUser.firstname,informedUser.lastname,informedUser.image",include:"assignees,informedUser",font:"users",config:t,checkFlag:!1},{name:a.PLAN,key:"plan",selected:!1,fields:"mitigationType,actionPlanStatus,measureOfSuccess,abatement,realizationPlan,resolvedBy.title,resolvedBy.name,resolvedBy.image",include:"resolvedBy",font:"list-test",config:e.planConfig,checkFlag:!1},{name:a.RELATED_CONTENT,key:"relatedContent",selected:!1,fields:"associatedRisks.title,associatedRisks.name,associatedRisks.image,affectedItems.title,affectedItems.name,affectedItems.image,references.name,references.title,references.name,references.image,references.linkURL,references.description,associatedOpportunities.title,associatedOpportunities.name,associatedOpportunities.image,profileUsed.title,profileUsed.name,profileUsed.image",include:"associatedRisks,affectedItems,references,associatedOpportunities,profileUsed",font:"attach",config:e.contentConfig,checkFlag:!1},{name:a.CLASSIFICATION,key:"classification",selected:!1,font:"library-class",config:n,checkFlag:!1},{name:a.TREND,key:"riskTrend",selected:!1,font:"chart-line-single",checkFlag:!1},{name:a.RELATIONS_LABEL,key:"relations",selected:!1,showOnCreate:!1,font:"object-related",checkFlag:!1},{name:a.COMMENT,key:"comments",selected:!1,showOnCreate:!1,font:"comment",checkFlag:!1}]}})}),define("DS/ENOProjectMgmtRskOppClientCommon/config/TabConfigForMassUpdate",["DS/ENOProjectMgmtRskOppClientCommon/config/RskOppPropertiesConfigForMassUpdate","DS/ENOProjectMgmtCommonComponents/config/ConfigBase","i18n!DS/ENOProjectMgmtCommonComponents/assets/nls/ENOProjectMgmtCommonComponents"],function(e,t,i){"use strict";let n=t.extend({_uwaClassName:"TabConfigForMassUpdate",columnInfo:{},setup:function(){this.setColumnInfo()},name:"create",type:"tab",values:[{name:i.PROPERTIES,key:"properties",selected:!0,font:"attributes",config:e,checkFlag:!0}]});return n._instance=n._instance||new n,n._instance}),define("DS/ENOProjectMgmtRskOppClientCommon/config/RskOppListConfig",["UWA/Core","DS/ENOProjectMgmtModels/Utils/SearchUtil","DS/ENOProjectMgmtModels/Models/FieldsDefinition","DS/ENOProjectMgmtCommonComponents/utils/CommonUtils","DS/ENOProjectMgmtCommonComponents/config/ConfigBase","DS/ENOProjectMgmtCommonComponents/config/DefaultGridConfig","DS/ENOProjectMgmtRskOppClientCommon/constants/Constants","i18n!DS/ENOProjectMgmtCommonComponents/assets/nls/ENOProjectMgmtCommonComponents","i18n!DS/ENOProjectMgmtRskOppClientCommon/assets/nls/ENOProjectMgmtRskOppClientCommon","css!DS/ENOProjectMgmtCommonComponents/ENOProjectMgmtCommonComponents.css","css!DS/ENOProjectMgmtRskOppClientCommon/ENOProjectMgmtRskOppClientCommon.css"],function(e,t,i,n,a,o,s,l,r){"use strict";let c={0:s.EMPTY_CIRCLE,1:s.QUARTERFILLED_CIRCLE,2:s.HALFFILLED_CIRCLE,3:s.THREEQUARTERFILLED_CIRCLE},m=function(e){let t=e.cellView,i=t&&t.elements.container.getElement(".wux-tweakers");if(i&&i.setAttribute("has-badge",!0),e.nodeModel){let t=e.nodeModel.model;if(t){let e=t.get("state");return"object-maturity "+(e&&e.toLowerCase()||"")}}};return a.extend({_uwaClassName:"RskOppListConfig",type:"list",columnInfo:{},customContentColumnInfo:{},options:{excludeAutoDeploy:!0},getGridConfig:function(t){let i=e.clone(o),n=e.merge({typeicon:!1,impact:!1,probability:!1,classType:!1,measureOfSuccess:!1},t||{});return i.cellDragEnabledFlag=!0,i.virtuallyLoadAllModelItems=!1,i.identifier="ListGridView",i.customViews=[{identifier:"AppList View",layoutDensity:"comfortable",columnsVisibleFlag:n,columnsWidth:{tree:"auto",name:125,description:175,context:175,rpnValue:110,modified:200,assignees:200,ownerInfo:200,state:225},columnsSortModel:[{dataIndex:"modified",sort:"desc"}],isDefault:!0}],i.statusBarOptions=this.getStatusBarOptions(),i},setup:function(e){this.clientNLS=e,this.setValues(e),this.addAdditionalValues(),this.gridConfig=this.getGridConfig(),this.setColumnInfo()},registerReusableCellContent:[{id:"assigneesContent",buildContent:function(){return e.createElement("div",{class:"grid-users-list"})}},{id:"rpnValueContent",buildContent:function(){return e.createElement("div",{class:"object-rating"})}}],getCellTooltip:function(e){let t;if(e.nodeModel&&(t=this.getColumnOrGroup(e.columnID)),t&&"mitigationType"===t.dataIndex){let t=e.nodeModel.model,n=t.get("actionPlanStatus")||"0";return{shortHelp:i.getFieldDefinitionColumn(t.getFieldDefinitionSource(),"actionPlanStatus").fieldDefinitionRangeItem[n].display,updateModel:!1}}return this.getCellDefaultTooltip(e)},updateImpactProbabiltyConfig:function(e){let t=n.findObject(this.values,"dataIndex","impact"),i=n.findObject(this.values,"dataIndex","probability"),a=this.clientNLS.IMPACT,o=r.PROBABILITY;e&&(a=e.Xaxis.nls[widget.lang]||e.Xaxis.name,o=e.Yaxis.nls[widget.lang]||e.Yaxis.name),t.text=a,i.text=o},getContextFields:function(){return"none,custom,name,title,image,typeicon,riskCreateAccess,project,thumbnail,configuration.title,configuration.name"},getContextIncludeFields:function(){return"none,configuration"},setValues:function(n){this.values=[{text:l.TITLE,key:"title",dataIndex:"tree",initialFields:"custom,title,typeicon,validConfiguration,contextValidConfiguration",initialInclude:"rmcActual",fields:"modifyAccess,deleteAccess,promoteAccess,demoteAccess,fromConnectAccess,toConnectAccess,RMCConnectAccess,isSimpleTask",minWidth:"150",icon:""},{text:l.NAME,initialFields:"name",dataIndex:"name"},{text:l.ROOTCAUSE,fields:"rootCause",dataIndex:"rootCause"},{text:l.DESCRIPTION,fields:"description",dataIndex:"description",massUpdateAllowedFlag:!0},{text:l.CONTEXT,include:"context,configuration,rmcActual,rmcGoverning",fields:"context.title,context.name,context.image,context.thumbnail,context.project,configuration.title,configuration.name,configuration.image,rmcActual.name,rmcActual.title,rmcGoverning.name,rmcGoverning.title",dataIndex:"context",typeRepresentation:"string",getCellValue:function(e){let t=e.nodeModel.model,i=t&&t.getContextModel();return i&&i.get("title")||"--"},getCellClassName:function(e){if(e.nodeModel)return"object-context"},getCellSemantics:function(e){let t="",i=e.nodeModel.model,n=i&&i.get("context"),a=n&&n.at(0);return a&&(t={icon:a.get("image"),label:a.get("title")}),t}},{text:n.RPN,fields:"rpnValue",dataIndex:"rpnValue",typeRepresentation:"number",alignmentValue:"center",customContentId:"rpnValueContent",onCellRequest:function(e){let t=e.nodeModel.model,i=t.get("rpnValue");if(i){let n=this.reuseCellContent("rpnValueContent");n.empty();let a=this.options.matrixConfigCollection,o=a&&a.getMatrixConfigById(t.getRMCActualId());if(t&&o){let e=t.getRiskSeverityInfo(o),a=e&&e.backgroundColor,s=e&&e.textColor;n.set({text:Number(i),styles:{color:s,background:a}})}e.cellView._setReusableContent(n)}}},{text:l.ACTION_PLAN,initialFields:"mitigationType",fields:"actionPlanStatus",dataIndex:"mitigationType",typeRepresentation:"string",minWidth:"120",getCellValue:function(e){let t=e.nodeModel.model,n=t.get("mitigationType");return i.getFieldDefinitionColumn(t.getFieldDefinitionSource(),"mitigationType").fieldDefinitionRangeItem[n].display},getCellClassName:function(e){if(e.nodeModel)return"object-context"},getCellSemantics:function(e){let t=e.nodeModel.model,n=t.get("actionPlanStatus")||"0";return{icon:c[n]||s.FILLED_CIRCLE,label:i.getFieldDefinitionColumn(t.getFieldDefinitionSource(),"actionPlanStatus").fieldDefinitionRangeItem[n].display}}},{text:n.IMPACT,initialFields:"impact",dataIndex:"impact",typeRepresentation:"number"},{text:r.PROBABILITY,initialFields:"probability",dataIndex:"probability",typeRepresentation:"number"},{text:r.MEASURE_OF_SUCCESS,initialFields:"measureOfSuccess",dataIndex:"measureOfSuccess"},{text:n.CLASS_TYPE,initialFields:"classType",dataIndex:"classType",massUpdateAllowedFlag:!0},{text:l.MODIFICATION_DATE,initialFields:"modified",dataIndex:"modified",alignmentValue:"center",typeRepresentation:"datetime"},{text:l.ASSIGNEES,fields:"assignees,assignees.name,assignees.firstname,assignees.lastname",include:"assignees",dataIndex:"assignees",typeRepresentation:"string",customContentId:"assigneesContent",onCellRequest:function(i){var n=this.reuseCellContent("assigneesContent");n.empty();let a=i.nodeModel.model,o=a&&a.get("assignees"),s=o&&o.length;s&&o.forEach(function(i){let a=i.id,o=i.getFullName(),l=e.createElement("div",{class:"grid-user-image"});e.createElement("img",{draggable:"true","data-id":a,title:o,class:"grid-user-image-img",src:t.userPictureURL(i.get("name"),"normal")}).inject(l),l.inject(n),1===s&&e.createElement("span",{"data-id":a,html:o,title:o,class:"wux-tweakers-string-label"}).inject(n)}),i.cellView._setReusableContent(n)}},{text:l.OWNER,fields:"owner,ownerInfo.name,ownerInfo.firstname,ownerInfo.lastname",include:"ownerInfo",dataIndex:"ownerInfo",typeRepresentation:"string",getCellValue:function(e){let t=e.nodeModel.model,i=t&&t.get("ownerInfo");return i&&i.length?i.at(0).get("fullName"):""},getCellClassName:function(e){if(e.nodeModel)return"object-owner"},getCellSemantics:function(e){let t=e.nodeModel.model,i=t&&t.get("ownerInfo");return t&&{icon:t.getOwnerUrl(),label:i&&i.length?i.at(0).get("fullName"):""}}},{text:l.MATURITY_STATE,initialFields:"state",dataIndex:"state",mapFromRangeValue:!0,getCellClassName:m,massUpdateAllowedFlag:!0,getCellValue:function(e){let t=e.nodeModel.model,i=this.layout.getDataIndexFromColumnIndex(e.columnID),n=this.options.viewConfig.getFieldDefinitionRangeData(t,i,this.config.columnInfo[i].helpInfoFilter,!0);return n&&n.display}}]}})}),define("DS/ENOProjectMgmtRskOppClientCommon/utils/RskOppCloneModel",["UWA/Core","DS/ENOProjectMgmtRskOppClientCommon/config/RskOppMembersConfig","DS/ENOProjectMgmtRskOppClientCommon/config/RskOppMembersConfigForCreate","DS/ENOProjectMgmtModels/Models/AppSettings","DS/ENOProjectMgmtModels/Models/SaveModels","DS/ENOProjectMgmtCommonComponents/utils/Constants","DS/ENOProjectMgmtCommonComponents/utils/CommonUtils","DS/ENOProjectMgmtCommonComponents/components/CustomAlert","DS/ENOProjectMgmtCommonComponents/utils/ProjectMgmtCloneModel","i18n!DS/ENOProjectMgmtCommonComponents/assets/nls/ENOProjectMgmtCommonComponents"],function(e,t,i,n,a,o,s,l,r,c){"use strict";let m=["impact","probability","impactGoal","probabilityGoal"],d=["impact","probability","rpnValue","comments","impact_displayValue","probability_displayValue"];return r.extend({_uwaClassName:"RskOppCloneModel",init:function(){this._parent.apply(this,arguments);let n=e.clone(arguments[1]||{},!1);this.matrixConfigCollection=n.matrixConfigCollection,this.isRiskTypeObject="Risk"===this.model.type,this.MembersConfig=this.isNew?i:t},add:function(t,i,n){var a=e.clone(n||{},!1);let o=a.config;a.sourceType=o.sourceType||"risk",this.updateConfigValidate(a),this._parent(t,i,a)},dataForRendering:function(){let e=this._parent.apply(this,arguments);return e.effectiveDate=this.get("effectiveDate"),e.actualStartDate=this.get("actualStartDate"),e.actualFinishDate=this.get("actualFinishDate"),e.estimatedStartDate=this.get("estimatedStartDate"),e.estimatedFinishDate=this.get("estimatedFinishDate"),e},remove:function(){this.updateConfigValidate(arguments[2]),this._parent.apply(this,arguments)},validate:function(t,i){let n=!0,o={fields:[],messages:{}};if(this.model instanceof a){let e=this._options.config.values;for(let t in e)if(n){if(!e.hasOwnProperty(t))continue;let i=e[t];if(i.validate&&"object"===i.type){let e=this.get(i.name);e&&e.length||(n=!1)}}}else{let a=this.get("rmcTitle"),s=this._attributesGet(t,"title"),l=this._attributesGet(t,"context"),r=this._attributesGet(t,"matrixConfiguration"),m=this._attributesGet(t,"impact"),d=this._attributesGet(t,"probability"),u=this.getDateFieldValue("effectiveDate",t),p=this.isValidString(s),C=l&&l.length,g=this.getInvalidRMCTitle(),f=this.isValidString(m),h=this.isValidString(d),b=this.validateMatrixConfig(r),M={validRMCTitle:a,inValidRMCTitle:g,isMatrixConfigValid:b};if(n&&!p&&(n=!1,o.fields.push("title")),n&&!C&&(n=!1,o.fields.push("context")),n&&!b&&(n=!1,o.fields.push("matrixConfiguration"),g&&(o.messages.matrixConfiguration=c.replace(c.INVALID_RMC_MESSAGE,{inValidRMCTitle:g}))),n&&(e.extend(M,{fieldName:"impact",isValidFieldValue:f}),this.validateImpactAndProbabilityField(o,M),e.extend(M,{fieldName:"probability",isValidFieldValue:h}),this.validateImpactAndProbabilityField(o,M),this.isRiskTypeObject&&this.validateGoalAttributes(t,o,M),n=Boolean(!o.fields.length)),n&&!u&&(n=!1,o.fields.push("effectiveDate")),n)if(this.validationError&&i&&"startStop"!==i.type){let e=this.validationError.fields.includes("estimatedStartDate"),t=this.validationError.fields.includes("estimatedFinishDate");e?(n=!1,o.fields.push("estimatedStartDate")):t&&(n=!1,o.fields.push("estimatedFinishDate"))}else n=this.validateStartEndDates(t,o,i)}return this.dispatchEvent("disableSaveButton",!n),n?this.dispatchEvent("onValidationSuccess")&&void 0:o},validateGoalAttributes:function(t,i,n){let a=e.clone(n||{},!1),o=this._attributesGet(t,"impactGoal"),s=this._attributesGet(t,"probabilityGoal"),l=this.isValidString(o)&&("0"===s||"0"!==o),r=this.isValidString(s)&&("0"===o||"0"!==s);e.extend(a,{fieldName:"impactGoal",isValidFieldValue:l}),this.validateImpactAndProbabilityField(i,a),e.extend(a,{fieldName:"probabilityGoal",isValidFieldValue:r}),this.validateImpactAndProbabilityField(i,a)},validateImpactAndProbabilityField:function(t,i){let n=e.clone(i||{},!1),a=this.get(n.fieldName+"_displayValue");n.isMatrixConfigValid&&!n.isValidFieldValue&&(t.fields.push(n.fieldName),n.inValidRMCTitle&&n.validRMCTitle&&a&&(t.messages[n.fieldName]=c.replace(c.INVALID_RMC_ATTRS_MESSAGE,{rmcAttrValue:a,inValidRMCTitle:n.inValidRMCTitle,validRMCTitle:n.validRMCTitle})))},getInvalidRMCTitle:function(){let e=this.get("inValidRMCTitle");if(!e){if(!this.model.isValidConfiguration()){let t=this.model.get("rmcActual"),i=t&&t.length&&t.at(0);e=i&&i.title}}return e},validateMatrixConfig:function(e){if(!e){if(this.model.isValidConfiguration()){let t=this.model.get("rmcActual"),i=t&&t.length&&t.at(0);e=i&&i.id}}return this.isValidString(e)},isValidString:function(t){return Boolean(e.is(t,"string")&&t&&t.trim().length)},get:function(e){let t=this._parent.apply(this,arguments);if(t)switch(e){case"effectiveDate":case"actualStartDate":case"actualFinishDate":case"estimatedStartDate":case"estimatedFinishDate":t=t&&s.getIntlDateFormat(t);break;case"estimatedBenefitInputUnit":t=this.model.getUOMInputIndex(t)}return t},set:function(e,t,i){this.updateConfigValidate(i);let n=this._parent.apply(this,arguments);return m.includes(e)&&i&&!i.doNotResetRelatedAttrs&&(delete i.whisper,this._setRPNValue(e,t,i)),n},getRPNFieldValue:function(e,t){let i;if(e=Number(e),t=Number(t),!isNaN(e)&&!isNaN(t)){let n=this.model.getRMCActualId();if(n){let a=this.matrixConfigCollection&&this.matrixConfigCollection.getMatrixConfigById(n);i=this.model.getRPNValue(a,e.toString(),t.toString())}}return i||""},_setRPNValue:function(e,t,i){let n,a;switch(e){case"impact":case"probability":n=this.get("impact"),a=this.get("probability");break;case"impactGoal":case"probabilityGoal":n=this.get("impactGoal"),a=this.get("probabilityGoal")}this.setRPNAttrs(this.getRPNFieldValue(n,a),i)},setRPNAttrs:function(e,t){let i=t.name;if("impactGoal"===i||"probabilityGoal"===i)this.set("rpnValueGoal",e,{config:t});else{let i=!e&&this.model.get("comments")||"";this.set("rpnValue",e||this.model.get("rpnValue")),t&&this.set("comments",i,{config:t})}},updateConfigValidate:function(e){if(e&&!this.isNew){let t=e.config||e;if(!t.validate){let e=this.model.isValidConfiguration();e||t&&(t.validate=!e)}}},getMatrixAxisDisplayValue:function(e,t){if(t){let i=this.model.get(e),n=t.get("matrix"),a="impact"===e||"impactGoal"===e?n.Xaxis:n.Yaxis,o=s.findObject(a.nodes,"value",i);return{actualValue:i,displayValue:o&&i+"-"+(o.nls[widget.lang]||o.label)}}},getNLSMessageForCreateError:function(e){let t,i=this.isNew,n=e.get("project");if(e.isXPlanObject()&&!n)t=c.COLLAB_SPACE_SELECT_ERROR;else if(!e.canCreate()){switch(e.type){case o.PROJECT:t=i?c.NO_DPMPROJECT_CREATE_ACCESS:c.NO_DPMPROJECT_CHANGE_CONTEXT_ACCESS;break;case o.XPROJECT:t=i?c.NO_XPROJECT_CREATE_ACCESS:c.NO_XPROJECT_CONTEXT_CHANGE_ACCESS;break;default:t=i?c.NO_CREATE_ACCESS_TT_MSG:c.NO_CHANGE_CONTEXT_ACCESS_TT_MSG}}return t},handleContextOnSync:function(e,t){let i=e.fieldName,n=e.contextOptions,a=this.getNLSMessageForCreateError(t);a?l.buildNotification({title:this.isNew?c.CANNOT_CREATE:c.CHANGE_CONTEXT,message:a,hideDelay:3500},"error"):(n.changed=Boolean(!a),this.setRelatedItemData(i,t,n))},handleOnProfileSync:function(e,t){t.hasActiveTemplate()?(e.contextOptions.changed=!0,this.setRelatedItemData(e.fieldName,t,e.contextOptions)):l.buildNotification({message:c.PROFILE_HAS_ACTIVE_TEMPLATE_ERROR,hideDelay:3500},"error")},postAddRemoveContextMatrixConfig:function(t,i,n){let a,o,s=d;(t=t instanceof e.Class.Model?t:"")&&(a=t.id,o=t.get("title")),this.model.set({rmcId:a,rmcTitle:o}),n||(s=s.concat("matrixConfiguration"),this.model.set("matrixConfiguration",o)),this.clearLocalAttributes(s),i&&Object.keys(i).length&&this.set(i),this.updateDetailsDisplay(Object.keys(this.localAttributes).length)}})});