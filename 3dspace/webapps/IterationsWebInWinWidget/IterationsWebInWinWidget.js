define("DS/IterationsWebInWinWidget/IterationsWebInWinWidget",["UWA/Controls/Abstract","DS/ENO6WPlugins/jQuery","DS/WAFData/WAFData","DS/LifecycleServices/LifecycleServices","DS/WebInWinHelper/WebInWinHelper","DS/IterationsWidget/IterationsWidget","DS/LifecycleServices/LifecycleServicesSettings"],function(e,i,t,n,o,s,a){"use strict";return e.extend({defaultOptions:{wintop:!1,addinmode:null},webToWinCom_Socket:null,ContextualMenus:null,context:null,init:function(e,i,t){this.widget=e,this.context=this,this.options=t,this.isWebInWinODTMode=!!t.isWebInWinODTMode,t.isWebInWinODTMode&&(window.IterationsWebInWinPayload=t.IterationsWebInWinPayload),o.initTenant(this),o.getServices(this),this.contextMenuObject=null,1==this.options.wintop&&(this.webToWinCom_Socket=o.createWebInWinSocket("webinwiniteration_socket_")),this.options.webToWinComSocket=this.webToWinCom_Socket,window._webinwincom_socket=this.webToWinCom_Socket,this.parentWidget=i,this._parent(t);var n=UWA.createElement("div",{class:"webinwin_iteration_frame",id:"webinwiniteration"});this.elements.container=n,n.style.width="100%",n.style.height="100%",n.dataset.webinwinSocket=this.options.webToWinComSocket,console.log("options.addinmode: "+t.addinmode),this.addinmode=null,t.addinmode&&(this.addinmode=t.addinmode),this.iterationWidget=new s(this.widget,this.parentWidget,this.options)},initDatafromWin:function(e){var i=this,t=[];o.setCSOSelectionIteration(i.webToWinCom_Socket,e),e.forEach(function(e){var n={physicalid:e.physicalId,name:e.name,tenant:i.tenant};t.push(n)}),t.length>0&&(i.selectedObj=t[0]);var s=i.elements.container;if(s)for(;s.hasChildNodes();)s.removeChild(s.lastChild);i.addinmode&&"catiav5"===i.addinmode.toLowerCase()?a.app_initialization(function(){n.getSecurityContextPromise(i.tenant).then(function(e){i.options.securityContext=e,i.iterationWidget.buildWebInWinUI(i.webToWinCom_Socket,i.isWebInWinODTMode,i.addinmode),i.iterationWidget.setObject(i.selectedObj),i.iterationWidget.inject(i.elements.container)})}):o.sendGetLicenseNotif(i.webToWinCom_Socket)},onLicenseList:function(e){var i=this,t=[];if(0!=e.length)for(var o=0;o<e.length;o++){var s={license:e[o].license,authorized:e[o].authorized};t.push(s)}t.length>0&&(window._licenseList=t),n.getSecurityContextPromise(i.tenant).then(function(e){i.options.securityContext=e,i.iterationWidget.buildWebInWinUI(i.webToWinCom_Socket,i.isWebInWinODTMode,i.addinmode),i.iterationWidget.setObject(i.selectedObj),i.iterationWidget.inject(i.elements.container)})},onResize:function(){},onRefresh:function(){},initEnvfromWin:function(e){}})});