define("DS/DELWKOApplicationServices/Commands/CommandsServiceCloud",["UWA/Core","DS/CoreEvents/Events","DS/DELPPWModelServices_FD02/ModelUtils","DS/DELPPWServices_FD02/CommandsService/CommandsService","DS/DELPPWNavigationServices_FD02/SwitchDBModeManager"],function(e,n,t,i,s){"use strict";return function(a){var o,r=[],c=[],u="CommandsService",m=function(e,n){o.notifyApp(e,n)},l=function(e,n){o.toggleModule(e,n)},d=function(){o.initState()},g=function(){var e,n,t,i,s,r,c=a.getPlugins("SelectionPlugin");c?(n=(e=c.instance.getSelections("CMDS"))[0]||[],t=e[1]||[],s=e[2]||[],r=e[3]||[],i=[],o.manageCommandsAvailability(t,i,s,n,r)):a.getLogger().debug(u,"Selection Plugin is not available.")},C=function(){o.manageDocCmdAvailability()},P=function(e){o.toggleCmdCheckHeaderState(e)},b=function(){g(),a.getPlugins("SelectionPlugin").instance.getSelections("CMDS")[0]},h=function(){o.authoringCmdAvailability()},E=function(){var n=[],t=a.getPlugins("SelectionPlugin");e.is(t)&&t.isStarted&&(n=(n=t.instance.getSelectionsWithPaths("CMDS")).reduce(function(e,n){return e=e.concat(n)},[]),m("LoadRelations",[n]))},p=function(){var e=a.getPlugins("TreeViewPlugin");e?(e=e.instance).isGroupingExist()?o.manageCommandsAvailabilityOnGrouping():g():a.getLogger().debug(u,"TreeView Plugin is not available.")};return o=new i(a),e.extend(o,{manageConfigurationCommands:function(n){var t,i=n||{},s=!!e.is(i.isLicenseCFGValid,"boolean")&&i.isLicenseCFGValid,a=!!e.is(i.isRoot,"boolean")&&i.isRoot,r=e.is(i.auxLength,"number")?i.auxLength:0,c=e.is(i.processViewLength,"number")?i.processViewLength:0,u=e.is(i.routingsViewLength,"number")?i.routingsViewLength:0,m=e.is(i.resourceViewLength,"number")?i.resourceViewLength:0,l=e.is(i.selectedItemsCount,"number")?i.selectedItemsCount:0,d=(!!e.is(i.isAuthoring,"boolean")&&i.isAuthoring,!!e.is(i.isCrossLevel,"boolean")&&i.isCrossLevel),g=r>0;t=!g&&!(m>0)&&(u>0||c>0),o.setCommandState("EditConfigurationContext",s&&t),1===l&&(o.setCommandState("DefineFilter",a&&!g),o.setEffectivityCmdState("EditEvolution",s&&!a&&t)),o.setEffectivityCmdState("EditVariant",s&&!a&&t&&!d)},manageReplaceCommandsAvailablity:function(e){var n=e.isRoot,t=e.auxiliaryViewLength,i=e.routingsViewLength;this.setCommandState("ReplaceByLatestRevision",!n&&t<1&&i>0),this.setCommandState("ReplaceByNewRevision",!n&&t<1&&i>0),this.setCommandState("ReplaceByExisting",!n&&t<1&&1===i),this.setCommandState("ReplaceByNewReference",!n&&t<1&&1===i)},getInsertAsCommands:function(n){var t,i,s,o=[];return s=a.getPlugins("DatabasePlugin"),e.is(n)&&e.is(s)&&s.isStarted&&(t=s.instance.getValidChildTypes(n),e.is(t)&&t.length>0&&(i=n.get("PPRTYPE"),["SYSTEM","OPERATION"].indexOf(i)>-1&&o.push("InsertAsCopy"),["SYSTEM","OPERATION","PROCESS","RESOURCE"].indexOf(i)>-1&&o.push("SearchAndAddInstanceCommand"))),o},manageCommandsAvailability:function(n,i,r,c,m){var l,d,g,C,P,b,h,E,p,L,f,v,D,S=this,R=0,A=0,y=0,W=0,w=0,O=0,I=0,V=0,x=a.getPlugins("DatabasePlugin"),T=a.getPlugins("DicoPlugin"),M=s.isDbMode()||t.getNavigateOnDatabasePreference();x&&T?(x=x.instance,T=T.instance,i=i||[],r=r||[],c=c||[],m=m||[],R=(n=n||[]).length,y=i.length,A=m.length,d=r.length,e.is(r,"array")&&r.forEach(function(n){l=x.getReferenceModel(n),e.is(l)&&("PART"===(f=l.get("PPRTYPE"))||"PRODUCT"===f?y++:"PROCESS"===f?R++:"SYSTEM"===f?W++:"RESOURCE"===f?A++:"OPERATION"===f?w++:"WORKINSTRUCTION"===f?O++:"WORKORDER"===f?I++:"EXECHEADER"===f&&V++)}),e.is(c,"array")&&c.forEach(function(n){l=x.getReferenceModel(n),e.is(l)&&("SYSTEM"===(f=l.get("PPRTYPE"))?W++:"OPERATION"===f?w++:"WORKINSTRUCTION"===f?O++:"WORKORDER"===f?I++:"EXECHEADER"===f&&V++)}),C=R+y+W+A+w+O+I+V,E=S.getSelectedRoots([n,i,c,m,r]),1>C?S.setAllCommandsState("none"):1===C?(1!==W&&1!==w||(L=S.getCommandsAvailability("one.system"),l=x.getReferenceModel(c[0]),!0!==T.isAKindOf(l,"DELLmiWorkPlanSystemReference")&&!0!==T.isAKindOf(l,"DELLmiQtyControlProcessReference")||L.enabled.push("CreateCapableResourceStructureLink"),!0!==T.isAKindOf(l,"DELLmiWorkPlanSystemReference")&&!0!==T.isAKindOf(l,"DELLmiHeaderOperationReference")&&!0!==T.isAKindOf(l,"DELLmiLoadingOperationReference")&&!0!==T.isAKindOf(l,"DELLmiGeneralOperationReference")||L.enabled.push("BuildUp")),1===O&&(L=S.getCommandsAvailability("one.workInstruction")),1===A&&(L=S.getCommandsAvailability("one.resource")),1===R&&(L=S.getCommandsAvailability("one.process")),1===y&&(L=S.getCommandsAvailability("one.product")),1===I&&(L=S.getCommandsAvailability("one.workorder")),1===V&&(L=S.getCommandsAvailability("one.execHeader")),e.is(L)&&(b=n[0]||c[0]||m[0]||r[0],P=x.getReferenceModel(b),e.is(P)&&(p=S.getValidChildTypeCommands(P),L.enabled=L.enabled.concat(p),p=S.getInsertAsCommands(P),L.enabled=L.enabled.concat(p)),S.setAllCommandsState(L))):1<C&&(C===y?S.setAllCommandsState("multiple.product"):C===R?(S.setAllCommandsState("multiple.process"),L=S.getCommandsAvailability("multiple.process")):C===W+w?S.setAllCommandsState("multiple.system"):C===O?S.setAllCommandsState("multiple.workInstruction"):C===A?(S.setAllCommandsState("multiple.resource"),L=S.getCommandsAvailability("multiple.resource")):C===I?S.setAllCommandsState("multiple.workorder"):C===V?S.setAllCommandsState("multiple.execHeader"):(S.setAllCommandsState("multiple.mixed"),L=S.getCommandsAvailability("multiple.mixed")),E.length!==C&&0!==E.length&&S.setCommandState("Delete",!1)),S.setCommandState("CreateLink",!0),S.setCommandState("CreateInstance",!0),h=E.length>0,v=C>0&&E.length===C&&y<1,S.setCommandState("Hide",h),S.setCommandState("DeleteHdr",v),S.setCommandState("DetachInstance",!h&&y<1&&C>0),S.manageReplaceCommandsAvailablity({isRoot:h,auxiliaryViewLength:r.length,mfgItemsViewLength:n.length,routingsViewLength:c.length}),S.manageDocCmdAvailability(),S.groupingViewCmdAvailability(R,y,d),g=function(){var t,i,s,a,o=!1;if(c.length>0){t=x.getInstance(c[0]),e.is(t)&&(t=t.get("isAggregatedBy"));for(let n=0;n<c.length;n++)if(i=x.getInstance(c[n]),e.is(i)&&(i=i.get("isAggregatedBy")),t!==i){o=!0;break}}else if(n.length>0){s=x.getInstance(n[0]),e.is(s)&&(s=s.get("isAggregatedBy"));for(let t=0;t<n.length;t++)if(a=x.getInstance(n[t]),e.is(a)&&(a=a.get("isAggregatedBy")),s!==a){o=!0;break}}return o},e.is(L)&&e.is(L.disabled)&&L.disabled.forEach(e=>{S.setCommandState(e,!1)}),C>0&&(D={isLicenseCFGValid:o._isLicenseCFGValid,isRoot:h,auxLength:r.length,processViewLength:n.length,routingsViewLength:c.length,resourceViewLength:m.length,selectedItemsCount:C,isAuthoring:M,isCrossLevel:g()},S.manageConfigurationCommands(D)),n.length>0&&this.manageCommandsAvailabilityForReadOnlyTypes(n)):a.getLogger().debug(u,"Database or Dico  Plugin is not available.")}}),{onStart:function(e){r.push(a.addExternalListener("select",b)),r.push(a.addExternalListener("toggleCmdCheckHeaderState",P)),r.push(a.addExternalListener("authoringMode",g)),r.push(a.addExternalListener("actionBarReady",d)),r.push(a.addExternalListener("manageDocCmdAvailability",C)),r.push(a.addExternalListener("endEdit",h)),r.push(a.addExternalListener("manageCommandsOnGrouping",p)),r.push(a.addExternalListener("createInstance",g)),c.push(n.subscribe({event:"DELPPWCommands/LandingPage"},function(e){m("ShowLandingPage",e)})),c.push(n.subscribe({event:"DELPPWCommands/Hide"},function(e){m("Hide",e)})),c.push(n.subscribe({event:"DELPPWCommands/HideAll"},function(e){m("HideAll",e)})),c.push(n.subscribe({event:"DELPPWCommands/Relations"},function(e){l("LINKS",e)})),c.push(n.subscribe({event:"DELPPWCommands/ShowLogPanel"},function(e){m("ShowLogPanel",e)})),c.push(n.subscribe({event:"DELPPWCommands/DisplayProperties"},function(e){l("PROPERTIES",e)})),c.push(n.subscribe({event:"DELPPWCommands/CreateCapableResourceStructureLink"},function(e){m("CreateCapableResourceStructureLink",e)})),c.push(n.subscribe({event:"DELPPWCommands/CreateLink"},function(e){m("CreateLink",e)})),c.push(n.subscribe({event:"DELPPWCommands/CreateInstance"},function(e){m("CreateInstance",e)})),c.push(n.subscribe({event:"DELPPWCommands/CreateLinkOrInstance"},function(e){m("CreateLinkOrInstance",e)})),c.push(n.subscribe({event:"DELPPWCommands/CreateWorkOrderFromProcess"},function(e){m("CreateWorkOrderFromProcessCmd",e)})),c.push(n.subscribe({event:"DELPPWCommands/InsertCmd"},function(e){m("InsertCmd",e)})),c.push(n.subscribe({event:"DELPPWCommands/DuplicateAdv"},function(e){m("DuplicateAdvCmd",e)})),c.push(n.subscribe({event:"DELPPWCommands/Delete"},function(e){m("Delete",e)})),c.push(n.subscribe({event:"DELPPWCommands/DetachInstance"},function(e){m("DetachInstance",e)})),c.push(n.subscribe({event:"DELPPWCommands/SearchAndAddInstanceCommand"},function(e){m("searchAndAddInstance",e)})),c.push(n.subscribe({event:"DELPPWCommands/InsertAsCopy"},function(e){m("InsertAsCopy",e)})),c.push(n.subscribe({event:"DELPPWCommands/ReplaceByLatestRevision"},function(e){m("ReplaceByLatestRevision",e)})),c.push(n.subscribe({event:"DELPPWCommands/ReplaceByExisting"},function(e){m("ReplaceByExisting",e)})),c.push(n.subscribe({event:"DELPPWCommands/ReplaceByNewRevision"},function(e){m("ReplaceByNewRevision",e)})),c.push(n.subscribe({event:"DELPPWCommands/ReplaceByNewReference"},function(e){m("ReplaceByNewReference",e)})),c.push(n.subscribe({event:"DELPPWCommands/ShowGraphView"},function(e){l("EGRAPHMOD",e)})),c.push(n.subscribe({event:"DELPPWCommands/ProductFlowCmd"},function(e){l("PRODUCTFLOWMOD",e)})),c.push(n.subscribe({event:"DELPPWCommands/MaturityCmdCloud"},function(e){l("MATURITYMOD",e)})),c.push(n.subscribe({event:"DELPPWCommands/ToggleAuxiliaryView"},function(e){m("toggleAuxPanel",e)})),c.push(n.subscribe({event:"DELPPWCommands/ManageCapableResources"},function(e){l("MANAGECAPABLERESOURCESMOD",e)})),c.push(n.subscribe({event:"DELPPWCommands/ItemsView"},function(e){m("ItemsView",e)})),c.push(n.subscribe({event:"DELPPWCommands/ResourcesView"},function(e){m("ResourcesView",e)})),c.push(n.subscribe({event:"DELPPWCommands/WorkOrderView"},function(e){m("WorkOrderView",e)})),c.push(n.subscribe({event:"DELPPWCommands/BuildUp"},function(e){m("BuildUp",e)})),c.push(n.subscribe({event:"DELPPWCommands/AttachDocument"},function(e){m("AttachDocumentCmd",e)})),c.push(n.subscribe({event:"DELPPWCommands/SearchDocument"},function(e){m("SearchDocumentCmd",e)})),c.push(n.subscribe({event:"DELPPWCommands/ManageDocuments"},function(e){m("ManageDocumentsCmd",e)})),c.push(n.subscribe({event:"DELPPWCommands/EditViewPreferences"},function(e){m("EditViewPreferencesCmd",e)})),c.push(n.subscribe({event:"DELPPWCommands/LayoutPreferences"},function(e){m("LayoutPreferences",e)})),c.push(n.subscribe({event:"DELPPWCommands/ExportCSV"},function(e){m("ExportCSVCmd",e)})),c.push(n.subscribe({event:"DELPPWCommands/LoadRelations"},E)),c.push(n.subscribe({event:"DELPPWCommands/ExpandAll"},function(e){m("expandAll",e)})),c.push(n.subscribe({event:"DELPPWCommands/CollapseAll"},function(e){m("collapseAll",e)})),c.push(n.subscribe({event:"DELPPWCommands/RelationalExplorerCmd"},function(e){m("RelationalExplorerCmd",e)})),c.push(n.subscribe({event:"DELPPWCommands/Refresh"},function(e){m("RefreshCmd",e)})),c.push(n.subscribe({event:"DELPPWCommands/UserDefinedExplore"},function(e){m("UserDefExplore",e)})),c.push(n.subscribe({event:"DELPPWCommands/BIEssentialsCmd"},function(e){m("BIEssentialsCmd",e)})),c.push(n.subscribe({event:"DELPPWCommands/ManageInconsistentLinks"},function(e){l("MIL",e)})),o.onStart(e)},onStop:function(){var e,t;for(e=0,t=r.length;e<t;e++)a.removeExternalListener(r[e]);for(r=[],e=0,t=c.length;e<t;e++)n.unsubscribe(c[e]);c=[]}}}}),define("DS/DELWKOApplicationServices/LayoutConfig",[],function(){"use strict";return{MANUFACTURING:{row:0,col:0,command:"ItemsView"},RESOURCE:{row:0,col:1,command:"ResourcesView"},ROUTINGS:{row:1,col:0,command:"WorkOrderView"}}}),define("DS/DELWKOApplicationServices/Commands/CommandsService",["UWA/Core","DS/CoreEvents/Events","DS/DELPPWModelServices_FD02/ModelUtils","DS/DELPPWServices_FD02/CommandsService/CommandsService","DS/DELPPWNavigationServices_FD02/SwitchDBModeManager"],function(e,n,t,i,s){"use strict";return function(a){var o,r=[],c=[],u="CommandsService",m=function(e,n){o.notifyApp(e,n)},l=function(e,n){o.toggleModule(e,n)},d=function(){o.initState()},g=function(){var e,n,t,i,s,r,c=a.getPlugins("SelectionPlugin");c?(n=(e=c.instance.getSelections("CMDS"))[0]||[],t=e[1]||[],s=e[2]||[],r=e[3]||[],i=[],o.manageCommandsAvailability(t,i,s,n,r)):a.getLogger().debug(u,"Selection Plugin is not available.")},C=function(){o.manageDocCmdAvailability()},P=function(e){o.toggleCmdCheckHeaderState(e)},b=function(){g(),a.getPlugins("SelectionPlugin").instance.getSelections("CMDS")[0]},h=function(){o.authoringCmdAvailability()},E=function(){var n=[],t=a.getPlugins("SelectionPlugin");e.is(t)&&t.isStarted&&(n=(n=t.instance.getSelectionsWithPaths("CMDS")).reduce(function(e,n){return e=e.concat(n)},[]),m("LoadRelations",[n]))},p=function(){var e=a.getPlugins("TreeViewPlugin");e?(e=e.instance).isGroupingExist()?o.manageCommandsAvailabilityOnGrouping():g():a.getLogger().debug(u,"TreeView Plugin is not available.")};return o=new i(a),e.extend(o,{manageConfigurationCommands:function(n){var t,i=n||{},s=!!e.is(i.isLicenseCFGValid,"boolean")&&i.isLicenseCFGValid,a=!!e.is(i.isRoot,"boolean")&&i.isRoot,r=e.is(i.auxLength,"number")?i.auxLength:0,c=e.is(i.processViewLength,"number")?i.processViewLength:0,u=e.is(i.routingsViewLength,"number")?i.routingsViewLength:0,m=e.is(i.resourceViewLength,"number")?i.resourceViewLength:0,l=e.is(i.selectedItemsCount,"number")?i.selectedItemsCount:0,d=!!e.is(i.isAuthoring,"boolean")&&i.isAuthoring,g=!!e.is(i.isCrossLevel,"boolean")&&i.isCrossLevel,C=r>0;t=!C&&!(m>0)&&(u>0||c>0),o.setCommandState("EditConfigurationContext",s&&t),1===l&&(o.setCommandState("DefineFilter",a&&!d&&!C),o.setEffectivityCmdState("EditEvolution",s&&!a&&t)),o.setEffectivityCmdState("EditVariant",s&&!a&&t&&!g)},manageReplaceCommandsAvailablity:function(e){var n=e.isRoot,t=e.auxiliaryViewLength,i=e.routingsViewLength;this.setCommandState("ReplaceByLatestRevision",!n&&t<1&&i>0),this.setCommandState("ReplaceByNewRevision",!n&&t<1&&i>0),this.setCommandState("ReplaceByExisting",!n&&t<1&&1===i),this.setCommandState("ReplaceByNewReference",!n&&t<1&&1===i)},getInsertAsCommands:function(n){var t,i,s,o=[];return s=a.getPlugins("DatabasePlugin"),e.is(n)&&e.is(s)&&s.isStarted&&(t=s.instance.getValidChildTypes(n),e.is(t)&&t.length>0&&(i=n.get("PPRTYPE"),["SYSTEM","OPERATION"].indexOf(i)>-1&&o.push("InsertAsCopy"),["SYSTEM","OPERATION","PROCESS","RESOURCE"].indexOf(i)>-1&&o.push("SearchAndAddInstanceCommand"))),o},manageCommandsAvailability:function(n,i,r,c,m){var l,d,g,C,P,b,h,E,p,L,f,v,D,S=this,R=0,A=0,y=0,W=0,w=0,O=0,I=0,V=0,x=a.getPlugins("DatabasePlugin"),T=a.getPlugins("DicoPlugin"),M=s.isDbMode()||t.getNavigateOnDatabasePreference();x&&T?(x=x.instance,T=T.instance,i=i||[],r=r||[],c=c||[],m=m||[],R=(n=n||[]).length,y=i.length,A=m.length,d=r.length,e.is(r,"array")&&r.forEach(function(n){l=x.getReferenceModel(n),e.is(l)&&("PART"===(f=l.get("PPRTYPE"))||"PRODUCT"===f?y++:"PROCESS"===f?R++:"SYSTEM"===f?W++:"RESOURCE"===f?A++:"OPERATION"===f?w++:"WORKINSTRUCTION"===f?O++:"WORKORDER"===f?I++:"EXECHEADER"===f&&V++)}),e.is(c,"array")&&c.forEach(function(n){l=x.getReferenceModel(n),e.is(l)&&("SYSTEM"===(f=l.get("PPRTYPE"))?W++:"OPERATION"===f?w++:"WORKINSTRUCTION"===f?O++:"WORKORDER"===f?I++:"EXECHEADER"===f&&V++)}),C=R+y+W+A+w+O+I+V,E=S.getSelectedRoots([n,i,c,m,r]),1>C?S.setAllCommandsState("none"):1===C?(1!==W&&1!==w||(L=S.getCommandsAvailability("one.system"),l=x.getReferenceModel(c[0]),!0!==T.isAKindOf(l,"DELLmiWorkPlanSystemReference")&&!0!==T.isAKindOf(l,"DELLmiQtyControlProcessReference")||L.enabled.push("CreateCapableResourceStructureLink"),!0!==T.isAKindOf(l,"DELLmiWorkPlanSystemReference")&&!0!==T.isAKindOf(l,"DELLmiHeaderOperationReference")&&!0!==T.isAKindOf(l,"DELLmiLoadingOperationReference")&&!0!==T.isAKindOf(l,"DELLmiGeneralOperationReference")||L.enabled.push("BuildUp")),1===O&&(L=S.getCommandsAvailability("one.workInstruction")),1===A&&(L=S.getCommandsAvailability("one.resource")),1===R&&(L=S.getCommandsAvailability("one.process")),1===y&&(L=S.getCommandsAvailability("one.product")),1===I&&(L=S.getCommandsAvailability("one.workorder")),1===V&&(L=S.getCommandsAvailability("one.execHeader")),e.is(L)&&(b=n[0]||c[0]||m[0]||r[0],P=x.getReferenceModel(b),e.is(P)&&(p=S.getValidChildTypeCommands(P),L.enabled=L.enabled.concat(p),p=S.getInsertAsCommands(P),L.enabled=L.enabled.concat(p)),S.setAllCommandsState(L))):1<C&&(C===y?S.setAllCommandsState("multiple.product"):C===R?(S.setAllCommandsState("multiple.process"),L=S.getCommandsAvailability("multiple.process")):C===W+w?S.setAllCommandsState("multiple.system"):C===O?S.setAllCommandsState("multiple.workInstruction"):C===A?(S.setAllCommandsState("multiple.resource"),L=S.getCommandsAvailability("multiple.resource")):C===I?S.setAllCommandsState("multiple.workorder"):C===V?S.setAllCommandsState("multiple.execHeader"):(S.setAllCommandsState("multiple.mixed"),L=S.getCommandsAvailability("multiple.mixed")),E.length!==C&&0!==E.length&&S.setCommandState("Delete",!1)),S.setCommandState("CreateLink",!0),S.setCommandState("CreateInstance",!0),h=E.length>0,v=C>0&&E.length===C&&y<1,S.setCommandState("Hide",h),S.setCommandState("DeleteHdr",v),S.setCommandState("DetachInstance",!h&&y<1&&C>0),S.manageReplaceCommandsAvailablity({isRoot:h,auxiliaryViewLength:r.length,mfgItemsViewLength:n.length,routingsViewLength:c.length}),S.manageDocCmdAvailability(),S.groupingViewCmdAvailability(R,y,d),g=function(){var t,i,s,a,o=!1;if(c.length>0){t=x.getInstance(c[0]),e.is(t)&&(t=t.get("isAggregatedBy"));for(let n=0;n<c.length;n++)if(i=x.getInstance(c[n]),e.is(i)&&(i=i.get("isAggregatedBy")),t!==i){o=!0;break}}else if(n.length>0){s=x.getInstance(n[0]),e.is(s)&&(s=s.get("isAggregatedBy"));for(let t=0;t<n.length;t++)if(a=x.getInstance(n[t]),e.is(a)&&(a=a.get("isAggregatedBy")),s!==a){o=!0;break}}return o},e.is(L)&&e.is(L.disabled)&&L.disabled.forEach(e=>{S.setCommandState(e,!1)}),C>0&&(D={isLicenseCFGValid:o._isLicenseCFGValid,isRoot:h,auxLength:r.length,processViewLength:n.length,routingsViewLength:c.length,resourceViewLength:m.length,selectedItemsCount:C,isAuthoring:M,isCrossLevel:g()},S.manageConfigurationCommands(D)),n.length>0&&this.manageCommandsAvailabilityForReadOnlyTypes(n)):a.getLogger().debug(u,"Database or Dico  Plugin is not available.")}}),{onStart:function(e){r.push(a.addExternalListener("select",b)),r.push(a.addExternalListener("toggleCmdCheckHeaderState",P)),r.push(a.addExternalListener("authoringMode",g)),r.push(a.addExternalListener("actionBarReady",d)),r.push(a.addExternalListener("manageDocCmdAvailability",C)),r.push(a.addExternalListener("endEdit",h)),r.push(a.addExternalListener("manageCommandsOnGrouping",p)),r.push(a.addExternalListener("createInstance",g)),c.push(n.subscribe({event:"DELPPWCommands/LandingPage"},function(e){m("ShowLandingPage",e)})),c.push(n.subscribe({event:"DELPPWCommands/Hide"},function(e){m("Hide",e)})),c.push(n.subscribe({event:"DELPPWCommands/HideAll"},function(e){m("HideAll",e)})),c.push(n.subscribe({event:"DELPPWCommands/Relations"},function(e){l("LINKS",e)})),c.push(n.subscribe({event:"DELPPWCommands/ShowLogPanel"},function(e){m("ShowLogPanel",e)})),c.push(n.subscribe({event:"DELPPWCommands/DisplayProperties"},function(e){l("PROPERTIES",e)})),c.push(n.subscribe({event:"DELPPWCommands/CreateCapableResourceStructureLink"},function(e){m("CreateCapableResourceStructureLink",e)})),c.push(n.subscribe({event:"DELPPWCommands/CreateLink"},function(e){m("CreateLink",e)})),c.push(n.subscribe({event:"DELPPWCommands/CreateInstance"},function(e){m("CreateInstance",e)})),c.push(n.subscribe({event:"DELPPWCommands/CreateLinkOrInstance"},function(e){m("CreateLinkOrInstance",e)})),c.push(n.subscribe({event:"DELPPWCommands/CreateWorkOrderFromProcess"},function(e){m("CreateWorkOrderFromProcessCmd",e)})),c.push(n.subscribe({event:"DELPPWCommands/InsertCmd"},function(e){m("InsertCmd",e)})),c.push(n.subscribe({event:"DELPPWCommands/DuplicateAdv"},function(e){m("DuplicateAdvCmd",e)})),c.push(n.subscribe({event:"DELPPWCommands/Delete"},function(e){m("Delete",e)})),c.push(n.subscribe({event:"DELPPWCommands/DetachInstance"},function(e){m("DetachInstance",e)})),c.push(n.subscribe({event:"DELPPWCommands/SearchAndAddInstanceCommand"},function(e){m("searchAndAddInstance",e)})),c.push(n.subscribe({event:"DELPPWCommands/InsertAsCopy"},function(e){m("InsertAsCopy",e)})),c.push(n.subscribe({event:"DELPPWCommands/ReplaceByLatestRevision"},function(e){m("ReplaceByLatestRevision",e)})),c.push(n.subscribe({event:"DELPPWCommands/ReplaceByExisting"},function(e){m("ReplaceByExisting",e)})),c.push(n.subscribe({event:"DELPPWCommands/ReplaceByNewRevision"},function(e){m("ReplaceByNewRevision",e)})),c.push(n.subscribe({event:"DELPPWCommands/ReplaceByNewReference"},function(e){m("ReplaceByNewReference",e)})),c.push(n.subscribe({event:"DELPPWCommands/ShowGraphView"},function(e){l("EGRAPHMOD",e)})),c.push(n.subscribe({event:"DELPPWCommands/ProductFlowCmd"},function(e){l("PRODUCTFLOWMOD",e)})),c.push(n.subscribe({event:"DELPPWCommands/ToggleAuxiliaryView"},function(e){m("toggleAuxPanel",e)})),c.push(n.subscribe({event:"DELPPWCommands/ManageCapableResources"},function(e){l("MANAGECAPABLERESOURCESMOD",e)})),c.push(n.subscribe({event:"DELPPWCommands/ItemsView"},function(e){m("ItemsView",e)})),c.push(n.subscribe({event:"DELPPWCommands/ResourcesView"},function(e){m("ResourcesView",e)})),c.push(n.subscribe({event:"DELPPWCommands/WorkOrderView"},function(e){m("WorkOrderView",e)})),c.push(n.subscribe({event:"DELPPWCommands/BuildUp"},function(e){m("BuildUp",e)})),c.push(n.subscribe({event:"DELPPWCommands/AttachDocument"},function(e){m("AttachDocumentCmd",e)})),c.push(n.subscribe({event:"DELPPWCommands/SearchDocument"},function(e){m("SearchDocumentCmd",e)})),c.push(n.subscribe({event:"DELPPWCommands/ManageDocuments"},function(e){m("ManageDocumentsCmd",e)})),c.push(n.subscribe({event:"DELPPWCommands/EditViewPreferences"},function(e){m("EditViewPreferencesCmd",e)})),c.push(n.subscribe({event:"DELPPWCommands/LayoutPreferences"},function(e){m("LayoutPreferences",e)})),c.push(n.subscribe({event:"DELPPWCommands/ExportCSV"},function(e){m("ExportCSVCmd",e)})),c.push(n.subscribe({event:"DELPPWCommands/LoadRelations"},E)),c.push(n.subscribe({event:"DELPPWCommands/ExpandAll"},function(e){m("expandAll",e)})),c.push(n.subscribe({event:"DELPPWCommands/CollapseAll"},function(e){m("collapseAll",e)})),c.push(n.subscribe({event:"DELPPWCommands/RelationalExplorerCmd"},function(e){m("RelationalExplorerCmd",e)})),c.push(n.subscribe({event:"DELPPWCommands/Refresh"},function(e){m("RefreshCmd",e)})),c.push(n.subscribe({event:"DELPPWCommands/UserDefinedExplore"},function(e){m("UserDefExplore",e)})),c.push(n.subscribe({event:"DELPPWCommands/BIEssentialsCmd"},function(e){m("BIEssentialsCmd",e)})),c.push(n.subscribe({event:"DELPPWCommands/ManageInconsistentLinks"},function(e){l("MIL",e)})),o.onStart(e)},onStop:function(){var e,t;for(e=0,t=r.length;e<t;e++)a.removeExternalListener(r[e]);for(r=[],e=0,t=c.length;e<t;e++)n.unsubscribe(c[e]);c=[]}}}}),define("DS/DELWKOApplicationServices/Services",["UWA/Class","DS/DELPPWModelServices_FD02/BehaviorUtil"],function(e,n){"use strict";var t="DS/DELWKOApplicationServices/",i={CommandsService:t+"Commands/CommandsService",LayoutService:t+"LayoutService"},s={CommandsService:t+"Commands/CommandsServiceCloud",LayoutService:t+"LayoutService"};return e.singleton({getMap:function(){return!0===n.isCloud()?s:i}})}),define("DS/DELWKOApplicationServices/LayoutService",["UWA/Core","DS/DELPPWServices_FD02/LayoutService/LayoutService","DS/DELWKOApplicationServices/LayoutConfig"],function(e,n,t){"use strict";return function(i){var s,a,o,r,c,u,m,l=new n(i),d=[];return u=function(){var n,s;l.isLayoutBuilt()?e.is(l.onActionBarReady,"function")&&l.onActionBarReady():(l.buildView({rows:[{columns:2},{columns:1}],actionBarReady:function(){e.is(s,"array")&&s.forEach(function(e){i.getMediator().notify("toggleCmdCheckHeaderState",{cmdName:e.commandName,cmdState:e.state})}),l.showLayout()}}),l.removeDockingElement(WUXDockAreaEnum.TopDockArea),l.removeDockingElement(WUXDockAreaEnum.BottomDockArea),n=widget.getViewportDimensions(),l.setDockingElement(WUXDockAreaEnum.LeftDockArea,{dockingZoneSize:n.width/4,collapseDockingZoneFlag:!0}),l.setDockingElement(WUXDockAreaEnum.RightDockArea,{dockingZoneSize:n.width/4,collapseDockingZoneFlag:!0,resizableFlag:!0,visibleDockingZoneFlag:!1}),a=l.buildTreeListAuthoringDom(!0),o=l.buildTreeListAuthoringDom(!0),r=l.buildTreeListAuthoringDom(!0),c=l.buildAuxiliaryViewDom(),l.setBlocLayoutContent(t.MANUFACTURING.row,t.MANUFACTURING.col,o),l.setBlocLayoutContent(t.RESOURCE.row,t.RESOURCE.col,r),l.setBlocLayoutContent(t.ROUTINGS.row,t.ROUTINGS.col,a),s=l.setPreferredLayoutOnStartup(t))},m=function(){d.push(i.addExternalListener(t.MANUFACTURING.command,function(e){var n=l.isViewShown(t.MANUFACTURING.row,t.MANUFACTURING.col);n&&!0===e.state||!n&&!1===e.state||l.toggleView(t.MANUFACTURING.row,t.MANUFACTURING.col,e.state)})),d.push(i.addExternalListener(t.RESOURCE.command,function(e){var n=l.isViewShown(t.RESOURCE.row,t.RESOURCE.col);n&&!0===e.state||!n&&!1===e.state||l.toggleView(t.RESOURCE.row,t.RESOURCE.col,e.state)})),d.push(i.addExternalListener(t.ROUTINGS.command,function(e){var n=l.isViewShown(t.ROUTINGS.row,t.ROUTINGS.col);n&&!0===e.state||!n&&!1===e.state||l.toggleView(t.ROUTINGS.row,t.ROUTINGS.col,e.state)})),d.push(i.addExternalListener("widgetLayoutChanged",function(){var n,a,o;a=s.getPreference("widgetLayoutValues"),e.is(a)&&(n=e.Json.decode(a),(o=l.setPreferredLayout(n,t)).deferredPromise.promise.then(function(){o.columns.forEach(function(e){i.getMediator().notify("toggleCmdCheckHeaderState",{cmdName:e.commandName,cmdState:e.state})}),i.getMediator().notify("LayoutCommandsToggled")}))}))},e.extend(l,{getContainer:function(n){switch(n){case"layoutContainer":return l.getUIContainer();case"manufacturing":return o;case"resource":return r;case"routings":return a;case"auxiliary":return c;case"alerts":return l.getAlertContainer();case"progressIndicator":return l.getProgressIndContainer();case"properties":return l.getPropertiesModuleContainer();case"none":return e.createElement("div",{class:"empty-container"});default:i.getLogger().debug("MGA_LayoutService","Invalid side choice: %s",n)}},getLayoutConfig:function(){return e.clone(t)},onStart:function(e){s=i.getService("ConfigService"),u(),m(),e()},onStop:function(){var e,n;for(e=0,n=d.length;e<n;e++)i.removeExternalListener(d[e]);d=[]}})}});