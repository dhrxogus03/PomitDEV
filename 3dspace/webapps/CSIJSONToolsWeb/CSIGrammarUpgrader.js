"undefined"==typeof define&&(define=function(e){CSIGrammarUpgrader=e(),define=void 0}),define("DS/CSIJSONToolsWeb/CSIGrammarUpgrader",["DS/CSIJSONToolsWeb/CSIGrammarUpgraderJsonField","DS/CSIJSONToolsWeb/CSIGrammarUpgraderParser"],function(e,r){"use strict";const n=new class{constructor(){}upgradeJSON(e){const r=JSON.parse(e),n=this.upgradeObject(r);return JSON.stringify(n,null,2)+"\n"}upgradeJSONCommandToFunction(e){const n=JSON.parse(e);r.enableUpgradeCommandToFunction(!0);const a=this.upgradeObject(n);return r.enableUpgradeCommandToFunction(!1),JSON.stringify(a,null,2)+"\n"}upgradeObject(e){r.analyseFileType(e);const n=r.getFileTypeParsingOrder();let a=r.getCurrentFileGrammarVersion();const t=r.getMaxGrammarVersion();let o=void 0;a===r.maxGrammarVersion_&&--a;for(let s=a;s<t;++s)o={},r.parseObject(e,o,n,s),e=o;return o}};return r.grammarUpgrader_=n,n});