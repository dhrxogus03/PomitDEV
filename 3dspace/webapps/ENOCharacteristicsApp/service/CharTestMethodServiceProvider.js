define("DS/ENOCharacteristicsApp/service/CharTestMethodServiceProvider",["UWA/Core","UWA/Class","UWA/Promise","DS/XSRCommonComponents/utils/RequestUtil","DS/XSRCommonComponents/utils/DocumentServiceProvider","DS/CfgAuthoringContextUX/scripts/CfgAuthoringContext"],function(e,t,s,n,o,i){"use strict";return t.extend({init:function(e){this.platFormId=n.getPlatformId(),this.CSRFToken=n.get3DSpaceCSRFToken(),this.SC=n.getSecurityContext(),this.options=e,this.url="resources/v1/modeler/characteristics/performancespec/"+this.options.psid+"/performancechar/"+this.options.pcid+"/testmethods"},getTestMethods:function(){return(new o).getDocumentsFromParent(this.options.pcid,"PerformanceTest")},remove:function(t){var o="resources/v1/modeler/characteristics/performancespec/"+this.options.psid+"/performancechar/"+this.options.pcid+"/testmethods/remove",i=this;return new s(function(s,r){n.send3DSpaceRequest(o,"POST",{type:"json",headers:i.getHeaders({ENO_CSRF_TOKEN:i.CSRFToken,SecurityContext:i.SC}),data:e.Json.encode(t)},s,r)})},add:function(t){var o="resources/v1/modeler/characteristics/performancespec/"+this.options.psid+"/performancechar/"+this.options.pcid+"/testmethods/add",i=this;return new s(function(s,r){n.send3DSpaceRequest(o,"POST",{type:"json",headers:i.getHeaders({ENO_CSRF_TOKEN:i.CSRFToken,SecurityContext:i.SC}),data:e.Json.encode(t)},s,r)})},fetch:function(t){var o=this,i={label:"NGF_ExecuteFetchWithSynthesis",physicalid:t,tenant:n.getPlatformId(),locale:n.getLanguage(),with_synthesis:!0,select_file:["icon","thumbnail_2d"],select_predicate:["ds6w:what/ds6w:type","ds6w:identifier","ds6w:label","ds6wg:revision","ds6w:policy","ds6w:description","ds6w:what/ds6w:status","ds6w:when/ds6w:modified","ds6w:isLastRevision","ds6w:when/ds6w:created","ds6w:who/ds6w:responsible","ds6w:project"],enable_mono_sixw:!0,with_nls:!0};return new s(function(t,s){n.send3DSpaceRequest("cvservlet/fetch/v2?xrequestedwith=xmlhttprequest","POST",{type:"json",headers:o.getHeaders({ENO_CSRF_TOKEN:o.CSRFToken,SecurityContext:o.SC}),data:e.Json.encode(i)},t,s)})},getHeaders:function(e){var t={"Content-type":"application/json"};this.isChangeControlled&&Object.assign(t,n.getWorkUnderHeaders());const s=i.get();return s&&s.AuthoringContextHeader&&Object.assign(t,s.AuthoringContextHeader),e&&Object.keys(e).forEach(function(s){t[s]=e[s]}),t}})});