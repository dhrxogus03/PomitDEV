define("DS/ENOCharacteristicsApp/controls/DimensionChangeActions",["UWA/Core","UWA/Controls/Abstract","DS/ENOCharacteristicsApp/utils/Notification","DS/ENOCharacteristicsApp/utils/Constants","DS/Controls/TooltipModel","DS/TreeModel/TreeDocument","DS/TreeModel/TreeNodeModel","text!DS/ENOCharacteristicsApp/assets/config/CreateCharacteristicsFields.json","i18n!DS/ENOCharacteristicsApp/assets/nls/ENOCharacteristicsApp"],function(i,e,t,s,n,r,o,l,a){"use strict";return e.extend({init:function(i){this.formFields=i.formFields,this.dimensionWithDisplayUnitList=i.allDimensionSet,this.dimensionList=i.dimensionList,this.dimensionChangeEvent()},dimensionChangeEvent:function(){var e=this.formFields.Dimension.inputfield,t=["StringParameter","SubjectivityParameter","BooleanParameter"],r=[this.formFields.LowerTarget.inputfield,this.formFields.Target.inputfield,this.formFields.UpperTarget.inputfield];this.formFields.LowerSpecificationLimit&&r.push(this.formFields.LowerSpecificationLimit.inputfield),this.formFields.UpperSpecificationLimit&&r.push(this.formFields.UpperSpecificationLimit.inputfield),this.formFields.LowerRoutineReleaseLimit&&r.push(this.formFields.LowerRoutineReleaseLimit.inputfield),this.formFields.UpperRoutineReleaseLimit&&r.push(this.formFields.UpperRoutineReleaseLimit.inputfield);var o=this.formFields.DisplayUnit.inputfield.elements.container,l=this.formFields.Target.inputfield.elements.container,d=this.formFields.Precision.inputfield.elements.container,h=(this.formFields.Target.inlineContainer,l.getParent().getChildren()[0].getChildren()[0]);if(null!=e){var m=e.value,f=this.dimensionList.get(e.value);if(l.show(),d.show(),void 0===m||""===m){for(var p=0;p<r.length;p++)r[p].disabled=!0;this.formFields.Precision.inputfield.disabled=!0,this.formFields.DisplayUnit.inputfield.elementsTree.removeRoots(),this.formFields.DisplayUnit.inputfield.selectedIndex=-1,this.formFields.LowerTarget.inlineContainer.show(),this.formFields.UpperTarget.inlineContainer.show(),this.formFields.LowerSpecificationLimit.expander.show(),this.formFields.LowerRoutineReleaseLimit.expander.show()}else{for(p=0;p<r.length;p++)r[p].disabled=!1,r[p].value="";if(this.formFields.Precision.inputfield.disabled=!1,["BooleanParameter","StringParameter","CMYKFormattedStringParameter","HEXFormattedStringParameter","RGBFormattedStringParameter","SubjectivityParameter"].includes(f)?o.hide():["IntegerParameter","RealParameter","USER_DEFINED_UNIT"].includes(f)?o.hide():o.show(),f===s.DIMENSION_SUBJECTIVITY){l.show(),new i.Element("span",{class:"char-mandatory-flag",text:"* "}).inject(h)}else{var c=h.getChildren()[0];h.getChildren().length>=1&&h.removeChild(c)}if(!t.includes(f))for(p=0;p<r.length;p++)r[p].tooltipInfos=new n({shortHelp:""}),"IntegerParameter"===f?(r[p].pattern="^[-+]?[0-9]*$",r[p].placeholder=a.placeHolder_Integer):(r[p].pattern="^[-+]?[0-9]*[0-9,.]+$",r[p].placeholder=a.placeholder_Real_Numeric);t.includes(f)?(this.formFields.LowerTarget.inlineContainer.hide(),this.formFields.UpperTarget.inlineContainer.hide(),this.formFields.LowerSpecificationLimit&&this.formFields.LowerSpecificationLimit.expander.hide(),this.formFields.LowerRoutineReleaseLimit&&this.formFields.LowerRoutineReleaseLimit.expander.hide(),"BooleanParameter"===f?(this.formFields.AltTarget.inputfield.disabled=!1,l.hide()):(this.formFields.Target.inputfield.disabled=!1,l.show())):(this.formFields.LowerTarget.inlineContainer.show(),this.formFields.UpperTarget.inlineContainer.show(),this.formFields.LowerSpecificationLimit&&this.formFields.LowerSpecificationLimit.expander.show(),this.formFields.LowerRoutineReleaseLimit&&this.formFields.LowerRoutineReleaseLimit.expander.show());var u=this.formFields.Dimension.inputfield.label;this.formFields.Dimension.inputfield.tooltipInfos=new n({shortHelp:u}),this.initDisplayUnitsForDimensionList(m)}}},initDisplayUnitsForDimensionList:function(i){this.dimensionPreferenceJson=[];var e=this.dimensionWithDisplayUnitList,t=(this.dimensionList,null),s=null;void 0===i&&(this.formFields.DisplayUnit.inputfield.disabled=!0,this.formFields.DisplayUnit.inputfield.placeholder=a.placeHolder_DisplayUnit);var n=e.filter(function(e){return e.id===i});null!=n&&n.length>0&&(s=n[0].units);var r=[],o=[],l={};if(null!=s&&s.length>0)for(var d=0;d<s.length;d++){l={};t=s[d].id;var h=s[d].displayName;""!=h&&null!=h||(h=" "),l.valueItem=t,l.labelItem=h,r.push(h),o.push(l)}this.dbDisplayUnitList=o,o.sort(function(i,e){let t=i.labelItem.toLowerCase(),s=e.labelItem.toLowerCase();return t>s?1:t<s?-1:0})}})});