define("DS/ENOCharacteristicsApp/controls/CreateCharacteristics",["UWA/Core","UWA/Controls/Abstract","DS/Controls/Toggle","DS/Controls/ButtonGroup","DS/Controls/LineEditor","DS/Controls/TooltipModel","DS/TreeModel/TreeDocument","DS/TreeModel/TreeNodeModel","DS/ENOCharacteristicsApp/view/NewDialog","DS/ENOCharacteristicsApp/view/CreateCharacteristicsForm","DS/ENOCharacteristicsApp/service/CharacteristicsServiceWrapper","DS/ENOCharacteristicsApp/utils/Notification","DS/ENOCharacteristicsApp/utils/Constants","DS/ENOCharacteristicsApp/utils/CharacteristicsUtils","DS/ENOCharacteristicsApp/utils/CharacteristicsMask","DS/ENOCharacteristicsApp/utils/IndexServiceProvider","DS/ENOCharacteristicsApp/utils/RequestUtil","DS/ENOCharacteristicsApp/utils/CharacteristicsValidation","DS/ENOCharacteristicsApp/controls/CharTestMethodControl","DS/ENOCharacteristicsApp/controls/DimensionChangeActions","DS/ENOCharacteristicsApp/controls/BuildCreateCharInput","text!DS/ENOCharacteristicsApp/assets/config/CreateCharacteristicsFields.json","i18n!DS/ENOCharacteristicsApp/assets/nls/ENOCharacteristicsApp"],function(e,i,t,s,n,a,l,r,o,d,h,c,p,u,m,f,g,F,T,D,v,I,C){"use strict";return i.extend({newForm:null,dimDialog:null,categoryList:null,dimensionList:null,dbDimensionList:null,dimensionWithDisplayUnitList:null,dbDisplayUnitList:null,newTextField:null,precisionList:null,missedTargetActionList:null,formFields:null,defaultDimensionModel:null,target:null,options:null,dialog:null,charTitle:null,carryOverDimension:null,dimensionUnitMap:null,testMethodModel:null,searchKeyMappings:{testmethods:{resourceid:"physicalid","ds6w:what/ds6w:status":"CURRENT","ds6w:label":"LABEL","ds6w:identifier":"name","ds6w:what/ds6w:type":"type","ds6w:who/ds6w:responsible":"owner"}},init:function(e){this._parent(e),this.testMethodsList,this.target=widget.body,this.createCloseAction=e.createCloseAction,this.createAction=e.createAction,this.parentId=e.parentId,this.parentTitle=e.title,this.container=widget.body,this.modelEvents=e.modelEvents,this.mTestMethodIds=[],this.allDimensionSetControl,this.isSpecificationLimitsDisabled=e.isSpecificationLimitsDisabled,this.isRoutineReleaseLimitsDisabled=e.isRoutineReleaseLimitsDisabled},loadFields:function(){var e=JSON.parse(I);m.maskLoader(this.container);var i=e.fields.groupHeader,t=[],s=this.isSpecificationLimitsDisabled,n=this.isRoutineReleaseLimitsDisabled;i.forEach(function(e){"label_RoutineReleaseLimit"===e.groupLabel&&n||"label_SpecificationLimit"===e.groupLabel&&s||t.push(e)}),e.fields.groupHeader=t,this.initCreatForm(e)},_performSearch:function(e){},initCreatForm:function(i){var a=i;this.loadAllDimensionDisplayUnits();this.newForm=new d(a).render(),this.formFields=this.newForm.formfieldControls,this.searchTestMethods();var r=this,c=this.options;c.Title=C.label_NewCharacteristics+" | "+this.parentTitle,c.Content=this.newForm.container,c.width=580,c.height=500,c.renderTo=this.target,m.unmaskLoader(this.container),this.dialog=new o(c),this.dialog.destroyPrevDialog(),this.dialog.render(),this.newForm.listenTo(this.newForm,"EVENT_TYPE_CHANGE",function(e){var i=e.field;p.KEY_DIMENSION===i&&r.dimensionChangeEvent(a)}),this.newForm.listenTo(this.newForm,"SELECT_CHANGE_EVENT",e=>r.evt_SelectChange(e)),this.newForm.listenTo(this.newForm,"SELECT_CHANGE_EMPTY_EVENT",function(e){"dimension"===e.toLowerCase()&&(r.newForm.updateField(null,"DisplayUnit",!1),r.formFields.DisplayUnit.inputfield.value="",r.formFields.Precision.inputfield.value=""),r.newForm.dispatchEvent("CONTAINS_DIRTY_FIELD")}),this.newForm.listenTo(this.newForm,"InvalidValueChange",function(e){r.dialog.dispatchEvent("CONTAINS_DIRTY_FIELD",!1)}),this.newForm.listenTo(this.newForm,"UNCOMMITTED_AUTOCOMPLETE",function(e){this.carryOverDimension=e}),this.newForm.listenTo(this.newForm,"CONTAINS_DIRTY_FIELD",function(e){r.formFields.Type.inputfield.value===p.MEASUREMENT_CHAR&&(r.formFields.Dimension.inputfield.value||r.formFields.DimensionText.inputfield.value)&&r.formFields.Title.inputfield.value?null!==e&&e&&e.hasDirtyField?r.dialog.dispatchEvent("CONTAINS_DIRTY_FIELD",!1):(r.checkLimitsFields(r.formFields),r.formFields.Dimension.inputfield.value&&"USER_DEFINED_UNIT"!==r.formFields.Dimension.inputfield.value&&!r.formFields.DisplayUnit.inputfield.value?r.dialog.dispatchEvent("CONTAINS_DIRTY_FIELD",!1):r.formFields.IncludedLowerTarget.inputfield.checkFlag&&!r.formFields.LowerTarget.inputfield.value||r.formFields.IncludedUpperTarget.inputfield.checkFlag&&!r.formFields.UpperTarget.inputfield.value||r.formFields.LowerTarget.inputfield.value&&r.formFields.UpperTarget.inputfield.value&&r.formFields.LowerTarget.inputfield.value==r.formFields.UpperTarget.inputfield.value&&(!r.formFields.IncludedLowerTarget.inputfield.checkFlag||!r.formFields.IncludedUpperTarget.inputfield.checkFlag)?r.dialog.dispatchEvent("CONTAINS_DIRTY_FIELD",!1):r.formFields.LowerTarget.inputfield.value&&r.formFields.LowerTarget.inputfield.value===r.formFields.Target.inputfield.value&&!r.formFields.IncludedLowerTarget.inputfield.checkFlag?r.dialog.dispatchEvent("CONTAINS_DIRTY_FIELD",!1):r.formFields.UpperTarget.inputfield.value&&r.formFields.UpperTarget.inputfield.value===r.formFields.Target.inputfield.value&&!r.formFields.IncludedUpperTarget.inputfield.checkFlag?r.dialog.dispatchEvent("CONTAINS_DIRTY_FIELD",!1):!r.isRoutineReleaseLimitsDisabled&&r.formFields.LowerRoutineIncluded.inputfield.checkFlag&&!r.formFields.LowerRoutineReleaseLimit.inputfield.value||!r.isRoutineReleaseLimitsDisabled&&r.formFields.UpperRoutineIncluded.inputfield.checkFlag&&!r.formFields.UpperRoutineReleaseLimit.inputfield.value?r.dialog.dispatchEvent("CONTAINS_DIRTY_FIELD",!1):!r.isSpecificationLimitsDisabled&&r.formFields.LowerSpecificationIncluded.inputfield.checkFlag&&!r.formFields.LowerSpecificationLimit.inputfield.value||!r.isSpecificationLimitsDisabled&&r.formFields.UpperSpecificationIncluded.inputfield.checkFlag&&!r.formFields.UpperSpecificationLimit.inputfield.value?r.dialog.dispatchEvent("CONTAINS_DIRTY_FIELD",!1):r.dialog.dispatchEvent("CONTAINS_DIRTY_FIELD",!0)):r.formFields.Type.inputfield.value===p.DESCRIPTIVE_CHAR&&r.formFields.Title.inputfield.value?r.dialog.dispatchEvent("CONTAINS_DIRTY_FIELD",!0):r.dialog.dispatchEvent("CONTAINS_DIRTY_FIELD",!1)}),this.newForm.listenTo(this.newForm,"TYPE_TOGGLE_CHANGE",function(e){var i={hasDirtyField:!1};r.dialog.dispatchEvent("CONTAINS_DIRTY_FIELD",i)}),this.newForm.listenTo(this.newForm,"EVENT_TEST_METHOD_BUTTON_CLICK",function(e){var i=this.formfieldControls.TestMethod,t=this.mTestMethodIds;i.inputfield.value;new T({testMethodField:i,testMethodsIds:t})}),this.newForm.listenTo(this.newForm,"EVENT_DIMENSION_BUTTON_CLICK",function(i){var a=this,d=[];if("undefined"!=typeof widget){var h=r.dimensionWithDisplayUnitList;h.sort(function(e,i){let t=e.displayName.toLowerCase(),s=i.displayName.toLowerCase();return t>s?1:t<s?-1:0});for(var c=new e.Element("div",{class:"Dimension-List-Container"}),p=new s({type:"radio"}),u=new l({}),m=0;m<h.length;m++)p.addChild(new t({type:"radio",label:h[m].displayName,value:h[m].id}));this.dimensionButtonGroup=p;var f=new n({domId:i.domId||"charDimSearchEditor",placeholder:C.placeHolder_SelectDimension,displayClearFieldButtonFlag:!0,value:this.carryOverDimension});d.push(f),f.inject(c),f.addEventListener("uncommittedChange",function(e){for(var i=e.dsModel.valueToCommit||a.carryOverDimension,t=a.dimensionButtonGroup.elements.container.getChildren(),s=0;s<t.length;s++){var n=t[s],l=t[s].getChildren()[1].getText();i&&-1!==l.toUpperCase().indexOf(i.toUpperCase())||l===C.label_OtherDimension?(console.log(l),n.hasClassName("char-dim-hide")&&n.removeClassName("char-dim-hide")):""!=i&&n.addClassName("char-dim-hide")}a.carryOverDimension=null}.bind(this.dimDialog)),f.addEventListener("change",function(e){if(""===e.dsModel.value)for(var t=a.dimensionButtonGroup.elements.container.getChildren(),s=0;s<t.length;s++){var n=t[s];n.hasClassName("char-dim-hide")&&n.removeClassName("char-dim-hide")}a.dimDialog.dispatchEvent("CONTAINS_DIRTY_FIELD",i)}.bind(this.dimDialog)),d.push(p),p.inject(c),p.addEventListener("change",function(e){a.dimDialog.dispatchEvent("CONTAINS_DIRTY_FIELD",i)}.bind(this.dimDialog)),r.allDimensionSetControl=d,r.allDimensionModel=u;var g=this.options;g.Title=C.label_Dimension,g.Content=c,g.width=500,g.height=400,g.renderTo=r.target,g.RemoveApplyButton=!0,g.OKLabel=C.label_Button_Ok,this.dimDialog=new o(g),this.dimDialog.render(),this.carryOverDimension&&f.fire("uncommittedChange"),a.dimDialog.listenTo(a.dimDialog,"EVENT_CLICK_CHAR_OK",function(e){r.allDimensionSetControl[0].value;var i=r.allDimensionSetControl[1].value;if(i.length>0){var t=i[0];r.allDimensionSetControl[1].getButtonFromValue(t).label}r.formFields.Dimension.inputfield.value=t,a.dimDialog.closeDialog()})}}),this.initTypeList(),this.loadDefaultDimensionPrefList(),this.loadPrecision(),this.loadMissedTargetAction(),this.formFields.Precision.fieldControl.getTextFromValue=function(){return(0===this.value?0:1/Math.pow(10,this.value)).toString()};var u={};u.formFields=this.formFields,u.parentId=this.parentId,u.testMethods=this.testMethodsList,u.isRoutineReleaseLimitsDisabled=this.isRoutineReleaseLimitsDisabled,u.isSpecificationLimitsDisabled=this.isSpecificationLimitsDisabled;var f,g=new v(u);this.createCharInput=g,this.dialog.listenTo(this.dialog,"EVENT_CLICK_CHAR_OK",function(){if(r.dialog.dispatchEvent("CONTAINS_DIRTY_FIELD",!1),r.validateFields()){if(f=g.setRequestInputs({}),r.charData=f,f)this.charTitle=f.Title,(new h).createCharacteristics(f).then(r.createCharCallBack.bind(r),r.onError.bind(r));else console.log("Unable to get input parameters for create characteristics."),r.stopLoader()}}),this.dialog.listenTo(this.dialog,"EVENT_CLICK_CHAR_APPLY",function(){if(r.dialog.dispatchEvent("CONTAINS_DIRTY_FIELD",!1),r.validateFields()){r.showCreateLoader();if(f=g.setRequestInputs({}),r.charData=f,f)this.charTitle=f.Title,(new h).createCharacteristics(f).then(r.createCharApplyCallBack.bind(r),r.onError.bind(r));else console.log("Unable to get input parameters for create characteristics."),r.stopLoader()}})},setKeyMappings:function(e){this._keyMappings=e},getKeyMappings:function(){return this._keyMappings},searchTestMethods:function(){var e,i=[],t=this;g.getloginUser();e={key:"query",value:'(flattenedtaxonomies:"types/Test Method Specification" AND (current==Release OR current==RELEASED) AND latestrevision==TRUE)'},t.setKeyMappings(t.searchKeyMappings),(new f).searchTestMethods(e,["id","ds6w:originator","ds6w:identifier","ds6w:label","ds6w:created","ds6w:policy","ds6w:type"],null).then(function(e){var s;if("string"==typeof e&&(s=JSON.parse(e)),s){for(var n=s.infos.nresults,a=s.results,l=t.getKeyMappings().testmethods,o=0;o<n;o++){for(var d=a[o].attributes,h={},c=0;c<d.length;c++){var p=d[c],u=p.name;l.hasOwnProperty(u)&&(h[l[u]]=p.dispValue||p.value,p.dispValue&&(h[l[u].concat("actualValue")]=p.value))}i.push(h)}t.testMethodsList=i,t.testMethodMap=new Map;var m=t.formFields.TestMethod.inputfield.elementsTree;for(o=0;o<i.length;o++){var f=new r({label:i[o].name+" : "+i[o].LABEL,value:i[o].physicalid});m.addChild(f),t.testMethodMap.set(i[o].physicalid,i[o].name)}t.testMethodModel=m}}).catch(function(e){m.unmaskLoader(t.container),c.clearNotifications(),c.displayNotification({eventID:"warning",msg:e})})},showCreateLoader:function(){var e=this.charTitle,i=C.replace(C.get("CreatingCharacteristic"),{title:e});m.maskLoader(this.container,i)},stopLoader:function(){m.unmaskLoader(this.container)},loadDefaultDimensionPrefList:function(){var e=this;(new h).getDimensionDisplayUnitSet().then(function(i){if(void 0!==i){var t=JSON.parse(i),s=[];e.dimensionUnitMap=new Map,t.forEach(function(i){var t={labelItem:i.displayName,valueItem:i.id};e.dimensionUnitMap.set(i.id,i.displayName),s.push(t)}),s.sort(function(e,i){let t=e.labelItem.toLowerCase(),s=i.labelItem.toLowerCase();return t>s?1:t<s?-1:0}),e.newForm.updateField(s,"Dimension",!1)}}).catch(function(e){})},loadAllDimensionDisplayUnits:function(){var e=this;(new h).getDimensionDisplayUnitSet().then(function(i){if(void 0!==i){var t=JSON.parse(i);e.dimensionWithDisplayUnitList=t}}).catch(function(e){})},loadPrecision:function(){var e=[{labelItem:"0.1",valueItem:"0.1"},{labelItem:"0.01",valueItem:"0.01"},{labelItem:"0.001",valueItem:"0.001"},{labelItem:"0.0001",valueItem:"0.0001"},{labelItem:"0.00001",valueItem:"0.00001"},{labelItem:"0.000001",valueItem:"0.000001"},{labelItem:"0.0000001",valueItem:"0.0000001"},{labelItem:"0.00000001",valueItem:"0.00000001"},{labelItem:"0.000000001",valueItem:"0.000000001"},{labelItem:"0.0000000001",valueItem:"0.0000000001"}];this.precisionList=e,e.length>0&&null!=e&&(this.newForm.updateField(e,"Precision",!1),this.formFields.Precision.inputfield.placeholder=C.placeHolder_Precision)},loadMissedTargetAction:function(){var e=[{labelItem:C.label_NoActionRequired,valueItem:"No Action Required"},{labelItem:C.label_HoldandRetest,valueItem:"Hold and Retest"},{labelItem:C.label_ShipandMonitor,valueItem:"Ship and Monitor"}];this.missedTargetActionList=e,e.length>0&&null!=e&&(this.formFields.MissedTargetAction.inputfield.placeholder=C.placeHolder_MissedTargetAction,this.newForm.updateField(e,"MissedTargetAction",!1),this.formFields.MissedTargetAction.inputfield.value=e[0].valueItem)},dimensionChangeEvent:function(){var e={};e.formFields=this.formFields,e.allDimensionSet=this.dimensionWithDisplayUnitList,e.dimensionList=this.dimensionList;new D(e)},initTypeList:function(){var e=[{labelItem:C.typeMeasurement,valueItem:p.MEASUREMENT_CHAR},{labelItem:C.typeDescriptive,valueItem:p.DESCRIPTIVE_CHAR}];this.newForm.updateField(e,"Type",!1)},initCategoryList:function(i){var t=i;this.categoryList=t,e.is(t)&&t[0].ActualRanges.length>0?(this.formFields.Category.inputfield.elementsList=t[0].ActualRanges,1===t[0].ActualRanges.length&&(this.formFields.Category.inputfield.value=t[0].TranslatedRanges,this.setToolTip(t[0].TranslatedRanges))):(this.formFields.Category.inputfield.elementsList=[],this.formFields.Category.inputfield.placeholder=C.NoResults)},createCharApplyCallBack:function(e){this.charData.testMethodsData=this.testMethodMap,this.charData.physicalId=e.data.physicalid;var i=u.createCharData(this.charData);if(null==e){m.unmaskLoader(this.container),this.stopLoader();var t=e.message;return c.clearNotifications(),void c.displayNotification({eventID:"error",msg:t||C.CharacteristicCreateFailure})}if(void 0!==e&&(m.unmaskLoader(this.container),this.createCloseAction(i,this),this.stopLoader(),c.clearNotifications(),c.displayNotification({eventID:"success",msg:C.CharacteristicCreateSuccess}),this.newForm.resetFields(),p.MEASUREMENT_CHAR===this.formFields.Type.fieldControl.value)){var s=[];s.push(this.formFields.DisplayUnit),s.push(this.formFields.Precision),u.hideUnhideToggle(s,"unhide");var n=[];n.push(this.formFields.PrecisionText),u.hideUnhideToggle(n,"hide"),this.formFields.DisplayUnit.fieldControl.fieldoptions.isMandatory=!0,document.getElementById("charLabel_UOM").getChildren()[0].getChildren()[0].show()}setTimeout(this.stopLoader(),1e3)},createCharCallBack:function(e){this.charData.testMethodsData=this.testMethodMap,this.charData.physicalId=e.data.physicalid;var i=u.createCharData(this.charData);if(null==e){m.unmaskLoader(this.container);var t=e.message;return c.clearNotifications(),void c.displayNotification({eventID:"error",msg:t||C.CharacteristicCreateFailure})}void 0!==e&&(this.createCloseAction(i,this),this.dialog.closeDialog(),this.showCreateLoader(),c.clearNotifications(),c.displayNotification({eventID:"success",msg:C.CharacteristicCreateSuccess})),setTimeout(this.stopLoader(),1e3)},enableOrDisableDialogButtons:function(e){e?this.dialog.dispatchEvent("CONTAINS_DIRTY_FIELD",{hasDirtyField:!1}):this.dialog.dispatchEvent("CONTAINS_DIRTY_FIELD",{hasDirtyField:!0})},onError:function(e){this.enableOrDisableDialogButtons(!1),this.stopLoader(),this.newForm.resetFields(),m.unmaskLoader(this.container),e&&(e.includes("No changetype access to business object 'PlmParameter")||e.includes("No fromconnect access to business object 'VPMReference"))?(c.clearNotifications(),c.displayNotification({eventID:"error",msg:C.Message_Error_CreateCharAccess})):(c.clearNotifications(),c.displayNotification({eventID:"error",msg:C.Message_Error_CreateCharAccess||e}))},resetToolTip:function(){this.formFields.Template.inputfield.tooltipInfos=new a({shortHelp:""})},setToolTip:function(e){this.formFields.Template.inputfield.tooltipInfos=new a({shortHelp:e.description})},validateFields:function(){var i,t,s,n,a,l=!0,r=!1;for(i in this.formFields)if(this.formFields.hasOwnProperty(i)){var o=this.formFields[i];if(e.is(o.inputfield.fieldoptions)&&(a=!e.is(o.inputfield.fieldoptions.visible)||o.inputfield.fieldoptions.visible,s=!!e.is(o.inputfield.fieldoptions.isMandatory)&&o.inputfield.fieldoptions.isMandatory),o.inputfield.fieldoptions)if(n=e.is(o.inputfield.fieldoptions.fieldName)?o.inputfield.fieldoptions.fieldName:"",a&&s)if(!this.hasValue(o.inputfield.value))o.inputfield._giveFocus(),r=!0,t=void 0!==t?t+","+n:n,l=!1}return c.clearNotifications(),r&&c.displayNotification({eventID:"error",msg:C.RequiredFields+t}),l},hasValue:function(e){return null!=e&&""!==e},showAllNodes:function(e){var i=this;e&&Array.isArray(e)&&e.forEach(function(e,t){e._canBeGrouped()?(e.setSearchFilterState(!0),e.applyFilters()):i.showAllNodes(e.getChildren())})},checkLimitsFields:function(e){e.IncludedLowerTarget.inputfield.checkFlag&&!e.LowerTarget.inputfield.value?this.newForm.toggleErrorMessage("acceptancecriteria",C.LowerUpperValueIfIncEnabled,!0):e.IncludedUpperTarget.inputfield.checkFlag&&!e.UpperTarget.inputfield.value?this.newForm.toggleErrorMessage("acceptancecriteria",C.LowerUpperValueIfIncEnabled,!0):!e.LowerTarget.inputfield.value||!e.UpperTarget.inputfield.value||e.LowerTarget.inputfield.value!=e.UpperTarget.inputfield.value||e.IncludedLowerTarget.inputfield.checkFlag&&e.IncludedUpperTarget.inputfield.checkFlag?e.LowerTarget.inputfield.value&&""!==e.LowerTarget.inputfield.value&&e.LowerTarget.inputfield.value===e.Target.inputfield.value&&!e.IncludedLowerTarget.inputfield.checkFlag?this.newForm.toggleErrorMessage("acceptancecriteria",C.lowerIncCheck,!0):e.UpperTarget.inputfield.value&&""!==e.UpperTarget.inputfield.value&&e.UpperTarget.inputfield.value===e.Target.inputfield.value&&!e.IncludedUpperTarget.inputfield.checkFlag?this.newForm.toggleErrorMessage("acceptancecriteria",C.upperIncCheck,!0):this.newForm.toggleErrorMessage("acceptancecriteria","",!1):this.newForm.toggleErrorMessage("acceptancecriteria",C.activateInc,!0),this.isRoutineReleaseLimitsDisabled||(e.LowerRoutineIncluded.inputfield.checkFlag&&!e.LowerRoutineReleaseLimit.inputfield.value||e.UpperRoutineIncluded.inputfield.checkFlag&&!e.UpperRoutineReleaseLimit.inputfield.value?this.newForm.toggleErrorMessage("routinereleaselimit",C.LowerUpperRoutineValueIfIncEnabled,!0):this.newForm.toggleErrorMessage("routinereleaselimit",C.LowerUpperRoutineValueIfIncEnabled,!1)),this.isSpecificationLimitsDisabled||(e.LowerSpecificationIncluded.inputfield.checkFlag&&!e.LowerSpecificationLimit.inputfield.value||e.UpperSpecificationIncluded.inputfield.checkFlag&&!e.UpperSpecificationLimit.inputfield.value?this.newForm.toggleErrorMessage("specificationlimit",C.LowerUpperSpecificationValueIfIncEnabled,!0):this.newForm.toggleErrorMessage("specificationlimit",C.LowerUpperSpecificationValueIfIncEnabled,!1))},evt_SelectChange:function(e){if("type"===e.toLowerCase())if("Others"===this.formFields.Type.inputfield.value)(t=[]).push(this.formFields.Dimension),t.push(this.formFields.DimensionSearchButton),t.push(this.formFields.DisplayUnit),t.push(this.formFields.Precision),u.hideUnhideToggle(t,"hide"),(i=[]).push(this.formFields.DimensionText),i.push(this.formFields.PrecisionText),u.hideUnhideToggle(i,"unhide"),this.formFields.Dimension.fieldControl.fieldoptions.isMandatory=!1,this.formFields.Dimension.fieldControl.hasDirtyField=!1,this.formFields.DisplayUnit.fieldControl.fieldoptions.isMandatory=!1,this.formFields.DisplayUnit.fieldControl.hasDirtyField=!1,this.formFields.Target.inputfield.pattern=null,this.formFields.Target.inputfield.placeholder=C.placeHolder_Values,this.formFields.LowerTarget.inlineContainer.hide(),this.formFields.UpperTarget.inlineContainer.hide(),this.formFields.DisplayUnit.inlineContainer.hide(),this.formFields.LowerSpecificationLimit.expander.hide(),this.formFields.LowerRoutineReleaseLimit.expander.hide(),this.formFields.Dimension.inputfield.value=null,this.formFields.DisplayUnit.inputfield.value=null,this.newForm.dispatchEvent("CONTAINS_DIRTY_FIELD");else if("DescriptiveCharacteristic"===this.formFields.Type.inputfield.value){(t=[]).push(this.formFields.Dimension),t.push(this.formFields.DimensionSearchButton),t.push(this.formFields.DisplayUnit),t.push(this.formFields.Precision),t.push(this.formFields.DimensionText),t.push(this.formFields.PrecisionText),t.push(this.formFields.LowerTarget),t.push(this.formFields.Target),t.push(this.formFields.UpperTarget),t.push(this.formFields.IncludedLowerTarget),t.push(this.formFields.IncludedUpperTarget),u.hideUnhideToggle(t,"hide"),this.formFields.Target.inputfield.value="",this.formFields.TargetNew.inputfield.value="",(i=[]).push(this.formFields.TargetNew),u.hideUnhideToggle(i,"unhide"),this.formFields.Dimension.fieldControl.fieldoptions.isMandatory=!1,this.formFields.Dimension.fieldControl.hasDirtyField=!1,this.formFields.DisplayUnit.fieldControl.fieldoptions.isMandatory=!1,this.formFields.DisplayUnit.fieldControl.hasDirtyField=!1,document.getElementById("charLabel_Dimension").getParent().getParent().hide(),document.getElementById("charLabel_UOM").getParent().getParent().hide(),document.getElementById("charLabel_Precision").getParent().getParent().hide(),document.getElementById("charLineEditorlowertarget").getParent().getParent().hide(),document.getElementById("charLineEditoruppertarget").getParent().getParent().hide(),document.getElementById("routinereleaselimit_error_icon")&&document.getElementById("routinereleaselimit_error_icon").getParent().getParent().getParent().hide(),document.getElementById("specificationlimit_error_icon")&&document.getElementById("specificationlimit_error_icon").getParent().getParent().getParent().hide(),document.getElementById("charLineEditortarget").hide(),document.getElementById("acceptancecriteria_error_icon").hide()}else{(t=[]).push(this.formFields.DimensionText),t.push(this.formFields.PrecisionText),t.push(this.formFields.TargetNew),u.hideUnhideToggle(t,"hide"),(i=[]).push(this.formFields.Dimension),i.push(this.formFields.DimensionSearchButton),i.push(this.formFields.DisplayUnit),i.push(this.formFields.Precision),i.push(this.formFields.Target),i.push(this.formFields.LowerTarget),i.push(this.formFields.Target),i.push(this.formFields.UpperTarget),i.push(this.formFields.IncludedLowerTarget),i.push(this.formFields.IncludedUpperTarget),u.hideUnhideToggle(i,"unhide"),this.formFields.Target.inputfield.value="",this.formFields.TargetNew.inputfield.value="",document.getElementById("charLabel_Dimension").getParent().getParent().show(),document.getElementById("charLabel_UOM").getParent().getParent().show(),document.getElementById("charLabel_Precision").getParent().getParent().show(),document.getElementById("charLineEditorlowertarget").getParent().getParent().show(),document.getElementById("charLineEditoruppertarget").getParent().getParent().show(),document.getElementById("routinereleaselimit_error_icon")&&document.getElementById("routinereleaselimit_error_icon").getParent().getParent().getParent().show(),document.getElementById("specificationlimit_error_icon")&&document.getElementById("specificationlimit_error_icon").getParent().getParent().getParent().show(),document.getElementById("charLineEditortarget").show(),document.getElementById("acceptancecriteria_error_icon").show(),this.formFields.Dimension.fieldControl.fieldoptions.isMandatory=!0,this.formFields.DisplayUnit.fieldControl.fieldoptions.isMandatory=!0,this.formFields.DimensionText.inputfield.value=null,this.formFields.LowerTarget.inlineContainer.show(),this.formFields.UpperTarget.inlineContainer.show(),this.formFields.DisplayUnit.inlineContainer.show(),this.formFields.LowerSpecificationLimit&&this.formFields.LowerSpecificationLimit.expander.show(),this.formFields.LowerRoutineReleaseLimit&&this.formFields.LowerRoutineReleaseLimit.expander.show(),this.newForm.dispatchEvent("CONTAINS_DIRTY_FIELD")}if("dimension"===e.toLowerCase()){var i,t;this.newForm.updateField(null,"DisplayUnit",!1),this.formFields.DisplayUnit.inputfield.value="",this.formFields.Precision.inputfield.value=0,(i=[]).push(this.formFields.DisplayUnit),i.push(this.formFields.Precision),u.hideUnhideToggle(i,"unhide"),(t=[]).push(this.formFields.PrecisionText),u.hideUnhideToggle(t,"hide"),this.formFields.DisplayUnit.fieldControl.fieldoptions.isMandatory=!0,document.getElementById("charLabel_UOM").getChildren()[0].getChildren()[0].show();var s={};s.formFields=this.formFields,s.allDimensionSet=this.dimensionWithDisplayUnitList,s.dimensionList=this.dimensionUnitMap;var n=new D(s);this.newForm.updateField(n.dbDisplayUnitList,"DisplayUnit",!1),this.newForm.dispatchEvent("CONTAINS_DIRTY_FIELD")}"displayunit"===e.toLowerCase()&&this.newForm.dispatchEvent("CONTAINS_DIRTY_FIELD")}})});