define("DS/ENOCharacteristicsApp/model/CharacteristicsModel",["DS/ENOCharacteristicsApp/utils/Constants","DS/SpecGridView/model/GridItemModel","DS/WebappsUtils/WebappsUtils","i18n!DS/ENOCharacteristicsApp/assets/nls/ENOCharacteristicsApp"],function(i,t,e,s){"use strict";return class extends t{constructor(i){super(i),this.appCore=i.appCore;let t=this.getProperties();Object.keys(t).forEach(i=>{Object.defineProperty(this.options.grid,i,{value:t[i],writable:!0,enumerable:!0,configurable:!0})})}getProperties(){return{acceptanceLimits:"",aggregate:"",appliesTo:[],authorizedValues:[],charPrecision:"",description:"",dimension:"",dimensionId:"",dimensionName:"",displayAppliesToBulk:"",displayAppliesToFinalPackage:"",displayAppliesToInProcess:"",displayLowerTargetIncluded:"",displayTarget:"",displayUnit:"",displayUnitId:"",displayUnitName:"",displayUnitIsBaseUnit:"",displayUpperTargetIncluded:"",externalTestMethod:"",lowerRoutineReleaseLimit:"",lowerSpecificationLimit:"",lowerTarget:"",mandatory:!1,maturity:"",missedTargetAction:"",name:"",notes:"",overrideAllowedOnChild:"",priority:"",revision:"",routineReleaseLimits:"",sequence:"",specificationLimits:"",testMethods:"",title:"",upperRoutineReleaseLimit:"",upperSpecificationLimit:"",upperTarget:"",displayLowerRoutineIncluded:"",displayUpperRoutineIncluded:"",displayLowerSpecificationIncluded:"",displayUpperSpecificationIncluded:""}}getAcceptanceLimits(){return this.options.grid.acceptanceLimits}setAcceptanceLimits(i){this.options.grid.acceptanceLimits=i}isAggregate(){return this.options.grid.aggregate}setAggregate(i){this.options.grid.aggregate=!!i}getAppliesTo(){return this.options.grid.appliesTo}setAppliesTo(i){this.options.grid.appliesTo=i}getAppliesToBulk(){return this.options.grid.appliesToBulk}setAppliesToBulk(i){this.options.grid.appliesToBulk=i}getAppliesToFinalPackage(){return this.options.grid.appliesToFinalPackage}setAppliesToFinalPackage(i){this.options.grid.appliesToFinalPackage=i}getAppliesToInProcess(){return this.options.grid.appliesToInProcess}setAppliesToInProcess(i){this.options.grid.appliesToInProcess=i}getAuthorizedValues(){return this.options.grid.authorizedValues}setAuthorizedValues(i){this.options.grid.authorizedValues=i}getCategory(){return this.options.grid.category}setCategory(i){this.options.grid.category=i}getCharAccess(){return this.options.grid.charAccess}setCharAccess(i){this.options.grid.charAccess=i}getCharNotes(){return this.options.grid.charNotes}setCharNotes(i){this.options.grid.charNotes=i}getCharPrecision(){return this.options.grid.charPrecision}setCharPrecision(i){this.options.grid.charPrecision=i}getCompareToStd(){return this.options.grid.compareToStd}setCompareToStd(i){this.options.grid.compareToStd=i}getDescription(){return this.options.grid.description}setDescription(i){this.options.grid.description=i}getDimension(){return this.options.grid.dimension}setDimension(i){this.options.grid.dimension=i}getDimensionId(){return this.options.grid.dimensionId}setDimensionId(i){this.options.grid.dimensionId=i}getDimensionName(){return this.options.grid.dimensionName}setDimensionName(i){this.options.grid.dimensionName=i}getDisplayAppliesToBulk(){return this.options.grid.displayAppliesToBulk}setDisplayAppliesToBulk(i){this.options.grid.displayAppliesToBulk=i}getDisplayAppliesToFinalPackage(){return this.options.grid.displayAppliesToFinalPackage}setDisplayAppliesToFinalPackage(i){this.options.grid.displayAppliesToFinalPackage=i}getDisplayAppliesToInProcess(){return this.options.grid.displayAppliesToInProcess}setDisplayAppliesToInProcess(i){this.options.grid.displayAppliesToInProcess=i}getDisplayTarget(){return this.options.grid.displayTarget}setDisplayTarget(i){this.options.grid.displayTarget=i}getDisplayUnit(){return this.options.grid.displayUnit}setDisplayUnit(i){this.options.grid.displayUnit=i}getDisplayUnitId(){return this.options.grid.displayUnitId}setDisplayUnitId(i){this.options.grid.displayUnitId=i}getDisplayUnitName(){return this.options.grid.displayUnitName}setDisplayUnitName(i){this.options.grid.displayUnitName=i}isDisplayUnitIsBaseUnit(){return this.options.grid.displayUnitIsBaseUnit}setDisplayUnitIsBaseUnit(i){this.options.grid.displayUnitIsBaseUnit=!!i}getExternalTestMethod(){return this.options.grid.externalTestMethod}setExternalTestMethod(i){this.options.grid.externalTestMethod=i}getLowerRoutineReleaseLimit(){return this.options.grid.lowerRoutineReleaseLimit}setLowerRoutineReleaseLimit(i){this.options.grid.lowerRoutineReleaseLimit=i}getLowerSpecificationLimit(){return this.options.grid.lowerSpecificationLimit}setLowerSpecificationLimit(i){this.options.grid.lowerSpecificationLimit=i}getLowerTarget(){return this.options.grid.lowerTarget}setLowerTarget(i){this.options.grid.lowerTarget=i}isLowerTargetIncluded(){return this.options.grid.displayLowerTargetIncluded}setLowerTargetIncluded(i){this.options.grid.displayLowerTargetIncluded=i}isLowerRoutineIncluded(){return this.options.grid.displayLowerRoutineIncluded}setLowerRoutineIncluded(i){this.options.grid.displayLowerRoutineIncluded=i}isUpperRoutineIncluded(){return this.options.grid.displayUpperRoutineIncluded}setUpperRoutineIncluded(i){this.options.grid.displayUpperRoutineIncluded=i}isLowerSpecificationIncluded(){return this.options.grid.displayLowerSpecificationIncluded}setLowerSpecificationIncluded(i){this.options.grid.displayLowerSpecificationIncluded=i}isUpperSpecificationIncluded(){return this.options.grid.displayUpperSpecificationIncluded}setUpperSpecificationIncluded(i){this.options.grid.displayUpperSpecificationIncluded=i}setUpperTargetIncluded(i){this.options.grid.displayUpperTargetIncluded=i}isMandatory(){return this.options.grid.mandatory}setMandatory(i){this.options.grid.mandatory=!!i}getMaturity(){return this.options.grid.maturity}setMaturity(i){this.options.grid.maturity=i}getMissedTargetAction(){return this.options.grid.missedTargetAction}setMissedTargetAction(i){this.options.grid.missedTargetAction=i}getName(){return this.options.grid.name}setName(i){this.options.grid.name=i}getNotes(){return this.options.grid.notes}setNotes(i){this.options.grid.notes=i}isOverrideAllowedOnChild(){this.options.grid.overrideAllowedOnChild}setOverrideAllowedOnChild(i){this.options.grid.overrideAllowedOnChild=!!i}getPriority(){return this.options.grid.priority}setPriority(i){this.options.grid.priority=i}getRevision(){return this.options.grid.revision}setRevision(i){this.options.grid.revision=i}getRoutineReleaseLimits(){return this.options.grid.routineReleaseLimits}setRoutineReleaseLimits(i){this.options.grid.routineReleaseLimits=i}getSequence(){return this.options.grid.sequenceOrder}setSequence(i){this.options.grid.sequence=i}getSpecificationLimits(){return this.options.grid.specificationLimits}setSpecificationLimits(i){this.options.grid.specificationLimits=i}getTestMethod(){return this.options.grid.testMethod}setTestMethod(i){this.options.grid.testMethod=i}getTestMethodsLabel(){return this.options.grid.testMethodsLabel}setTestMethodsLabel(i){this.options.grid.testMethodsLabel=i}getTestMethods(){return this.options.grid.testMethods}setTestMethods(i){this.options.grid.testMethods=i}getTestMethodsList(){return this.options.grid.testMethodsList}setTestMethodsList(i){this.options.grid.testMethodsList=i}getTitle(){return this.options.grid.title}setTitle(i){this.options.grid.title=i}getUpperRoutineReleaseLimit(){return this.options.grid.upperRoutineReleaseLimit}setUpperRoutineReleaseLimit(i){this.options.grid.upperRoutineReleaseLimit=i}getUpperSpecificationLimit(){return this.options.grid.upperSpecificationLimit}setUpperSpecificationLimit(i){this.options.grid.upperSpecificationLimit=i}getUpperTarget(){return this.options.grid.upperTarget}setUpperTarget(i){this.options.grid.upperTarget=i}isUpperTargetIncluded(){return this.options.grid.displayUpperTargetIncluded}getValuation(){return this.options.grid.valuation}setValuation(i){this.options.grid.valuation=i}setSearchFilterState(i){this.options.filteringContext=i}setTypeIcon(){if("DescriptiveCharacteristic"===this.options.grid["ds6w:type_value"])var i=e.getWebappsAssetUrl("ENOCharacteristicsApp","icons/32/DescriptiveCharacteristic01.png");else i=e.getWebappsAssetUrl("ENOCharacteristicsApp","icons/32/I_MeasurementCharacteristicsGrid.png");this.options.grid.typeIcon.push(i),this.options.icons.push(i)}setTestMethodDetails(i){var t=[];if(1===i.length)t.push(i[0].name+"; "+s.label_Title+": "+i[0]["attribute[Title]"]),this.options.grid.testMethod=i[0],this.setTestMethod(i[0].name);else if(i.length>1){for(var e=0;e<i.length;e++)t.push(i[e].name+"; "+s.label_Title+": "+i[e]["attribute[Title]"]);this.options.grid.testMethod=i,this.setTestMethod(i[0].name+" + "+(t.length-1))}else this.options.grid.testMethod="",this.setTestMethod("");this.options.grid.testMethods=t||""}getCurrentAccess(){return this.options.grid.charAccess}isLastRevision(){return!0}canBeRevised(){return!1}set(t){let e=t.physicalId||t.physicalid||void 0,s=t.type||i.TYPE_PERFORMANCE_CHAR,o=t.name||void 0,r=t.policy||i.POLICY_PERFORMANCE_CHAR,n=t.typeDisplayName||s,p=t.policyDisplayName||r;if(!(e&&s&&r))throw"Required data is missing";return this.setPhysicalId(e),this.setTypeActualName(s),this.setPolicyActualName(r),this.setName(o),this.setPolicy(p),this.setType(n),this.setTypeIcon(),this.syncModel(t),this.updateOptions(this.options),this}syncModel(t){let e=this,o=t.title||this.getTitle()||"";this.setTitle(o);let r=t.description||this.getDescription()||"";if(this.setDescription(r),t.dimension)if("string"==typeof t.dimension)"USER_DEFINED_UNIT"===t.dimension?(this.setDimension(s.label_OtherDimension),this.setDimensionId(t.dimension)):(this.setDimension(t.displayDimension),this.setDimensionId(t.dimension));else{let i=t.dimension.displayName||this.getDimension()||"",e=t.dimension.id||this.getDimensionId()||"",s=t.dimension.name||this.getDimensionName()||"";this.setDimension(i),this.setDimensionId(e),this.setDimensionName(s)}if(t.storageUnit){let i="string"==typeof t.storageUnit?t.displayUnit:t.storageUnit.displayName||this.getDisplayUnit()||"",e=t.storageUnit.id||this.getDisplayUnitId()||"",s=t.storageUnit.name||this.getDisplayUnitName()||"",o=t.storageUnit.isBaseUnit||this.isDisplayUnitIsBaseUnit()||"";this.setDisplayUnit(i),this.setDisplayUnitId(e),this.setDisplayUnitName(s),this.setDisplayUnitIsBaseUnit(o)}if(i.USER_DEFINED_UNIT===t.dimension||s.label_OtherDimension===t.dimension){let i=t.storageUnit&&t.storageUnit.length>0?t.storageUnit:t.displayUnit?t.displayUnit:"";this.setDisplayUnit(i)}let n="number"==typeof t.priority?t.priority.toString():"string"==typeof t.priority?t.priority:this.getPriority();this.setPriority(n);let p=t.mandatory||this.isMandatory()||this.getProperties().mandatory;this.setMandatory(p),t.current||this.getMaturity()||this.getProperties().maturity,this.setMaturity("");let a="",d=[],l="";t.testMethods&&t.testMethods.length>0?(d=t.testMethods,a=t.testMethods.length>1?`${t.testMethods[0].name} + ${t.testMethods.length-1}`:t.testMethods[0].name,t.testMethods.forEach(i=>{l+=i.name+" "})):(a=this.getTestMethods(),d=this.getTestMethodsList(),l=this.getTestMethodsLabel()),this.setTestMethods(a),this.setTestMethodsList(d),this.setTestMethodsLabel(l);let h=t.min||this.getLowerTarget()||"";this.setLowerTarget(h);let g=t.hasOwnProperty("isMinIncluded")?t.isMinIncluded:this.isLowerTargetIncluded();this.setLowerTargetIncluded(g);let c=t.max||this.getUpperTarget()||"";this.setUpperTarget(c);let u=t.hasOwnProperty("isMaxIncluded")?t.isMaxIncluded:this.isUpperTargetIncluded();this.setUpperTargetIncluded(u);let m=t.target||this.getDisplayTarget()||"";this.setDisplayTarget(m);let y=t.precision||t.charPrecision||this.getCharPrecision()||"";this.setCharPrecision(y);let T=t.lowerRoutineReleaseLimit||this.getLowerRoutineReleaseLimit()||"";this.setLowerRoutineReleaseLimit(T);let L=t.hasOwnProperty("isLowerRoutineReleaseLimitIncluded")?t.isLowerRoutineReleaseLimitIncluded:this.isLowerRoutineIncluded();this.setLowerRoutineIncluded(L);let I=t.hasOwnProperty("isLowerSpecificationLimitIncluded")?t.isLowerSpecificationLimitIncluded:this.isLowerSpecificationIncluded();this.setLowerSpecificationIncluded(I);let U=t.hasOwnProperty("isUpperRoutineReleaseLimitIncluded")?t.isUpperRoutineReleaseLimitIncluded:this.isUpperRoutineIncluded();this.setUpperRoutineIncluded(U);let R=t.hasOwnProperty("isUpperSpecificationLimitIncluded")?t.isUpperSpecificationLimitIncluded:this.isUpperSpecificationIncluded();this.setUpperSpecificationIncluded(R);let A=t.upperRoutineReleaseLimit||t.upperRoutineReleaselimit||this.getUpperRoutineReleaseLimit()||"";this.setUpperRoutineReleaseLimit(A);let M=t.lowerSpecificationLimit||this.getLowerSpecificationLimit()||"";this.setLowerSpecificationLimit(M);let f=t.upperSpecificationLimit||this.getUpperSpecificationLimit()||"";this.setUpperSpecificationLimit(f);let D=t.notes||this.getNotes()||"";this.setNotes(D);let w=t.missedTargetAction||this.getMissedTargetAction()||"",S={};S["No Action Required"]=s.label_NoActionRequired,S["Hold and Retest"]=s.label_HoldandRetest,S["Ship and Monitor"]=s.label_ShipandMonitor,this.setMissedTargetAction(S[w]);let P=t.appliesTo||this.getAppliesTo()||this.getProperties().appliesTo;this.setAppliesTo(P);let N=t.authorizedValues||this.getAuthorizedValues()||this.getProperties().authorizedValues;this.setAuthorizedValues(N);let C=t.sequence||this.getSequence()||"";this.setSequence(C);let b=t["attribute[PerformanceChar.IsAggregate].value"]||this.isAggregate()||"";return this.setAggregate(b),t.additionalAttributes?t.additionalAttributes.forEach(i=>{let t=i.extension+"||"+i.name,s=t+"_type",o=i.value;this.options.grid[t]=o,e.options.grid[s]=i.type}):e.appCore.defaultExtensionAttributes&&t.enableDefaultExtensions&&e.appCore.defaultExtensionAttributes.forEach(function(i){if("XP_PerformanceChar_Ext"===i.extension){let t=i.extension+"||"+i.name,s=t+"_type",o=e.options.grid[t];e.options.grid[t]=o||i.defaultValue,e.options.grid[s]=i.type}}),this}synCharDetails(i){return this.syncModel(i)}}});