define("DS/ENOCharacteristicsApp/utils/CharacteristicsValidation",["UWA/Core","UWA/Class","DS/ENOCharacteristicsApp/utils/Constants","DS/ENOCharacteristicsApp/utils/Notification","DS/ENOCharacteristicsApp/utils/CharacteristicsUtils","i18n!DS/ENOCharacteristicsApp/assets/nls/ENOCharacteristicsApp"],function(e,i,a,l,r,t){return i.singleton({init:function(){},limitsValues:{},getDBKey:function(e){var i="";switch(e){case"externalTestMethod":i=a.KEY_EXTERNAL_TMS;break;case"tree":i=a.KEY_TITLE;break;case"description":i=a.KEY_DESCRIPTION;break;case"charNotes":i=a.KEY_NOTES;break;case"lowerSpecificationLimit":i=a.KEY_LOWER_SPECIFICATION_LIMIT;break;case"upperSpecificationLimit":i=a.KEY_UPPER_SPECIFICATION_LIMIT;break;case"lowerTarget":i=a.KEY_LOWER_TARGET;break;case"displayLowerTargetIncluded":i=a.KEY_LOWER_INCl;break;case"displayTarget":i=a.KEY_TARGET;break;case"upperTarget":i=a.KEY_UPPER_TARGET;break;case"displayUpperTargetIncluded":i=a.KEY_UPPER_INCl;break;case"lowerRoutineReleaseLimit":i=a.KEY_LOWER_ROUTINE_LIMIT;break;case"upperRoutineReleaseLimit":i=a.KEY_UPPER_ROUTINE_LIMIT;break;case"displayUnit":i=a.KEY_DISPLAYUNIT;break;case"charPrecision":i=a.KEY_PRECISION;break;case"priority":i=a.KEY_PRIORITY;break;case"missedTargetAction":i=a.KEY_MISSED_TARGET_ACTION;break;case"displayAppliesToBulk":i=a.KEY_APPLIES_TO_BULK;break;case"displayAppliesToInProcess":i=a.KEY_APPLIES_TO_IN_PROCESS;break;case"displayAppliesToFinalPackage":i=a.KEY_APPLIES_FINAL_PACKAGE;break;default:Mask.unmaskLoader(that.container)}return i},isValid:function(e){if(null!=e){return""!==e&&""!==("string"==typeof e?e.trim():e)}return!1},validateRangeObj:function(e,i){let a=!0;if(e.upperValue&&void 0!==e.upperValue&&""!==e.upperValue){if(0==(a=!isNaN(e.upperValue)))return a;e.upperValue=parseFloat(e.upperValue)}if(e.lowerValue&&void 0!==e.lowerValue&&""!==e.lowerValue){if(0==(a=!isNaN(e.lowerValue)))return a;e.lowerValue=parseFloat(e.lowerValue)}if(e.target&&""!==e.target){if(0==(a=!isNaN(e.target)))return a;e.target=parseFloat(e.target)}return e.upperValue&&e.lowerValue&&(a=!!(e.upperInclusive&&e.lowerInclusive&&e.lowerValue<=e.upperValue)||e.lowerValue<e.upperValue),i&&a&&e.target&&(e.lowerValue&&(a=!!(e.lowerInclusive&&e.lowerValue<=e.target||!e.lowerInclusive&&e.lowerValue<e.target)),e.upperValue&&a&&(a=!!(e.upperInclusive&&e.upperValue>=e.target||!e.upperInclusive&&e.upperValue>e.target))),a},checkForStringValues:function(e,i,a){let l=!0;return(isNaN(e.upperValue)||isNaN(e.lowerValue)||isNaN(i.upperValue)||isNaN(i.lowerValue)||isNaN(a.upperValue)||isNaN(a.lowerValue)||isNaN(a.target))&&(l=!1),l},compareRangeObj:function(e,i,a){let l=!0;return e.upperValue&&(i.upperValue||i.lowerValue)&&(i.upperValue&&(l=!!((e.upperInclusive||!e.upperInclusive&&!i.upperInclusive)&&e.upperValue>=i.upperValue||e.upperValue>i.upperValue)),i.lowerValue&&l&&(l=!!(e.upperInclusive&&i.lowerInclusive&&e.upperValue>=i.lowerValue||e.upperValue>i.lowerValue))),e.lowerValue&&(i.upperValue||i.lowerValue)&&l&&(i.upperValue&&(l=!!(e.lowerInclusive&&i.upperInclusive&&e.lowerValue<=i.upperValue||e.lowerValue<i.upperValue)),i.lowerValue&&l&&(l=!!((e.lowerInclusive||!e.lowerInclusive&&!i.lowerInclusive)&&e.lowerValue<=i.lowerValue||e.lowerValue<i.lowerValue))),a&&i.target&&l&&(e.upperValue&&(l=!!(e.upperInclusive&&e.upperValue>=i.target||e.upperValue>i.target)),e.lowerValue&&l&&(l=!!(e.lowerInclusive&&e.lowerValue<=i.target||e.lowerValue<i.target))),l},validateLimitsValuesNew:function(e,i){var r=e,u=r.LowerSpecificationLimit&&r.LowerSpecificationLimit.inputfield.value?r.LowerSpecificationLimit.inputfield.value:"",p=!!r.LowerSpecificationIncluded&&r.LowerSpecificationIncluded.inputfield.checkFlag,n=r.LowerRoutineReleaseLimit&&r.LowerRoutineReleaseLimit.inputfield.value?r.LowerRoutineReleaseLimit.inputfield.value:"",s=!!r.LowerRoutineIncluded&&r.LowerRoutineIncluded.inputfield.checkFlag,c=r.LowerTarget.inputfield.value?r.LowerTarget.inputfield.value:"",o=r.IncludedLowerTarget.inputfield.checkFlag,d=r.Target.inputfield.value?r.Target.inputfield.value:"",V=r.UpperTarget.inputfield.value?r.UpperTarget.inputfield.value:"",I=r.IncludedUpperTarget.inputfield.checkFlag,f=r.UpperRoutineReleaseLimit&&r.UpperRoutineReleaseLimit.inputfield.value?r.UpperRoutineReleaseLimit.inputfield.value:"",w=!!r.UpperRoutineIncluded&&r.UpperRoutineIncluded.inputfield.checkFlag,R=r.UpperSpecificationLimit&&r.UpperSpecificationLimit.inputfield.value?r.UpperSpecificationLimit.inputfield.value:"",g=!!r.UpperSpecificationIncluded&&r.UpperSpecificationIncluded.inputfield.checkFlag;i===a.ERROR?notificationType=a.ERROR:notificationType=a.WARNING;var v=!0,L="";let E={upperValue:R,upperInclusive:g,lowerValue:u,lowerInclusive:p},N={upperValue:f,upperInclusive:w,lowerValue:n,lowerInclusive:s},T={upperValue:V,upperInclusive:I,target:d,lowerValue:c,lowerInclusive:o};return(v=this.checkForStringValues(E,N,T))?(L=(v=!!(v=this.validateRangeObj(E,!1))&&this.validateRangeObj(N,!1))?"":t.Message_ValidateUpperLowerValue,L=(v=!!v&&this.validateRangeObj(T,!0))||L?L:t.Message_ValidateAcceptanceValues,L=(v=!!v&&this.compareRangeObj(E,N,!1))||L?L:t.Message_RoutineWithInSpecLimits,L=(v=!!v&&this.compareRangeObj(E,T,!0))||L?L:t.Message_AcceptanceWithInSpecLimits,L=(v=!!v&&this.compareRangeObj(N,T,!0))||L?L:t.Message_AcceptanceWithInRoutineLimits):L=v?"":t.Message_StringValueNotAllowed,v||(l.clearNotifications(),l.displayNotification({eventID:notificationType,msg:L})),v},validateRoutineOrSpecsLimitNew:function(e,i,a,l){var r=!0;return e&&a&&(r=i&&l?!(e>a):!(e>=a)),r},validateNumericLimitValues:function(e,i){var a=e,l=a.LowerSpecificationLimit.inputfield.value,r=a.LowerRoutineReleaseLimit.inputfield.value,t=a.LowerTarget.inputfield.value,u=a.Target.inputfield.value,p=a.UpperTarget.inputfield.value,n=a.UpperRoutineReleaseLimit.inputfield.value,s=a.UpperSpecificationLimit.inputfield.value,c=a.Dimension.inputfield.value,o=[l,r,t,u,p,n,s];return this.validateLimitValues(o,c,i)},validateLimitValues:function(e,i,r){var u,p=[],n=!0;u=r===a.ERROR?a.ERROR:a.WARNING;for(var s=0;s<e.length;s++)e[s]&&p.push(e[s]);if(1==p.length||0==p.length)return n;for(var c=0;c<p.length-1;c++){if(parseFloat(p[c])>parseFloat(p[c+1])&&n){n=!1,l.clearNotifications(),l.displayNotification({eventID:u,msg:t.Message_ValidateLimitsFields});break}}return n},checkForEqualValues:function(e,i){return isNaN(e)&&isNaN(i)?e==i:parseFloat(e)==parseFloat(i)},hasAllPositiveInteger:function(e){return!!e.match(/^(\s*|[+]?[0-9]*)$/)},hasValidationValueFields:function(e,i){return!!i.split(",").includes(e)},hasNumericValueFields:function(e){return!!a.NUMERIC_VALUE_FIELDS.split(",").includes(e)}})});