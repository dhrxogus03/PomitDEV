define("DS/ENOCharacteristicsApp/utils/PlatformDataProvider",["UWA/Core","UWA/Class/Promise","DS/i3DXCompassPlatformServices/i3DXCompassPlatformServices","DS/ENOCharacteristicsApp/utils/Constants"],function(t,r,e,n){"use strict";return{_platforms:null,getServiceURL:function(t,r){return r=r||this.getPlatformId(),this._platforms&&this._platforms[r]&&this._platforms[r][t]?this._platforms[r][t]:null},getDefault3DSpaceUrl:function(){return this.getServiceURL(n.SERVICE_3DSPACE_NAME)},getAllPlatforms:function(){var n=this;return new r(function(r,i){e.getPlatformServices({onComplete:function(e){var o=function(r){if(t.is(r,"array")&&r.length>0){var e={};return r.forEach(function(t){e[t.platformId]=t}),e}return null}(e);if(null===o)return i("cannot retrieve platform data");n._platforms=o,r(o)},onFailure:i})})},loadCurrentUserRoles:function(){return new r(function(t,r){e.getGrantedRoles(function(r){t(r)})})}}});