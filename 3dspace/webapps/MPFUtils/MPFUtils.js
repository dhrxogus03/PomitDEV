define("DS/MPFUtils/MPFUtils",["DS/MPFError/BadArgumentError"],function(e){"use strict";function t(t){let r=5381;if("string"!=typeof t)throw new e("MPFUtils.stringHashCode parameter must be a string");const s=t.length;for(let e=0;e<s;e++)r=33*r+t.charCodeAt(e),r>>>=0;return r}return{doNothing:function(){},alwaysTrue:function(){return!0},isEmpty:function(e){return Object.prototype.isPrototypeOf(e)&&0===Object.keys(e).length},objectHasValue:function(e,t){return Object.values(e).includes(t)},objectValues:function(e){return Object.values(e)},generateUUID:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.floor(16*Math.random());let r;return(r="x"===e?t:3&t|8).toString(16)})},objectChangeKey:function(e,t,r){e[r]=e[t],delete e[t]},findInArray:function(e,t){const r=e.length;for(let s=0;s<r;s++)if(t(e[s]))return e[s]},stringHashCode:t,objectHashCode:function(r){let s=0;if("object"!=typeof r)throw new e("MPFUtils.objectHashCode parameter must be an object");for(const e in r)r.hasOwnProperty(e)&&r[e]&&(s+=t(r[e].toString()),s>>>=0);return s},debouncePromise:function(e,t){let r;const s=[];return function(...o){return clearTimeout(r),r=setTimeout(()=>{e(...o).then(e=>{s.forEach(t=>t.resolve(e))}).catch(e=>{s.forEach(t=>t.reject(e))}),s.forEach(e=>e)},t),new Promise((e,t)=>{s.push({resolve:e,reject:t})})}}}}),define("DS/MPFUtils/StringUtils",[],()=>{const e=/[\u3400-\u4DB5\u4E00-\u9FCB\uF900-\uFA6A]/,t=/[\u2E80-\u2FD5]/,r=/[\u3041-\u3096]/,s=/[\u30A0-\u30FF]/,o=/[\uFF5F-\uFF9F]/,i=/[\u3000-\u303F]/,n=/[\u31F0-\u31FF\u3220-\u3243\u3280-\u337F]/;return{hasJapaneseChar:function(a){return!!(a.match(e)||a.match(t)||a.match(r)||a.match(s)||a.match(o)||a.match(i)||a.match(n))}}}),define("DS/MPFUtils/StorageUtils",["DS/MPFServices/ObjectService"],function(e){"use strict";const t="mpf_cart_";function r(e){return t+e}const s="mpf_country_";function o(e){return s+e}const i="mpf_page_";function n(e){return i+e}const a="mpf_offers_";function c(e){return a+e}return class{static storeCart(t,s){e.requiredOfType(t,"string","first argument must be a string (see DS/MPFServices/MarketplaceServices)"),e.requiredOfType(s,"object","second argument must be a CartModel"),this.setSessionStorageItem(r(t),JSON.stringify(s.toJSON()))}static hasStoredCart(e){return!!this.getSessionStorageItem(r(e))}static loadStoredCart(t,s){e.requiredOfType(t,"string","first argument must be a string (see DS/MPFServices/MarketplaceServices)"),e.requiredOfType(s,"object","second argument must be a CartModel");const o=this.getSessionStorageItem(r(t));o&&s.set(s.parse(JSON.parse(o)))}static clearCart(t){e.requiredOfType(t,"string","first argument must be a string (see DS/MPFServices/MarketplaceServices)"),this.removeSessionStorageItem(r(t))}static storeCountry(t,r){e.requiredOfType(t,"string","first argument must be a string (see DS/MPFServices/MarketplaceServices)"),e.requiredOfType(r,"string","second argument must be a string (country code in iso2/iso3 format)"),this.setLocalStorageItem(o(t),r)}static getStoredCountry(t){return e.requiredOfType(t,"string","first argument must be a string (see DS/MPFServices/MarketplaceServices)"),this.getLocalStorageItem(o(t))}static storeCurrentPage(t,r){e.requiredOfType(t,"string","options.service must be a string (see DS/MPFServices/MarketplaceServices)"),e.requiredOfType(r,"string","options.page must be a string"),this.setSessionStorageItem(n(t),r)}static getCurrentPage(t){return e.requiredOfType(t,"string","options.service must be a string (see DS/MPFServices/MarketplaceServices)"),this.getSessionStorageItem(n(t))}static clearCurrentPage(t){e.requiredOfType(t,"string","options.service must be a string (see DS/MPFServices/MarketplaceServices)"),this.removeSessionStorageItem(n(t))}static storeOffers(t,r){e.requiredOfType(t,"string","options.service must be a string (see DS/MPFServices/MarketplaceServices)"),e.requiredOfType(r,"object","options.offers must be an OfferCollection"),this.setSessionStorageItem(c(t),JSON.stringify(r.toArray().map(e=>e.toJSON())))}static loadStoredOffers(t,r){e.requiredOfType(t,"string","options.service must be a string (see DS/MPFServices/MarketplaceServices)");const s=this.getSessionStorageItem(c(t));s&&r.add(JSON.parse(s),{dataProxy:r.dataProxy})}static setLocalStorageItem(e,t){window.localStorage.setItem(e,t)}static getLocalStorageItem(e){return window.localStorage.getItem(e)}static removeLocalStorageItem(e){window.localStorage.removeItem(e)}static setSessionStorageItem(e,t){window.sessionStorage.setItem(e,t)}static getSessionStorageItem(e){return window.sessionStorage.getItem(e)}static removeSessionStorageItem(e){window.sessionStorage.removeItem(e)}static getLanguageCookie(){return this.getCookie("swymlang")}static setCookie(e,t){const r=encodeURIComponent(e)+"="+encodeURIComponent(t),s=new Date,o="; expires="+new Date(s.getFullYear()+1,s.getMonth(),s.getDate()).toUTCString(),i=window.location.hostname,n="; domain="+i.substring(i.indexOf("."));document.cookie=r+o+n+"; path=/"}static getCookie(e){const t=document.cookie.split(/\s*;\s*/).map(function(e){const t=e.split("=");return{key:t.length>=1?t[0]:null,value:t.length>=2?t[1]:null}}),r=encodeURIComponent(e),s=t.find(e=>e.key===r);return s&&s.value}}}),define("DS/MPFUtils/FormatUtils",["UWA/Core","DS/MPFServices/ObjectService","DS/MPFUtils/StorageUtils","i18n!DS/MPFUtils/assets/nls/MPFUtils"],function(e,t,r,s){"use strict";return class{static getReadableFileSize(e){const t=Math.floor(Math.log(e)/Math.log(1024)),r=[s.get("bytes"),s.get("kiloByte"),s.get("megaByte"),s.get("gigaByte"),s.get("teraByte"),"Pb","Eb","Zb","Yb"];return 1*(e/Math.pow(1024,t)).toFixed(2)+r[t]}static formatPrice(e,{currency:s="USD",locale:o=r.getLanguageCookie()}={}){return t.requiredOfType(e,"number","price must be a number"),e.toLocaleString(o,{style:"currency",currency:s,currencyDisplay:"code"})}}});