define("DS/ENOGantt/Data/ResourceStore",["UWA/Class","DS/Foundation2/FoundationV2Data","DS/ENOGantt/Ven/Bryntum","DS/ENOGantt/URLStore"],function(e,t,a,n){"use strict";var o;try{o=e.extend({init:function(e){let t=UWA.clone(e||{},!1).viewCollection;Ext.define("DS.ENOGantt.Data.Resource",{extend:"Ext.data.Model",fields:[{name:"Id",mapping:"Id"},{name:"Name",mapping:"Name"},{name:"Username",mapping:"Username"}]}),Ext.define("DS.ENOGantt.Data.ResourceStore",{extend:"Ext.data.Store",pageSize:10,model:"DS.ENOGantt.Data.Resource",proxy:{type:"memory",reader:{type:"json"}},load:function(e){var a=this,o=e.params.query,r=(Ext.ComponentQuery.query("#dpmprojectgantt")[0].crudManager,n.getResourceLoadUrl(o));t.getDataModelDetails({model:App.Infra.contextInfo,fields:r.fields,include:r.include,customParams:r.customParams,donotPersist:!0,refresh:!0}).then(function(e){var t=JSON.parse(JSON.stringify(e));if(t.Resources){for(var n=0,o=t.Resources.length;n<o;n++){var r=t.Resources[n];a.add(r)}a.commitChanges()}}),this.removeAll(),this.callParent(arguments)},listeners:{load:function(){console.log("========================ResourceStore Loaded==========");var e=Ext.ComponentQuery.query("#dpmresourceutilizationpanel")[0].getResourceStore();this.filterBy(function(t){var a=t.get("Id");return a="resource-"+a,null===(t=e.getModelById(a))})}}})}})}catch(e){console.log(e)}return o});