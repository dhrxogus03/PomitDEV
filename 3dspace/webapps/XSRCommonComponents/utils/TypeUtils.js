define("DS/XSRCommonComponents/utils/TypeUtils",["UWA/Class","DS/XSRCommonComponents/utils/Constants"],function(t,a){var e=t.singleton({physicalProductList:[],rawMaterialSubtypesList:[],rawMaterialActualSubtypesList:[],physicalProductArr:[],rawMaterialArray:[],techSpecList:[],techSpecArr:[],physicalProductMap:{},rawMaterialMap:{},techSpecMap:{},dimensionsJson:{},uomUnitsMap:new Map,allUomUnits:{},rawMatSubTypeArr:[],rawMatSubtypeList:[],rawMatActualName:[],performanceChar:[a.TYPE_MEASUREMENT_CHAR,a.TYPE_DESCRIPTIVE_CHAR],performanceSpec:[],getPhysicalProductList:function(){return this.physicalProductList},getRawMaterialSubtypesList:function(){return this.rawMaterialSubtypesList},getRawMaterialActualSubtypesList:function(){return this.rawMaterialActualSubtypesList},getRawMaterialMap:function(){return this.rawMaterialMap},setPhysicalProductList:function(t){this.physicalProductList=t},setRawMaterialSubtypesList:function(t){this.rawMaterialSubtypesList=t},getPhysicalProductArr:function(){return this.physicalProductArr},getRawMaterialArr:function(){return this.rawMaterialArray},setPhysicalProductArr:function(t){this.physicalProductArr=t,this.setPhysicalProductMap()},setFormulatedProductSet:function(t){this.FormulatedProductSet=t},getFormulatedProductSet:function(){if(this.FormulatedProductSet)return this.FormulatedProductSet},addToPhysicalProduct:function(t){t&&t.length<=0||t.forEach(t=>{let a=t.objectType,e=t.displayType;this.physicalProductMap[a]||(this.physicalProductArr.push({labelItem:e,valueItem:a}),this.physicalProductMap[a]=e)})},setRawMaterialDataV2:function(t){let a=this;t&&t.forEach(t=>{"FALSE"===t.abstract.toUpperCase()&&(a.rawMatSubTypeArr.push({labelItem:t.nlsLabel,valueItem:t.dbName}),a.rawMatSubtypeList.push(t.nlsLabel),a.rawMatActualName.push(t.dbName))}),this.rawMaterialSubtypesList=this.rawMatSubtypeList,this.rawMaterialActualSubtypesList=this.rawMatActualName,this.rawMaterialArray=this.rawMatSubTypeArr,this.setRawMaterialSubtypesMap()},setRawMaterialData:function(t){var a=t.subTypeList;a&&(this.iterateRawMatData(a),this.rawMatSubTypeArr.push({labelItem:t.identifier.nlsLabel,valueItem:t.identifier.dbName}),this.rawMatSubtypeList.push(t.identifier.dbName),this.rawMatActualName.push(t.identifier.nlsLabel)),this.rawMaterialSubtypesList=this.rawMatSubtypeList,this.rawMaterialActualSubtypesList=this.rawMatActualName,this.rawMaterialArray=this.rawMatSubTypeArr,this.setRawMaterialSubtypesMap()},iterateRawMatData:function(t){var a=this;t.forEach(function(t){if(!t.abstract){var e={labelItem:t.identifier.nlsLabel,valueItem:t.identifier.dbName};a.rawMatSubTypeArr.push(e),a.rawMatSubtypeList.push(t.identifier.dbName),a.rawMatActualName.push(t.identifier.nlsLabel)}a.iterateRawMatData(t.subTypeList)})},setRawMaterialAdminData:function(t){let a=[];t.forEach(function(t){a.push(t.dbName)});let e=this,i=[];return Object.keys(e.rawMaterialArray).forEach(t=>{a.indexOf(e.rawMaterialArray[t].valueItem)<0&&i.push(e.rawMaterialArray[t])}),i},setProductAdminData:function(t,a){let e=[];t.forEach(function(t){e.push(t.dbName)});let i=[];return a&&a.forEach(function(t){e.indexOf(t.valueItem)<0&&"Raw_Material"!=t.valueItem&&i.push(t)}),i},getTechSpecList:function(){return this.techSpecList},setTechSpecList:function(t){this.techSpecList=t},getTechSpecArr:function(){return this.techSpecArr},setTechSpecArr:function(t){this.techSpecArr=t,this.setTechSpecMap()},addToRawMaterial:function(t){t&&t.length<=0||t.forEach(t=>{let a=t.objectType,e=t.displayType;this.rawMaterialSubtypesList.includes(e)||this.rawMaterialActualSubtypesList.includes(a)||(this.rawMaterialSubtypesList.push(e),this.rawMaterialActualSubtypesList.push(a),this.rawMaterialArray.push({labelItem:e,valueItem:a}),this.rawMaterialMap[a]=e)})},setPhysicalProductMap:function(){let t=this;Object.keys(t.physicalProductArr).forEach(a=>{t.physicalProductMap[t.physicalProductArr[a].valueItem]=t.physicalProductArr[a].labelItem})},setRawMaterialSubtypesMap:function(){let t=this;Object.keys(t.rawMaterialArray).forEach(a=>{t.rawMaterialMap[t.rawMaterialArray[a].valueItem]=t.rawMaterialArray[a].labelItem}),t.rawMaterialMap.Raw_Material="Raw Material"},setTechSpecMap:function(){let t=this;Object.keys(t.techSpecArr).forEach(a=>{t.techSpecMap[t.techSpecArr[a].valueItem]=t.techSpecArr[a].labelItem})},isTechSpec:function(t){return JSON.stringify(this.getTechSpecArr()).includes(t)},isTechnicalSpecification:function(t){return this.isTechSpec(t)},isPhyProd:function(t){return JSON.stringify(this.getPhysicalProductArr()).includes(t)},isRawMaterial:function(t){return JSON.stringify(this.getRawMaterialArr()).includes(t)},isPhyOrRaw:function(t){return(this.isPhyProd(t)||this.isRawMaterial(t))&&!e.isFormulatedProduct(t)},isPhysicalProduct:function(t){return this.isPhyProd(t)||this.isRawMaterial(t)||this.isFormulatedProduct(t)},isFormulatedProduct:function(t){return a.TYPE_FORMULATEDPRODUCT===t||a.TYPE_FORMULAPRODUCT===t||new Set(this.getFormulatedProductSet()).has(t)},isPerformanceSpecChar:function(t){return this.isPerformanceSpecification(t)||this.isPerformanceCharacteristics(t)},isPerformanceSpecification(t){return a.TYPE_PERFORMANCE_SPEC===t||this.performanceSpec.includes(t)},isPerformanceCharacteristics(t){return this.performanceChar.includes(t)},isDescriptiveCharacteristics:t=>a.TYPE_DESCRIPTIVE_CHAR===t,isMeasurementCharacteristics:t=>a.TYPE_MEASUREMENT_CHAR===t,setDimensions:function(t){var a=this;t&&t.forEach(t=>{a.dimensionsJson[t.dbName]=t.nlsLabel,a.setUOMUnits(t.dbName,t.units)})},getDimensions:function(t){return t&&this.dimensionsJson[t]?this.dimensionsJson[t]:this.dimensionsJson},setUOMUnits:function(t,a){if(t&&a){let e={};a.forEach(t=>e[t.dbName]=t.nlsLabel),this.uomUnitsMap.set(t,e)}},getUOMUnits:function(t,a){if(t&&this.uomUnitsMap.has(t))return this.uomUnitsMap.get(t);if(a&&this.uomUnitsMap.has(a))return this.getUOMUnits(a);var e={};return this.uomUnitsMap.forEach(t=>{Object.assign(e,t)}),e[t]||e},getKeyMapping:function(t){return t||""!=t||0!=t.length?this.isPhyProd(t)||this.isRawMaterial(t)||this.isFormulatedProduct(t)?"PhysicalProduct":this.isTechSpec(t)||"Document"==t?"TechnicalSpec":"notfound":null},getlabelofType:function(t){return this.physicalProductMap[t]||this.techSpecMap[t]||t},getTypeOfLabel:function(t){let a=Object.assign(this.physicalProductMap,this.techSpecMap);for(let e in a)if(a[e].toLowerCase()==t.toLowerCase())return e;return null}});return e});