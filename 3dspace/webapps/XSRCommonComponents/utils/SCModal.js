define("DS/XSRCommonComponents/utils/SCModal",["DS/UIKIT/Modal","UWA/Core","i18n!DS/XSRCommonComponents/assets/nls/XSRCommonComponents","DS/PlatformAPI/PlatformAPI"],function(t,o,n,e){"use strict";function i(e){this.options={title:"Dialog",className:"",withFooter:!0},this.options=o.extend(this.options,e),this.modal=function(o){return new t({className:o.className||"",closable:!0,header:"<h4>"+o.title+"</h4>",body:"",footer:""})}(this.options),this.modal.inject(widget.body),this.options.withFooter&&(this.options.customFooter?this.modal.setFooter(this.options.customFooter()):this.modal.setFooter("<button type='button' name='okButton' class='btn btn-primary'>"+n.get("button.ok")+"</button> <button type='button' name='cancelButton' class='btn btn-default'>"+n.get("button.cancel")+"</button>"),this._bindFooterEvent())}return i.prototype.show=function(){this.modal.show()},i.prototype.dispose=function(){this.modal.hide()},i.prototype.injectBody=function(t){this.modal.setBody(t)},i.prototype.getBody=function(){return this.modal.getBody()},i.prototype.injectHeader=function(t){this.modal.setHeader(t)},i.prototype.injectFooter=function(t){this.modal.setFooter(t)},i.prototype.onClose=function(t,o){this.modal.addEvent("onHide",function(n){t.call(o,n)},this)},i.prototype.onValidate=function(t,o){var n=this;this.options.withFooter&&this.modal.addEvent("onValidate",function(i){t.call(o,function(){n.destroy()}),e.publish("sc")},this)},i.prototype._bindFooterEvent=function(){var t=this;this.modal.getFooter().getElements(".btn").forEach(function(o){"cancelButton"===o.name&&o.addEvent("click",function(){t.modal.hide()}),"okButton"===o.name&&o.addEvent("click",function(){t.modal.dispatchEvent("onValidate")})})},i.prototype.getContent=function(){return this.modal.getContent()},i.prototype.destroy=function(){void 0!==this.modal&&this.modal.destroy();for(var t=Object.keys(this),o=0;o<t.length;o++)console.log(t[o]),this[t[o]]=void 0},i});