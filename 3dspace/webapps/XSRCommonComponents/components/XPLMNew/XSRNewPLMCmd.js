define("DS/XSRCommonComponents/components/XPLMNew/XSRNewPLMCmd",["DS/ENONewWidget/ENONew/Events","DS/ENONewWidget/command/NewContentCommandBase","DS/XSRCommonComponents/components/XPLMNew/XSRNewContentOptions","DS/XSRCommonComponents/utils/XSRMask","DS/XSRCommonComponents/utils/RequestUtil"],function(e,t,n,i,s){"use strict";const o="tabView";return t.extend({init:function(t){this.typeDB=t.typeDB,this.newType=t.newType,this.dialogHeader=t.dialogHeader,this.parentId=t.parentId?[t.parentId]:[],this.callbacks=t.callbacks,this.facetsKey=t.facetsKey,this.dAttrs=t.domainAttributes&&t.domainAttributes.length>0?t.domainAttributes:[],e.addEvent("onCreationDialogAction",function(e){e&&"ready"===e.action&&i.unmaskLoader(widget.body)}),this._parent(t),n.setInputsForCmd(t)},getType(){return this.newType},execute:function(){i.maskLoader(widget.body);var e=this.getCreateOptions();this.launchCreateNew(e)},getHeaders:function(){var e={SecurityContext:s.getSecurityContext()};return s.getWorkUnderHeaders()&&Object.assign(e,s.getWorkUnderHeaders()),e},getOptions:function(){return{type:this.typeDB,options:{preferedType:this.typeDB,parentPIDs:this.parentId,domainAttributes:this.dAttrs},context:{serviceBaseUrl:s.get3DSpaceURL(),tenant:s.getPlatformId(),header:this.getHeaders(),getENONewContext:function(){return{}}},events:this.callbacks,viewType:o,labelTopBar:this.dialogHeader,facets:this.facets,notification:!1}}})});