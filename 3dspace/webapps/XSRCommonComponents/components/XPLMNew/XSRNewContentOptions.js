define("DS/XSRCommonComponents/components/XPLMNew/XSRNewContentOptions",["DS/ENONewWidget/command/NewContentOptions","DS/XSRCommonComponents/utils/RequestUtil","DS/XSRCommonComponents/utils/Utils"],function(e,t,a){return e.singleton({XSR_FACET_MAP:{CALSSIFICATION_FACET:"classificationFacet",RELEASE_SNAP_TEMP_FACET:"releaseSnapshotFacet",MATERIAL_FACET:"MaterialFacet"},setInputsForCmd:e=>{this.parenId=e.parentId,this.dialogLabel=e.dialogHeader,this.appCallBack=e.callbacks,this.dicoType=e.typeDB,this.facetsKey=e.facetsKey},getCreateOptions:e=>{var s=this;const n=(()=>{const e={header:{SecurityContext:t.getSecurityContext()},tenant:t.getPlatformId(),service:"",serviceBaseUrl:""};return Object.assign(e.header,t.getWorkUnderHeaders()),e})(),o=(()=>{const e=[];let t=this.facetsKey;const s={name:"classificationFacet",facetoptions:{isBookmark:!0,isLibrary:!0,isExportControl:!0}},n={name:"releaseSnapshotFacet",facetoptions:{type:this.dicoType}},o={name:"MaterialFacet",facetoptions:{type:this.dicoType}};for(let i=0;i<t.length;i++)switch(t[i]){case"classificationFacet":e.push(s);break;case"releaseSnapshotFacet":a.getTemplateAdminConfig()||e.push(n);break;case"MaterialFacet":e.push(o)}return e})();return{id:widget.id,context:n,silentMode:!1,type:s.dicoType,options:{preferedType:s.dicoType,parentPIDs:s.parenId,parentOrigin:[]},events:{onSuccess:s.appCallBack.onSuccess.bind(this),onFailure:s.appCallBack.onFailure.bind(this),onCancel:e=>{console.log("Dialog closed"),s.appCallBack=void 0}},viewType:"tabView",labelTopBar:s.dialogLabel,facets:o}}})});