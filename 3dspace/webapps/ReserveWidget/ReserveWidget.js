define("DS/ReserveWidget/ReserveWidget",["UWA/Core","UWA/Controls/Abstract","DS/LifecycleControls/CommandDialog","DS/LifecycleServices/LifecycleServices","DS/WidgetServices/WidgetServices","DS/WidgetServices/securityContextServices/SecurityContextServices","DS/WAFData/WAFData","DS/Controls/Toggle","UWA/Utils/Cookie","DS/LifecycleServices/LifecyclePerfTimer","css!DS/ReserveWidget/ReserveWidget","i18n!DS/ReserveWidget/assets/nls/ReserveWidgetNls","DS/LifecycleServices/LifecycleServicesSettings","DS/Controls/ProgressBar","DS/ENOCollabToolsUI/tracker/ENOCollabTracker"],function(e,t,s,r,o,n,i,a,c,l,h,u,d,v,g){"use strict";return t.extend({TYPE_ROOT_FOLDER_1:"Workspace",TYPE_ROOT_FOLDER_2:"RootFolder",TYPE_FOLDER_1:"Workspace Vault",TYPE_FOLDER_2:"Folder",TYPE_FOLDER_3:"Workspace Folder",TYPE_PERSONAL_FOLDER_1:"Personal Workspace",instToggleCookieName:"ReserveWidget.Instance.Toggled",refToggleCookieName:"ReserveWidget.Reference.Toggled",CAD_ORIGIN_ATTR_NAME:"attribute[XCADExtension.V_CADOrigin]",defaultOptions:{serverName:"",serverUri:"",operation:"",currentUser:"",localContext:""},init:function(e){this._parent(e),this.SelectedItems=[],this.FailureInfo=[],this.SuccessIds=[],this.V5DataIndex=[],this.SuccessInfo=[],this.listOfModified=[];this.refreshDatas={created:[],deleted:[],modified:[]},this.labelWaitingOperation="",this.localContext=this.options.localContext,this._perfTimer=l,this._perfTimer.init("Reserve"),this._perfTimer.start("CommandExecutionDurationLockUnlock");var t={context:this.localContext};n.getInstance(t).getSecurityContext()},isRootFolder:function(e){return e===this.TYPE_ROOT_FOLDER_1||e===this.TYPE_ROOT_FOLDER_2},isFolder:function(e){return e===this.TYPE_FOLDER_1||e===this.TYPE_FOLDER_2||e===this.TYPE_FOLDER_3},isPersonalFolder:function(e){return e===this.TYPE_PERSONAL_FOLDER_1},inFamilyFolder:function(e){return this.isRootFolder(e)||this.isFolder(e)||this.isPersonalFolder(e)},setObjects:function(e){if(console.log("reserveWidget::SetObjects"),console.log(e),0===e.length)throw u.noObject;var t=this;o.removeDuplicate(e,function(e){return console.log("removing duplicates"),e.physicalId}),e.forEach(function(e){e.hasOwnProperty("physicalId")&&""!=e.physicalId?(console.log("adding an element in SelectedItems"),t.SelectedItems.push(e)):console.log("the element has no physicalid")}),t.trackAppContent()},updateDlg:function(){var e=this.instToggle.checkFlag,t=this.refToggle.checkFlag;e||t?this.cmdDlg._okButton.setDisabled(!1):this.cmdDlg._okButton.setDisabled(!0)},getDefaultToggles:function(){return["false"!==c.get(this.instToggleCookieName),"false"!==c.get(this.refToggleCookieName)]},saveDefaultToggles:function(){c.set(this.instToggleCookieName,this.instToggle.checkFlag),c.set(this.refToggleCookieName,this.refToggle.checkFlag)},onToggle:function(){this.updateDlg(),this.saveDefaultToggles()},renderDlgContent:function(){var e=document.createElement("div"),t=this.getDefaultToggles();this.instToggle=new a({type:"checkbox",label:u.instance,checkFlag:t[0]}),this.refToggle=new a({type:"checkbox",label:u.reference,checkFlag:t[1]});var s=this;return this.instToggle.addEventListener("buttonclick",function(e){s.onToggle()}),this.refToggle.addEventListener("buttonclick",function(e){s.onToggle()}),this.instToggle.inject(e),this.refToggle.inject(e),e},requestCADOrigins:function(e,t,s){var n=o.getTenantID(),i=["physicalid",this.CAD_ORIGIN_ATTR_NAME,"baseType"];r.listAttributes(n,e,i,t,s)},requestInstanceNames:function(e,t,s){var n=o.getTenantID(),i=e.toString();r.post(n,"/resources/v1/collabServices/reservation/op/getInstanceNames",i,t,s)},checkIfAllRoots:function(){for(var e=0,t=this.SelectedItems.length,s=0;s<t;s++){""==this.SelectedItems[s].relID&&e++}var r=!1;return e==t&&(r=!0),r},checkIfAnyV6Instance:function(){for(var e=this.SelectedItems.length,t=0;t<e;t++)if(this.SelectedItems[t].isV6Rel)return!0;return!1},loadInstanceCADOrig:function(e,t){for(var s=this,r=[],o=this.SelectedItems.length,n=0;n<o;n++){var i=this.SelectedItems[n].parentID;""!=i&&r.push(i)}0==r.length?e():s.requestCADOrigins(r,function(t){for(var r=t.results,n=r.length,i=0;i<n;i++){var a=r[i],c=a.physicalid,l=a.baseType,h=!0;"PLMEntity"==l&&a[s.CAD_ORIGIN_ATTR_NAME]&&(h=!1);for(var u=0;u<o;u++){var d=s.SelectedItems[u];d.baseType=l,d.parentID==c&&"PLMEntity"==l?d.isV6Rel=h:"PLMEntity"!=l&&(d.isV6Rel=!1)}}e()},t)},checkInputs:function(e,t){var s=this;this.loadInstanceCADOrig(function(){s.checkIfAllRoots()?e(!1):!s.checkIfAnyV6Instance()||1==s.SelectedItems.length&&"Drawing"===s.SelectedItems[0].type?e(!1):e(!0)},t)},launchCmd:function(){var e=this;e.checkInputs(function(t){var r=!1;if(e.options.hasOwnProperty("executeOptions")&&void 0!==e.options.executeOptions&&null!==e.options.executeOptions&&e.options.executeOptions.hasOwnProperty("doNotDisplayCmdDialog")&&void 0!==e.options.executeOptions.doNotDisplayCmdDialog&&e.options.executeOptions.doNotDisplayCmdDialog&&(r=!0),t&&!r){var o=e.renderDlgContent(),n="reserve"==e.options.operation?u.reserveTitle:u.unreserveTitle;e.cmdDlg=new s;var i=e.cmdDlg.create(o,{title:n,closeButton:!0,onOk:function(){e.execute(),e.cmdDlg.destroy()}});i.inject(widget.body),i.setNewSize({}),e.updateDlg()}else e.execute()},function(e){console.log(e)})},reportV5Instances:function(e){if(e.length>0){var t=this;t.requestInstanceNames(e,function(e){for(var s=u.v5InstancesExcluded+"<br>",r=0;r<e.length;r++)s+=e[r].name+"<br>";t.showError(s)},function(e){t.showError(e)})}},startProgress:function(t,s){if(this.chunkSize=s,this.labelWaitingOperation="reserve"==t?UWA.i18n(u.reserving):UWA.i18n(u.unreserving),this.localContext){(void 0===this.localContext.elements||null===this.localContext.elements||this.localContext.elements.hasOwnProperty("container"))&&void 0!==this.localContext.elements&&null!==this.localContext.elements&&this.localContext.elements.hasOwnProperty("container")||(this.localContext.elements.container=widget.body),this.localContext.elements.container.addClassName("masked");var r=e.createElement("div",{class:"mask"}),o=e.createElement("div",{class:"PBwrapper"}),n=e.createElement("div",{class:"PBcontent"});e.createElement("span",{class:"text",text:this.labelWaitingOperation}).inject(n),new UWA.Element("div",{class:"wux-control-inline-container",style:{"vertical-align":"top"}}).inject(n),n.inject(o),o.inject(r),r.inject(this.localContext.elements.container),this.options.renderTo=n,this.chunkSize>0?this.progressbar=new v({value:0}).inject(n):(this.progressbar=void 0,r.style.cursor="wait")}if(null!=this.modifiedElement){this.modifiedElement.forEach(function(e){e.hasClassName("wux-ui-state-disabled")&&e.removeClassName("wux-ui-state-disabled")})}this.modifiedElement=[];var i=[],a=document.querySelectorAll(".wux-afr-cmdstarter");"function"==typeof a.forEach&&a.forEach(function(e){e.hasClassName("wux-ui-state-disabled")||(e.addClassName("wux-ui-state-disabled"),i.push(e))}),this.modifiedElement=i},stopProgress:function(){if(this.localContext){var e=this.localContext.elements.container.getElement(" > .mask");e&&e.destroy(),this.localContext.elements.container.removeClassName("masked")}this.modifiedElement.forEach(function(e){e.hasClassName("wux-ui-state-disabled")&&e.removeClassName("wux-ui-state-disabled")}),this.options.renderTo=this.localContext.elements.container},updateProgress:function(e){if(null!=this.progressbar){var t=this.progressbar,s=t.value+100/(e.length/this.chunkSize)/1;s=Math.min(s,100),console.log(s),t.value=s,console.log(t.value)}},getUrls:function(e,t,s){var r=[],o=[],n=0;n=null==t?(t=0)+e.length-1:t+this.chunkSize-1;for(var i=t;i<=n&&i<e.length;i++){var a=e[i];if(!(a in r)){r[a]="";var c="";if((v=a.split("/")).length>0&&(c=v.length>1&&v[v.length-2].startsWith("cid")?v[v.length-2]+"/"+v[v.length-1]:v[v.length-1]),c in this.SuccessIds||o.push(a),null!=s&&s.length>0){var l=this.V5DataIndex[c];if(l>=0&&l<s.length)for(var h=s[l].rel.split(","),u=0;u<h.length;u++)if(h[u]&&h[u].length>0){var d="model/rel/"+h[u];r[d]="";var v;c="";(v=d.split("/")).length>0&&(c=v.length>1&&v[v.length-2].startsWith("cid")?v[v.length-2]+"/"+v[v.length-1]:v[v.length-1]),c in this.SuccessIds||o.push(d)}}}}return JSON.stringify({urls:o,branchorcontent:"type"})},ReserveUnreserveServiceRequest:function(e,t,s,r,o,i){var a=this,c=[];t&&t.forEach(function(e){if(!(e.physicalid in a.V5DataIndex)){var t=c.push(e);a.V5DataIndex[e.physicalid]=t-1}}),n.getInstance().getSecurityContext({onSuccess:function(n){a.ReserveUnreserveServiceRequestWithRefreshCheck(e,t,s,n,r,o,i)},onFailure:function(e){console.log("securityContext is null"),a.stopProgress()}})},execute:function(){var e=this,t=null!=this.instToggle&&this.instToggle.checkFlag,s=null==this.instToggle||this.refToggle.checkFlag;this.options.hasOwnProperty("executeOptions")&&void 0!==this.options.executeOptions&&null!==this.options.executeOptions&&this.options.executeOptions.hasOwnProperty("entity")&&void 0!==this.options.executeOptions.entity&&null!==this.options.executeOptions.entity&&("reference"===this.options.executeOptions.entity?(t=!1,s=!0):"instance"===this.options.executeOptions.entity&&(t=!0,s=!1));var r=this.options.operation;console.log("reserveWidget::launchCmd "+r);var n=!1,a=[],c=[],l=0,h=[];this.SelectedItems.forEach(function(e){if(s&&(a.push("model/bus/"+e.getPhysicalId()),"3DEXPERIENCE"!=e.cadMaster&&h.push(e.physicalId),l++),t&&"PLMEntity"==e.baseType){var r=e.relID;""!=r&&(e.isV6Rel?(a.push("model/rel/"+e.relID),l++):c.push(r))}});var u=[],d=[];a.forEach(function(e){e in d||(u.push(e),d[e]="")});var v=[],g=[];c.forEach(function(e){e in g||(v.push(e),g[e]="")});var f=-1;this.SelectedItems.length>5&&((f=Math.ceil(u.length/20))>50?f=50:f<5&&(f=5)),this.startProgress(r,f),l>1&&(n=!0);var p=JSON.stringify(this.SelectedItems);console.log("jsonSelectedItems = "+p);var m=void 0;if(e.chunkSize>0&&(m=0),h.length>0){var R=h.join();e._perfTimer.start("Reserve: getV5Instances"),o.get3DSpaceUrlAsync({onComplete:function(t){var s="?",a=o.getTenantID();a&&(s+="tenant="+a);var c=t+"/resources/v1/collabServices/reservation/op/getV5Instances"+s;i.authenticatedRequest(c,{method:"POST",type:"json",timeout:108e5,data:R,headers:{Accept:"application/json","Content-Type":"application/json"},onComplete:function(t){e._perfTimer.stop("Reserve: getV5Instances"),e.ReserveUnreserveServiceRequest(v,t,r,u,n,m)}})}})}else{e.ReserveUnreserveServiceRequest(v,void 0,r,u,n,m)}},onRefresh:function(){console.log("onRefresh->")},showNotification:function(e){var t={eventID:"primary",msg:e};this.dispatchEvent("onNotification",t)},showError:function(e){console.log("showError "+e);var t={eventID:"error",msg:e};this.dispatchEvent("onNotification",t)},ReserveUnreserveServiceRequestWithRefreshCheck:function(e,t,s,r,n,a,c){var l=this;return new UWA.Class.Promise(function(h,u){var v;if(null==r||""==r||!r.hasOwnProperty("SecurityContext")){var g={message:UWA.i18n("ErrorSecurityContextEmpty"),code:"ERROR"};return this.showError(g),void console.log("***** Empty security context *****")}var f="";0!=r.SecurityContext.indexOf("ctx::")&&(f="ctx::"),v=f+r.SecurityContext,console.log("SecurityContext="),console.log(v);var p=d.get3DSpaceWSUrl(o.getTenantID(),"/resources/lifecycle/util/getExpression",null);i.authenticatedRequest(p,{type:"json",method:"GET",proxy:"passport",headers:d.getHeaders(v),data:{expression:"StopRefreshViewForReserveExpression"},onComplete:function(r){var o=!1;r.hasOwnProperty("result")?"true"!==r.result&&(o=!0):o=!0;"reserve"==s?l.ReserveServiceRequest(e,t,n,v,a,o,c):"unreserve"==s&&l.UnReserveServiceRequest(e,t,n,v,a,o,c)},onFailure:function(r,o,i){if(null!=o&&o.hasOwnProperty("error")&&void 0!==o.error&&null!==o.error&&o.error.trim().length>0){var h=o.error;(h.contains("1501009")||h.contains("1500178"))&&(h=lifecycleWidgetNls.invalidCredential),l.showError(h)}console.log("ReserveUnreserveServiceRequestWithRefreshCheck: Failure..."+r),"reserve"==s?l.ReserveServiceRequest(e,t,n,v,a,performRefreshView,c):"unreserve"==s&&l.UnReserveServiceRequest(e,t,n,v,a,performRefreshView,c)},onTimeout:function(){"reserve"==s?l.ReserveServiceRequest(e,t,n,v,a,performRefreshView,c):"unreserve"==s&&l.UnReserveServiceRequest(e,t,n,v,a,performRefreshView,c)}})})},refreshView:function(e){console.log("******* refreshing PADCommandProxy *************");var t;t="undefined"!=typeof widget&&null!==widget?{authored:{modified:this.listOfModified,originWidgetId:widget.id}}:{authored:{modified:this.listOfModified}};var s=e.create();s.authored({authored:!0}),s.refresh(t),void 0!==this.localContext.refreshView?(console.log("$$$ calling refreshView - Product Editor case $$$"),this.localContext.refreshView(this.refreshDatas)):this.refreshDatas.modified.length>0&&(console.log("$$$ Folder Editor - RefreshView $$$"),void 0!==this.localContext.RefreshView&&this.localContext.RefreshView(this.refreshDatas)),s.destroy()},showSuccessMessage:function(e,t){if(0!=this.SuccessInfo.length){var s=1==t?UWA.i18n("reservationSucceeded"):UWA.i18n("unreservationSucceeded");if(1==e){var r=UWA.i18n("instance"),o=UWA.i18n("reference"),n=[];this.SuccessInfo.forEach(function(e){var t=e.url.includes("model/rel/")?r:o;t+=" "+e.title,-1==n.indexOf(t)&&(n.push(t),s+="<br>"+t)})}this.showNotification(s),console.log("RESERVE SUCCESS")}},ReserveServiceRequest:function(e,t,s,r,n,a,c){var l=this;console.log("RESERVE:");var h=l.getUrls(s,c,t);console.log(h);this.localContext;l.fakeItemInProcess=c;var u=function(o){l._perfTimer.stop("Reserve: reserve"),console.log("reserve: COMPLETED"),l.updateProgress(s);var i=[];o.results&&(i=o.results),console.log(o.results);i.length;i.forEach(function(e){if(e.errors){var t=e.errors.length;if(t<=0)l.FailureInfo[e.errors[t-1].physicalid]={physicalid:e.errors[t-1].physicalid,message:""};else{var s=e.errors[t-1].message;l.FailureInfo[e.errors[t-1].physicalid]={physicalid:e.errors[t-1].physicalid,message:s}}}else{l.listOfModified.push(e.physicalid);var r="";void 0!==e.reservedby&&(r=e.reservedby),void 0!==e.locker&&(r=e.locker),console.log("&&&& locker ="+r),l.refreshDatas.modified.push({physicalid:e.physicalid,attributes:[{name:"ds6w:reserved",value:"TRUE"},{name:"ds6w:reservedBy",value:e.lockerName},{name:"ds6w:displayName",value:e.lockerName}]}),l.SuccessInfo.push(e),l.SuccessIds[e.physicalid]=""}}),null!=c&&c+l.chunkSize<s.length?l.ReserveServiceRequest(e,t,s,r,n,a,c+l.chunkSize):require(["DS/PADUtils/PADCommandProxy"],function(t){var s=!1;for(var o in l.FailureInfo){s=!0;break}for(var n in l.chunkSize>0&&1==s&&l.SuccessInfo.forEach(function(e){e.physicalid in l.FailureInfo&&delete l.FailureInfo[e.physicalid]}),s=!1,l.FailureInfo){s=!0;var i=l.FailureInfo[n].message;l.showError(i),console.log("RESERVE ERROR "+i)}l.reportV5Instances(e),l.showSuccessMessage(s,!0),1==a&&l.refreshView(t),l.stopProgress(),l._perfTimer.stop("CommandExecutionDurationLockUnlock");l._perfTimer.printTimeShowDialogAndProcess(["CommandExecutionDurationLockUnlock","Reserve: getV5Instances","Reserve: reserve","Reserve: unreserve"],r)})},v=function(e){l._perfTimer.stop("Reserve: reserve"),console.log("Failed to reserve data"),e.hasOwnProperty("error")?l.showError(e.error):e.hasOwnProperty("message")&&l.showError(e.message),l.showSuccessMessage(!0,!0),require(["DS/PADUtils/PADCommandProxy"],function(e){1==a&&l.refreshView(e)}),l.stopProgress(),l._perfTimer.stop("CommandExecutionDurationLockUnlock");l._perfTimer.printTimeShowDialogAndProcess(["CommandExecutionDurationLockUnlock","Reserve: getV5Instances","Reserve: reserve","Reserve: unreserve"],r)},g=function(e){l._perfTimer.stop("Reserve: reserve"),console.log("Timeout error"),e.hasOwnProperty("error")?l.showError(e.error):e.hasOwnProperty("message")&&l.showError(e.message),l.showSuccessMessage(!0,!0),require(["DS/PADUtils/PADCommandProxy"],function(e){1==a&&l.refreshView(e)}),l.stopProgress(),l._perfTimer.stop("CommandExecutionDurationLockUnlock");l._perfTimer.printTimeShowDialogAndProcess(["CommandExecutionDurationLockUnlock","Reserve: getV5Instances","Reserve: reserve","Reserve: unreserve"],r)};this.options.serverName,this.options.serverUri;o.get3DSpaceUrlAsync({onComplete:function(e){l.options.currentUser;var t="?",s=o.getTenantID();s&&(t+="tenant="+s+"&"),t+=n?"isMultiSel=1&":"isMultiSel=0&";["physicalid"].forEach(function(e){t+="select="+e+"&"});var a=e+"/resources/v1/collabServices/reservation/op/reserve"+t;console.log("url="+a);var c=d.getHeaders(encodeURIComponent(r));l._perfTimer.start("Reserve: reserve"),i.authenticatedRequest(a,{method:"POST",type:"json",timeout:108e5,headers:c,cache:-1,proxy:"passport",onComplete:u,data:h,onFailure:v,onTimeout:g})}})},UnReserveServiceRequest:function(e,t,s,r,n,a,c){var l=this;console.log("UNRESERVE:");var h=l.getUrls(s,c,t);console.log(h);var u=function(o){l._perfTimer.stop("Reserve: unreserve"),console.log("unreserve: COMPLETED"),l.updateProgress(s);var i=[];o.results&&(i=o.results),console.log(o.results),i.forEach(function(e){if(e.errors){var t=e.errors.length;if(t<=0)l.FailureInfo[e.errors[t-1].physicalid]={physicalid:e.errors[t-1].physicalid,message:""};else{var s=e.errors[t-1].message;l.FailureInfo[e.errors[t-1].physicalid]={physicalid:e.errors[t-1].physicalid,message:s}}}else l.listOfModified.push(e.physicalid),l.refreshDatas.modified.push({physicalid:e.physicalid,operation:"update",attributes:[{name:"ds6w:reserved",value:"FALSE"},{name:"ds6w:reservedBy",value:""}]}),l.SuccessInfo.push(e),l.SuccessIds[e.physicalid]=""}),null!=c&&c+l.chunkSize<s.length?l.UnReserveServiceRequest(e,t,s,r,n,a,c+l.chunkSize):require(["DS/PADUtils/PADCommandProxy"],function(t){var s=!1;for(var o in l.FailureInfo){s=!0;break}for(var n in l.chunkSize>0&&1==s&&l.SuccessInfo.forEach(function(e){e.physicalid in l.FailureInfo&&delete l.FailureInfo[e.physicalid]}),s=!1,l.FailureInfo){s=!0;var i=l.FailureInfo[n].message;l.showError(i),console.log("RESERVE ERROR "+i)}l.reportV5Instances(e),l.showSuccessMessage(s,!1),1==a&&l.refreshView(t),l.stopProgress(),l._perfTimer.stop("CommandExecutionDurationLockUnlock");l._perfTimer.printTimeShowDialogAndProcess(["CommandExecutionDurationLockUnlock","Reserve: getV5Instances","Reserve: reserve","Reserve: unreserve"],r)})},v=function(e){l._perfTimer.stop("Reserve: unreserve"),console.log("myOnFailure"),e.hasOwnProperty("error")?l.showError(e.error):e.hasOwnProperty("message")&&l.showError(e.message),l.showSuccessMessage(!0,!1),require(["DS/PADUtils/PADCommandProxy"],function(e){1==a&&l.refreshView(e)}),l.stopProgress(),l._perfTimer.stop("CommandExecutionDurationLockUnlock");l._perfTimer.printTimeShowDialogAndProcess(["CommandExecutionDurationLockUnlock","Reserve: getV5Instances","Reserve: reserve","Reserve: unreserve"],r)},g=function(e){l._perfTimer.stop("Reserve: unreserve"),console.log("Timeout error"),e.hasOwnProperty("error")?l.showError(e.error):e.hasOwnProperty("message")&&l.showError(e.message),l.showSuccessMessage(!0,!1),require(["DS/PADUtils/PADCommandProxy"],function(e){1==a&&l.refreshView(e)}),l.stopProgress(),l._perfTimer.stop("CommandExecutionDurationLockUnlock");l._perfTimer.printTimeShowDialogAndProcess(["CommandExecutionDurationLockUnlock","Reserve: getV5Instances","Reserve: reserve","Reserve: unreserve"],r)};this.options.serverName,this.options.serverUri;l._perfTimer.start("Reserve: unreserve"),o.get3DSpaceUrlAsync({onComplete:function(e){var t="?",s=o.getTenantID();s&&(t+="tenant="+s+"&"),t+=n?"isMultiSel=1&":"isMultiSel=0&";["physicalid"].forEach(function(e){t+="select="+e+"&"});var a=e+"/resources/v1/collabServices/reservation/op/unreserve"+t;console.log("url="+a);var c=d.getHeaders(encodeURIComponent(r));i.authenticatedRequest(a,{method:"POST",type:"json",timeout:108e5,headers:c,cache:-1,proxy:"passport",onComplete:u,data:h,onFailure:v,onTimeout:g})}})},trackAppContent:function(){var e={UXName:"reserve"==this.options.operation?"Lock":"Unlock",models:this.SelectedItems};this.trackerEvent=g.createInitActionEvent(e,this.trackerEvent),g.checkAndTrackPageEvent(this.trackerEvent)}})});