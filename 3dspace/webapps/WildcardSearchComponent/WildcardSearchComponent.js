define("DS/WildcardSearchComponent/dsWebWorker",[],function(){"use strict";var r=function(r){if("undefined"!=typeof Worker){var e=new Blob([r.textContent],{type:"text/javascript"});window.URL&&(this.worker=new Worker(window.URL.createObjectURL(e)),this.worker.listenerCallbackList=[]),this.status=!0}else UWA.String.stripScripts.call(this,"<script>"+r.textContent+"<\/script>",!0),this.listenerCallbackList=[],this.status=!1,this.postMessage=function(r){for(var e=0;e<this.listenerCallbackList.length;e++){(0,this.listenerCallbackList[e])(r)}};return this};return r.prototype={dispatchMessage:function(r){if(!0===this.status)this.worker.postMessage(JSON.stringify(r));else if(this.onmessage){var e={};e.data=JSON.stringify(r),this.onmessage(e)}},registerListener:function(r){!0===this.status?(this.worker.listenerCallbackList.push(r),1===this.worker.listenerCallbackList.length&&(this.worker.onmessage=function(r){for(var e=0;e<this.listenerCallbackList.length;e++){(0,this.listenerCallbackList[e])(r.data)}})):this.listenerCallbackList.push(r)},destroyWorker:function(){!0===this.status&&this.worker.terminate()}},r}),define("DS/WildcardSearchComponent/dsWebWorkerJob",[],function(){"use strict";var r={};return function(e,t){if(e.jobName&&!r[e.jobName]){var s="this.onmessage ="+e.onmessage.toString(),a=document.createElement("script"),i=document.createTextNode(s);return a.appendChild(i),a.setAttribute("id","workerID"),a.setAttribute("type","javascript/ds-script"),(t||document.body).appendChild(a),r[e.jobName]=a,a}return r[e.jobName]}}),define("DS/WildcardSearchComponent/WildcardSearchComponent",["DS/WildcardSearchComponent/dsWebWorker","DS/WildcardSearchComponent/dsWebWorkerJob"],function(r,e){"use strict";var t=function(){};return t.prototype.search=function(t,s,a,i){this.searchWorker&&null!==this.searchWorker&&this.searchWorker.destroyWorker(),this.searchWorker=null;var n=e({onmessage:function(r){var e=JSON.parse(r.data),t=e.dataArray;if(!e.query||""===e.query)return this.postMessage(t);for(var s=function(r){var e={regexpArray:[],stringArray:[]},t=[...r.matchAll(/"/g)].map(r=>r.index);if(t.length>1)for(var s=0;s<t.length;s+=2)0===s&&t[s]>0&&(e.regexpArray=e.regexpArray.concat(r.substring(0,t[s]).split(" "))),t[s+1]&&t[s+1]>t[s]+1&&(e.stringArray=e.stringArray.concat(r.substring(t[s]+1,t[s+1]))),t[s+2]&&t[s+2]>t[s+1]+1?e.regexpArray=e.regexpArray.concat(r.substring(t[s+1]+1,t[s+2]).split(" ")):t[s+1]&&t[s+1]+1<r.length&&(e.regexpArray=e.regexpArray.concat(r.substring(t[s+1]+1).split(" ")));else e.regexpArray=e.regexpArray.concat(r.split(" "));if(e.regexpArray.length>0)for(var a=0;a<e.regexpArray.length;a++)e.regexpArray[a]=e.regexpArray[a].replace(/\\+/g,"\\"),e.regexpArray[a]=e.regexpArray[a].replace(/[\(\)\[\]\{\}\^\.\$\|\\\?\+\*]/g,function(r){return"*"===r||"\\"===r?".*?":"\\"+r}),e.regexpArray[a]=new RegExp(e.regexpArray[a],"i");return e}(e.query),a=[],i=e.keysToExclude?e.keysToExclude:[],n="",o=!1,c=(new RegExp(e.query.normal),new RegExp(e.query.lower),0);c<t.length;c++)for(var h=Object.keys(t[c]),l=0;l<h.length;l++)if(-1==i.indexOf(h[l])&&"string"==typeof t[c][h[l]]){if(o=!1,n="",t[c][h[l]]&&(n=t[c][h[l]]),s.stringArray.length>0)for(var g=0;g<s.stringArray.length;g++){if(-1===n.indexOf(s.stringArray[g])){o=!1;break}o=!0}if(s.regexpArray.length>0)for(var p=0;p<s.regexpArray.length;p++){if(-1===n.search(s.regexpArray[p])){o=!1;break}o=!0}if(o){a.push(t[c]);break}}this.postMessage(a)},jobName:"ENOXSearch"});null!==this.searchWorker&&this.searchWorker.destroyWorker(),this.searchWorker=new r(n),this.searchWorker.registerListener(a);var o={dataArray:s,query:t?t.trim():"",keysToExclude:i};this.searchWorker.dispatchMessage(o)},t});