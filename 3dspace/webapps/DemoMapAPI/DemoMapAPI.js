define("DS/DemoMapAPI/DemoApi/GeocodingAndReverse",["UWA/Core","DS/Controls/Button","DS/Controls/FilePicker","DS/Controls/ColorPicker","css!DemoMapAPI/DemoApi/style.css"],(e,t)=>{"use strict";return class{constructor(e){this.GeocodingAndReverse=this.buildSkeleton(),this.GeocodingAndReverse.inject(e),this.resetField()}buildSkeleton(){var i=new e.Element("div",{id:"GeocodingAndReverse"});this.geocodingDiv=new e.Element("div",{class:"inDiv"}),this.reverseDiv=new e.Element("div",{class:"inDiv"}),this.geocodingDiv.inject(i),this.reverseDiv.inject(i),this.reverseDiv.hide();var n=new e.Element("div",{class:"top",text:"Geocoding"}),s=this.buildGeocodingInfo(),o=new e.Element("div",{class:"bottom"});this.changeToReverseButton=new t({label:"Reverse",displayStyle:"icon",icon:{iconName:"globe-location",fontIconFamily:WUXManagedFontIcons.Font3DS}}),this.changeToReverseButton.inject(o),this.validateGeocoding=new t({label:"Search",displayStyle:"icon",icon:{iconName:"check",fontIconFamily:WUXManagedFontIcons.Font3DS}}),this.validateGeocoding.inject(o),n.inject(this.geocodingDiv),s.inject(this.geocodingDiv),o.inject(this.geocodingDiv);var l=new e.Element("div",{class:"top",text:"Reverse Geocoding"}),a=this.buildReverseInfo(),r=new e.Element("div",{class:"bottom"});return this.changeToGeocodingButton=new t({label:"Geocoding",displayStyle:"icon",icon:{iconName:"globe-location",fontIconFamily:WUXManagedFontIcons.Font3DS}}),this.changeToGeocodingButton.inject(r),this.validateReverse=new t({label:"Search",displayStyle:"icon",icon:{iconName:"check",fontIconFamily:WUXManagedFontIcons.Font3DS}}),this.validateReverse.inject(r),l.inject(this.reverseDiv),a.inject(this.reverseDiv),r.inject(this.reverseDiv),this.addEventListenerToGeocodingField(),this.addEventListenerToReverseField(),this.addEventListenerToField(),i}buildGeocodingInfo(){var i=new e.Element("div",{class:"middle infoDiv"}),n=new e.Element("div",{class:"labelAndField"}),s=new e.Element("label",{text:"Adresse",class:"text"});this.adresse=new e.Element("input",{type:"text",placeholder:"Put an adresse"}),s.inject(n),this.adresse.inject(n),n.inject(i);var o=e.createElement("div",{class:""}),l=new e.Element("label",{text:"Lat : ",class:"text"});this.latResult=new e.Element("label",{text:" ",class:"text"}),l.inject(o),this.latResult.inject(o);var a=e.createElement("div",{class:""}),r=new e.Element("label",{text:"Lon : ",class:"text"});this.lonResult=new e.Element("label",{text:" ",class:"text"}),r.inject(a),this.lonResult.inject(a);var d=e.createElement("div",{class:""});this.addMarker=new t({label:"Add To Map"}),this.addMarker.inject(d),this.addMarker.hide();var c=e.createElement("div",{class:"labelAndField"});return o.inject(c),a.inject(c),d.inject(c),c.inject(i),i}buildReverseInfo(){var t=new e.Element("div",{class:"middle infoDiv"}),i=new e.Element("label",{text:"Lat",class:"text"});this.lat=new e.Element("input",{type:"number",name:"Lat",min:-90,max:90,placeholder:"-90 to 90"});var n=e.createElement("div",{class:""});i.inject(n),this.lat.inject(n);var s=new e.Element("label",{text:"Lon",class:"text"});this.lon=new e.Element("input",{type:"number",name:"Lon",min:-180,max:180,placeholder:"-180 to 180"});var o=e.createElement("div",{class:""});s.inject(o),this.lon.inject(o);var l=e.createElement("div",{class:"labelAndField"});n.inject(l),o.inject(l),l.inject(t);var a=new e.Element("div",{class:"labelAndField"});return this.adresseResult=new e.Element("label",{text:"Adresse : ",class:"text"}),this.adresseResult.inject(a),a.inject(t),t}addEventListenerToGeocodingField(){this.changeToReverseButton.addEventListener("click",()=>{this.geocodingDiv.hide(),this.reverseDiv.show(),this.resetField()})}addEventListenerToReverseField(){this.changeToGeocodingButton.addEventListener("click",()=>{this.geocodingDiv.show(),this.reverseDiv.hide(),this.resetField()})}addEventListenerToField(){this.adresse.addEventListener("change",()=>{this.setAdresseContent(this.adresse.value)}),this.lat.addEventListener("change",()=>{this.setLatLonContent(this.lat.value,this.lon.value)}),this.lon.addEventListener("change",()=>{this.setLatLonContent(this.lat.value,this.lon.value)})}getLatLonContent(){return this.latLonContent}setLatLonContent(e,t){this.latLonContent=[e,t]}getAdresseContent(){return this.adresseContent}setAdresseContent(e){this.adresseContent=e}resetField(){this.adresse.value="",this.latResult.innerText="",this.lonResult.innerText="",this.addMarker.hide(),this.setAdresseContent(null),this.lat.value="",this.lon.value="",this.adresseResult.innerText="",this.setLatLonContent(null,null)}}}),define("DS/DemoMapAPI/DemoApi/MarkerCreation",["UWA/Core","DS/Controls/Button","DS/Controls/FilePicker","DS/Controls/ColorPicker","css!DemoMapAPI/DemoApi/style.css"],(e,t,i,n)=>{"use strict";return class{constructor(e){this.validateButton=null,this.titleContent=null,this.latLonContent=null,this.descContent=null,this.colorContent=null,this.iconContent=null,this.theMarkerCreationDiv=this.buildSkeleton(),this.theMarkerCreationDiv.inject(e)}buildSkeleton(){var i=e.createElement("div",{class:"inDiv"}),n=e.createElement("div",{class:"top",text:"Add Marker"});i.appendChild(n);var s=this.addAddMarkerField();i.appendChild(s);var o=e.createElement("div",{class:"bottom"});return i.appendChild(o),this.validateButton=new t({label:"",displayStyle:"icon",icon:{iconName:"check",fontIconFamily:WUXManagedFontIcons.Font3DS}}),this.cancelButton=new t({label:"",displayStyle:"icon",icon:{iconName:"wrong",fontIconFamily:WUXManagedFontIcons.Font3DS}}),this.cancelButton.inject(o),this.validateButton.inject(o),this.addEventListenerToField(),i}addAddMarkerField(){var t=e.createElement("div",{class:"middle"}),s=e.createElement("div",{class:"labelAndField"});s.inject(t),this.geoJsonFilePicker=new i({domId:"geoJsonFilePicker",placeholder:"Select File",fileTypes:[".json",".geojson"],allowMultipleFiles:!1,allowResetToUndefinedByUIFlag:!0}),e.createElement("p",{text:"Load GeoJson",id:"text"}).inject(s),this.geoJsonFilePicker.inject(s);var o=e.createElement("div",{class:"infoDiv",id:"markerInfoDiv"});o.inject(t);var l=e.createElement("label",{text:"Title",class:"text"});this.title=e.createElement("input",{type:"text",id:"title",placeholder:"Your title here"});var a=e.createElement("div",{class:"labelAndField"});l.inject(a),this.title.inject(a),a.inject(o);var r=e.createElement("label",{text:"Lat",class:"text"});this.lat=e.createElement("input",{type:"number",name:"Lat",min:-90,max:90,domId:"lat",placeholder:"-90 to 90"});var d=e.createElement("div",{class:"labelAndField"});r.inject(d),this.lat.inject(d);var c=e.createElement("label",{text:"Lon",class:"text"});this.lon=e.createElement("input",{type:"number",name:"Lon",min:-180,max:180,domId:"lon",placeholder:"-180 to 180"});var h=e.createElement("div",{class:"labelAndField"});c.inject(h),this.lon.inject(h),d.inject(o),h.inject(o);var v=e.createElement("label",{text:"Description",class:"text"});this.desc=e.createElement("input",{type:"text",id:"desc",placeholder:"Your description here"});var m=e.createElement("div",{class:"labelAndField"});v.inject(m),this.desc.inject(m),m.inject(o);var k=e.createElement("label",{text:"Icon",class:"text"});this.icon=e.createElement("input",{type:"text",id:"icon",placeholder:"WUX icon name here"}),this.iconColor=new n({});var C=e.createElement("div",{class:"field"}),u=e.createElement("div",{class:"labelAndField"});k.inject(u),this.iconColor.inject(C),this.icon.inject(C),C.inject(u),u.inject(o);var g=e.createElement("label",{text:"Badge",class:"text"});this.badge=e.createElement("input",{type:"text",id:"icon",placeholder:"WUX icon name here"}),this.badgeColor=new n({});var b=e.createElement("div",{class:"field"}),p=e.createElement("div",{class:"labelAndField"});g.inject(p),this.badgeColor.inject(b),this.badge.inject(b),b.inject(p),p.inject(o);var E=e.createElement("label",{text:"Notification",class:"text"});this.notif=e.createElement("input",{type:"text",id:"icon",placeholder:"Number here"}),this.notifColor=new n({});var L=e.createElement("div",{class:"field"}),D=e.createElement("div",{class:"labelAndField"});return E.inject(D),this.notifColor.inject(L),this.notif.inject(L),L.inject(D),D.inject(o),t}addEventListenerToField(){this.geoJsonFilePicker.addEventListener("change",()=>{if(console.log(this.geoJsonFilePicker.value),void 0!==this.geoJsonFilePicker.value){let e=new FileReader;e.addEventListener("load",e=>{this.setGeoJsonContent(e.target.result),console.log(e.target.result),this.disabledField()}),e.addEventListener("error",()=>{}),e.readAsText(this.geoJsonFilePicker.value)}else this.setGeoJsonContent(void 0),this.activateField()}),this.title.addEventListener("change",()=>{this.setTitleContent(this.title.value)}),this.lat.addEventListener("change",()=>{this.setLatLonContent(this.lat.value,this.lon.value)}),this.lon.addEventListener("change",()=>{this.setLatLonContent(this.lat.value,this.lon.value)}),this.desc.addEventListener("change",()=>{this.setDescContent(this.desc.value)}),this.iconColor.addEventListener("change",()=>{this.setIconColorContent(this.iconColor.value)}),this.icon.addEventListener("change",()=>{this.setIconContent(this.icon.value)}),this.badgeColor.addEventListener("change",()=>{this.setBadgeColorContent(this.badgeColor.value)}),this.badge.addEventListener("change",()=>{this.setBadgeContent(this.badge.value)}),this.notifColor.addEventListener("change",()=>{this.setNotifColorContent(this.notifColor.value)}),this.notif.addEventListener("change",()=>{this.setNotifContent(this.notif.value)})}getTitleContent(){return this.titleContent}setTitleContent(e){this.titleContent=e}getDescContent(){return this.descContent}setDescContent(e){this.descContent=e}getLatLonContent(){return this.latLonContent}setLatLonContent(e,t){this.latLonContent=L.latLng(e,t)}getGeoJsonContent(){return this.geoJsonContent}setGeoJsonContent(e){this.geoJsonContent=e}getIconColorContent(){return this.iconColorContent}setIconColorContent(e){"#"!==e[0]&&(e="#"+e),this.iconColorContent=e}getIconContent(){return this.iconContent}setIconContent(e){this.iconContent=e}getBadgeColorContent(){return this.badgeColorContent}setBadgeColorContent(e){this.badgeColorContent=e}getBadgeContent(){return this.badgeContent}setBadgeContent(e){this.badgeContent=e}getNotifColorContent(){return this.notifColorContent}setNotifColorContent(e){"#"!==e[0]&&(e="#"+e),this.notifColorContent=e}getNotifContent(){return this.notifContent}setNotifContent(e){this.notifContent=e}resetField(){this.title.value="",this.setTitleContent(""),this.lat.value="",this.lon.value="",this.setLatLonContent(0,0),this.desc.value="",this.setDescContent(""),this.iconColor.value="#000000",this.setIconColorContent("#000000"),this.icon.value="",this.setIconContent(""),this.badgeColor.value="#000000",this.setBadgeColorContent("#000000"),this.badge.value="",this.setBadgeContent(""),this.notifColor.value="#000000",this.setNotifColorContent("#000000"),this.notif.value="",this.setNotifContent("")}disabledField(){this.title.disabled=!0,this.lat.disabled=!0,this.lon.disabled=!0,this.desc.disabled=!0,this.iconColor.disabled=!0,this.icon.disabled=!0,this.badgeColor.disabled=!0,this.badge.disabled=!0,this.notifColor.disabled=!0,this.notif.disabled=!0}activateField(){this.title.disabled=!1,this.lat.disabled=!1,this.lon.disabled=!1,this.desc.disabled=!1,this.iconColor.disabled=!1,this.icon.disabled=!1,this.badgeColor.disabled=!1,this.badge.disabled=!1,this.notifColor.disabled=!1,this.notif.disabled=!1}hide(){this.theMarkerCreationDiv.hide()}show(){this.theMarkerCreationDiv.show()}}}),define("DS/DemoMapAPI/DemoApi/LinkCreation",["UWA/Core","DS/Controls/Button","DS/Controls/ColorPicker","css!DemoMapAPI/DemoApi/style.css"],(e,t,i)=>{"use strict";return class{constructor(e){this.theLinkCreationDiv=this.buildSkeleton(),this.theLinkCreationDiv.inject(e),this.resetField()}buildSkeleton(){var i=e.createElement("div",{class:"inDiv"}),n=e.createElement("div",{class:"top",text:"Add Link"});i.appendChild(n);var s=this.addAddMarkerField();i.appendChild(s);var o=e.createElement("div",{class:"bottom"});return i.appendChild(o),this.validateButton=new t({label:"",displayStyle:"icon",icon:{iconName:"check",fontIconFamily:WUXManagedFontIcons.Font3DS}}),this.cancelButton=new t({label:"",displayStyle:"icon",icon:{iconName:"wrong",fontIconFamily:WUXManagedFontIcons.Font3DS}}),this.cancelButton.inject(o),this.validateButton.inject(o),this.addEventListenerToField(),i}addAddMarkerField(){var t=e.createElement("div",{class:"middle"}),n=e.createElement("label",{text:"Start Marker",class:"text"});this.marker1=e.createElement("input",{type:"text",placeholder:"Marker 1"});var s=e.createElement("label",{text:"End Marker",class:"text"});this.marker2=e.createElement("input",{type:"text",placeholder:"Marker 2"});var o=e.createElement("div",{class:"markerFieldForLink"}),l=e.createElement("div",{class:"markerFieldForLink"}),a=e.createElement("div",{class:"labelAndField"});n.inject(o),this.marker1.inject(o),s.inject(l),this.marker2.inject(l),o.inject(a),l.inject(a),a.inject(t);var r=e.createElement("label",{text:"Color",class:"text"});this.color=new i({});var d=e.createElement("div",{class:"markerFieldForLink labelAndField"});r.inject(d),this.color.inject(d),d.inject(t);var c=e.createElement("label",{text:"Pattern",class:"text"});this.pattern=e.createElement("input",{type:"text",placeholder:"dashdotted, dotted, .."});var h=e.createElement("div",{class:"markerFieldForLink labelAndField"});return c.inject(h),this.pattern.inject(h),h.inject(t),t}addEventListenerToField(){this.marker1.addEventListener("change",()=>{this.setStartMarkerTitle(this.marker1.value)}),this.marker2.addEventListener("change",()=>{this.setEndMarkerTitle(this.marker2.value)}),this.color.addEventListener("change",()=>{this.setColor(this.color.value)}),this.pattern.addEventListener("change",()=>{this.setPattern(this.pattern.value)})}setStartMarkerTitle(e){this.startMarkerTitle=e}getStartMarkerTitle(){return this.startMarkerTitle}setEndMarkerTitle(e){this.endMarkerTitle=e}getEndMarkerTitle(){return this.endMarkerTitle}setColor(e){"#"!==e[0]&&(e="#"+e),this.colorContent=e}getColor(){return this.colorContent}setPattern(e){this.patternContent=e}getPattern(){return this.patternContent}resetField(){this.marker1.value="",this.marker2.value="",this.color.value="#000000",this.pattern.value="",this.setStartMarkerTitle(""),this.setEndMarkerTitle(""),this.setColor("#000000"),this.setPattern("")}hide(){this.theLinkCreationDiv.hide()}show(){this.theLinkCreationDiv.show()}}}),define("DS/DemoMapAPI/DemoApi/LinkList",["UWA/Core","DS/Controls/Button","DS/Controls/ButtonGroup","css!DemoMapAPI/DemoApi/style.css"],(e,t)=>{"use strict";return class{constructor(e){this.theLinkListDiv=this.buildSkeleton(),this.theLinkListDiv.inject(e)}buildSkeleton(){var i=new e.Element("div",{class:"inDiv"}),n=new e.Element("div",{class:"top",text:"Link List"});i.appendChild(n),this.linksList=new e.Element("div",{class:"middle"}),i.appendChild(this.linksList);var s=new e.Element("ul");this.linksList.appendChild(s);var o=new e.Element("div",{class:"bottom"});return i.appendChild(o),this.resetButton=new t({label:"Reset",displayStyle:"icon",icon:{iconName:"reset",fontIconFamily:WUXManagedFontIcons.Font3DS},domId:"resetButton"}),this.resetButton.inject(o),this.button=new t({label:"Add",displayStyle:"icon",icon:{iconName:"plus",fontIconFamily:WUXManagedFontIcons.Font3DS},domId:"addButton"}),this.button.inject(o),i}addLinkInList(i){let n=this.linksList.querySelector("ul"),s=document.createElement("li");var o=document.createElement("p");o.classList.add("text"),s.appendChild(o);var l=e.createElement("div");l.inject(s);var a=new t({label:"Select"}).inject(l),r=new t({label:"Unselect"}).inject(l);r.hide();var d=new t({label:"Move To"}).inject(l);return n.appendChild(s),{linkDiv:s,moveButton:d,selectButton:a,unselectButton:r,linkObj:i}}static removeLinkInList(e){e.linkDiv.remove()}hide(){this.theLinkListDiv.hide()}show(){this.theLinkListDiv.show()}}}),define("DS/DemoMapAPI/DemoApi/LinkEdit",["UWA/Core","DS/Controls/Button","DS/Controls/FilePicker","DS/Controls/ColorPicker","css!DemoMapAPI/DemoApi/style.css"],(e,t,i,n)=>{"use strict";return class{constructor(e){this.selectedLink=null,this.theLinkCreationDiv=this.buildSkeleton(),this.theLinkCreationDiv.inject(e),this.resetField()}buildSkeleton(){var i=new e.Element("div",{class:"inDiv"}),n=new e.Element("div",{class:"top",text:"Edit Link Selected"});i.appendChild(n);var s=this.addAddLinkField();i.appendChild(s);var o=new e.Element("div",{class:"bottom"});return i.appendChild(o),this.validateButton=new t({label:"",displayStyle:"icon",icon:{iconName:"check",fontIconFamily:WUXManagedFontIcons.Font3DS}}),this.removeButton=new t({label:"",displayStyle:"icon",icon:{iconName:"trash",fontIconFamily:WUXManagedFontIcons.Font3DS}}),this.removeButton.inject(o),this.validateButton.inject(o),this.addEventListenerToField(),i}addAddLinkField(){var t=new e.Element("div",{class:"middle"}),i=e.createElement("div",{class:"infoDiv",id:"linkInfoDiv"});i.inject(t);var s=e.createElement("label",{text:"Start Marker",class:"text"});this.marker1=e.createElement("input",{class:"field",type:"text",placeholder:"Marker 1"});var o=e.createElement("label",{text:"End Marker",class:"text"});this.marker2=e.createElement("input",{class:"field",type:"text",placeholder:"Marker 2"});var l=e.createElement("div",{class:"labelAndField"}),a=e.createElement("div",{class:"labelAndField"});s.inject(l),this.marker1.inject(l),o.inject(a),this.marker2.inject(a),l.inject(i),a.inject(i);var r=e.createElement("label",{text:"Color",class:"text"});this.color=new n({});var d=e.createElement("div",{class:"markerFieldForLink labelAndField"});r.inject(d),this.color.inject(d),d.inject(t);var c=e.createElement("label",{text:"Pattern",class:"text"});this.pattern=e.createElement("input",{type:"text",placeholder:"dashdotted, dotted, .."});var h=e.createElement("div",{class:"markerFieldForLink labelAndField"});return c.inject(h),this.pattern.inject(h),h.inject(t),t}addEventListenerToField(){this.color.addEventListener("change",()=>{this.setIconColorContent(this.color.value)}),this.pattern.addEventListener("change",()=>{this.setPattern(this.pattern.value)}),this.marker1.addEventListener("change",()=>{this.setStartMarkerTitle(this.marker1.value)}),this.marker2.addEventListener("change",()=>{this.setEndMarkerTitle(this.marker2.value)})}editLink(e){return null!==this.selectedLink?this.selectedLink:(this.color.value=e.linkObj.getColor(),this.marker1.value=e.linkObj.getOrigin().getTitle(),this.marker2.value=e.linkObj.getDestination().getTitle(),this.pattern.value=e.linkObj.getPattern(),this.selectedLink=e,this.setIconColorContent(this.color.value),this.setPattern(this.pattern.value),this.setStartMarkerTitle(this.marker1.value),this.setEndMarkerTitle(this.marker2.value),null)}cancelEdit(){this.resetField(),this.selectedLink=null}setStartMarkerTitle(e){this.startMarkerTitle=e}getStartMarkerTitle(){return this.startMarkerTitle}setEndMarkerTitle(e){this.endMarkerTitle=e}getEndMarkerTitle(){return this.endMarkerTitle}getIconColorContent(){return this.iconColorContent}setIconColorContent(e){"#"!==e[0]&&(e="#"+e),this.iconColorContent=e}getIconContent(){return this.iconContent}setIconContent(e){this.iconContent=e}getPattern(){return this.patternContent}setPattern(e){this.patternContent=e}resetField(){this.color.value="#000000",this.setIconColorContent("#000000"),this.setIconContent(""),this.setPattern("")}hide(){this.theLinkCreationDiv.hide()}show(){this.theLinkCreationDiv.show()}}}),define("DS/DemoMapAPI/DemoApi/MarkerList",["UWA/Core","DS/Controls/Button","DS/Controls/ButtonGroup","css!DemoMapAPI/DemoApi/style.css"],(e,t)=>{"use strict";return class{constructor(e){this.theMarkerListDiv=this.buildSkeleton(),this.theMarkerListDiv.inject(e)}buildSkeleton(){var i=new e.Element("div",{class:"inDiv"}),n=new e.Element("div",{class:"top",id:"markerListTitle",text:"Markers List"});i.appendChild(n),this.markersList=new e.Element("div",{class:"middle",id:"markersList"}),i.appendChild(this.markersList);var s=new e.Element("ul");this.markersList.appendChild(s);var o=new e.Element("div",{class:"bottom",id:"markerListAdd"});return i.appendChild(o),this.button=new t({label:"Add",displayStyle:"icon",icon:{iconName:"plus",fontIconFamily:WUXManagedFontIcons.Font3DS},domId:"addButton"}),this.resetButton=new t({label:"Reset",displayStyle:"icon",icon:{iconName:"reset",fontIconFamily:WUXManagedFontIcons.Font3DS},domId:"resetButton"}),this.resetButton.inject(o),this.button.inject(o),i}addMarkerInList(i){let n=this.markersList.querySelector("ul"),s=document.createElement("li"),o=document.createElement("p");o.innerText=i.getTitle(),o.classList.add("text"),s.appendChild(o);var l=e.createElement("div");l.inject(s);var a=new t({label:"Select"}).inject(l),r=new t({label:"Unselect"}).inject(l);r.hide();var d=new t({label:"Move To"}).inject(l);return n.appendChild(s),{markerDiv:s,moveButton:d,selectButton:a,unselectButton:r,markerObj:i}}static removeMarkerInList(e){e.markerDiv.remove()}hide(){this.theMarkerListDiv.hide()}show(){this.theMarkerListDiv.show()}}}),define("DS/DemoMapAPI/DemoApi/FreeMove",["UWA/Core","DS/Controls/Button","DS/Controls/FilePicker","DS/Controls/ColorPicker","css!DemoMapAPI/DemoApi/style.css"],(e,t)=>{"use strict";return class{constructor(e){this.theFreeMoveDiv=this.buildSkeleton(),this.theFreeMoveDiv.inject(e)}buildSkeleton(){var i=new e.Element("div",{class:"inDiv",id:"freeMoveDiv"}),n=new e.Element("div",{class:"top",id:"freeMoveTitle",text:"Free move on the map"});i.appendChild(n);var s=this.buildFreeMoveInfo();i.appendChild(s);var o=e.createElement("div",{class:"bottom"});return this.goToButton=new t({label:"Go to",displayStyle:"icon",icon:{iconName:"nav-move-to",fontIconFamily:WUXManagedFontIcons.Font3DS}}),this.goToButton.inject(o),o.inject(i),i}buildFreeMoveInfo(){var t=new e.Element("div",{class:"middle infoDiv",id:"freeMoveInfo"}),i=new e.Element("label",{text:"Lat",class:"text"});this.lat=new e.Element("input",{type:"number",name:"Lat",min:-90,max:90,placeholder:"-90 to 90"});var n=e.createElement("div",{class:""});i.inject(n),this.lat.inject(n);var s=new e.Element("label",{text:"Lon",class:"text"});this.lon=new e.Element("input",{type:"number",name:"Lon",min:-180,max:180,placeholder:"-180 to 180"});var o=e.createElement("div",{class:""});s.inject(o),this.lon.inject(o);var l=e.createElement("div",{class:"labelAndField"});return n.inject(l),o.inject(l),l.inject(t),this.addEventListenerToField(),t}addEventListenerToField(){this.lat.addEventListener("change",()=>{this.setLatLonContent(this.lat.value,this.lon.value)}),this.lon.addEventListener("change",()=>{this.setLatLonContent(this.lat.value,this.lon.value)})}getLatLonContent(){return this.latLonContent}setLatLonContent(e,t){this.latLonContent=[e,t]}}}),define("DS/DemoMapAPI/DemoApi/MarkerEdit",["UWA/Core","DS/Controls/Button","DS/Controls/FilePicker","DS/Controls/ColorPicker","css!DemoMapAPI/DemoApi/style.css"],(e,t,i,n)=>{"use strict";return class{constructor(e){this.selectedMarker=null,this.theMarkerCreationDiv=this.buildSkeleton(),this.theMarkerCreationDiv.inject(e),this.disabledField(),this.resetField()}buildSkeleton(){var i=new e.Element("div",{class:"inDiv"}),n=new e.Element("div",{class:"top",text:"Edit Marker Selected"});i.appendChild(n);var s=this.addAddMarkerField();i.appendChild(s);var o=new e.Element("div",{class:"bottom"});return i.appendChild(o),this.validateButton=new t({label:"",displayStyle:"icon",icon:{iconName:"check",fontIconFamily:WUXManagedFontIcons.Font3DS}}),this.removeButton=new t({label:"",displayStyle:"icon",icon:{iconName:"trash",fontIconFamily:WUXManagedFontIcons.Font3DS}}),this.removeButton.inject(o),this.validateButton.inject(o),this.addEventListenerToField(),i}addAddMarkerField(){var t=new e.Element("div",{class:"middle"}),i=e.createElement("div",{class:"infoDiv",id:"markerInfoDiv"});i.inject(t);var s=new e.Element("label",{text:"Title",class:"text"});this.title=new e.Element("input",{type:"text",id:"title",placeholder:"Your title here"});var o=new e.Element("div",{class:"labelAndField"});s.inject(o),this.title.inject(o),o.inject(i);var l=new e.Element("label",{text:"Lat",class:"text"});this.lat=new e.Element("input",{type:"number",name:"Lat",min:-90,max:90,domId:"lat",placeholder:"-90 to 90"});var a=e.createElement("div",{class:"labelAndField"});l.inject(a),this.lat.inject(a);var r=new e.Element("label",{text:"Lon",class:"text"});this.lon=new e.Element("input",{type:"number",name:"Lon",min:-180,max:180,domId:"lon",placeholder:"-180 to 180"});var d=e.createElement("div",{class:"labelAndField"});r.inject(d),this.lon.inject(d),a.inject(i),d.inject(i);var c=new e.Element("label",{text:"Description",class:"text"});this.desc=new e.Element("input",{type:"text",id:"desc",placeholder:"Your description here"});var h=new e.Element("div",{class:"labelAndField"});c.inject(h),this.desc.inject(h),h.inject(i);var v=e.createElement("label",{text:"Icon",class:"text"});this.icon=e.createElement("input",{type:"text",id:"icon",placeholder:"WUX icon name here"}),this.iconColor=new n({});var m=e.createElement("div",{class:"field"}),k=e.createElement("div",{class:"labelAndField"});v.inject(k),this.iconColor.inject(m),this.icon.inject(m),m.inject(k),k.inject(i);var C=e.createElement("label",{text:"Badge",class:"text"});this.badge=e.createElement("input",{type:"text",id:"icon",placeholder:"WUX icon name here"}),this.badgeColor=new n({});var u=e.createElement("div",{class:"field"}),g=e.createElement("div",{class:"labelAndField"});C.inject(g),this.badgeColor.inject(u),this.badge.inject(u),u.inject(g),g.inject(i);var b=e.createElement("label",{text:"Notification",class:"text"});this.notif=e.createElement("input",{type:"text",id:"icon",placeholder:"Number here"}),this.notifColor=new n({});var p=e.createElement("div",{class:"field"}),E=e.createElement("div",{class:"labelAndField"});return b.inject(E),this.notifColor.inject(p),this.notif.inject(p),p.inject(E),E.inject(i),t}addEventListenerToField(){this.title.addEventListener("change",()=>{this.setTitleContent(this.title.value)}),this.lat.addEventListener("change",()=>{this.setLatLonContent(this.lat.value,this.lon.value)}),this.lon.addEventListener("change",()=>{this.setLatLonContent(this.lat.value,this.lon.value)}),this.desc.addEventListener("change",()=>{this.setDescContent(this.desc.value)}),this.iconColor.addEventListener("change",()=>{this.setIconColorContent(this.iconColor.value)}),this.icon.addEventListener("change",()=>{this.setIconContent(this.icon.value)}),this.badgeColor.addEventListener("change",()=>{this.setBadgeColorContent(this.badgeColor.value)}),this.badge.addEventListener("change",()=>{this.setBadgeContent(this.badge.value)}),this.notifColor.addEventListener("change",()=>{this.setNotifColorContent(this.notifColor.value)}),this.notif.addEventListener("change",()=>{this.setNotifContent(this.notif.value)})}editMarker(e){return null!==this.selectedMarker?this.selectedMarker:(this.activateField(),this.title.value=e.markerObj.getTitle(),this.desc.value=e.markerObj.getDesc(),this.iconColor.value=e.markerObj.getColor(),this.icon.value=e.markerObj.getIcon(),this.badge.value=e.markerObj.getBadge()?e.markerObj.getBadge().icon:"",this.badgeColor.value=e.markerObj.getBadge()?e.markerObj.getBadge().color:"#00000",this.notif.value=e.markerObj.getNotification()?e.markerObj.getNotification().text:"",this.notifColor.value=e.markerObj.getNotification()?e.markerObj.getNotification().color:"#00000",this.lat.value=e.markerObj.getLat(),this.lon.value=e.markerObj.getLng(),this.selectedMarker=e,this.setTitleContent(this.title.value),this.setDescContent(this.desc.value),this.setLatLonContent(this.lat.value,this.lon.value),this.setIconColorContent(this.iconColor.value),this.setIconContent(this.icon.value),this.setBadgeColorContent(this.badgeColor.value),this.setBadgeContent(this.badge.value),this.setNotifColorContent(this.notifColor.value),this.setNotifContent(this.notif.value),null)}cancelEdit(){this.disabledField(),this.resetField(),this.selectedMarker=null}getTitleContent(){return this.titleContent}setTitleContent(e){this.titleContent=e}getDescContent(){return this.descContent}setDescContent(e){this.descContent=e}getLatLonContent(){return this.latLonContent}setLatLonContent(e,t){this.latLonContent=L.latLng(e,t)}getIconColorContent(){return this.iconColorContent}setIconColorContent(e){"#"!==e[0]&&(e="#"+e),this.iconColorContent=e}getIconContent(){return this.iconContent}setIconContent(e){this.iconContent=e}getBadgeColorContent(){return this.badgeColorContent}setBadgeColorContent(e){this.badgeColorContent=e}getBadgeContent(){return this.badgeContent}setBadgeContent(e){this.badgeContent=e}getNotifColorContent(){return this.notifColorContent}setNotifColorContent(e){"#"!==e[0]&&(e="#"+e),this.notifColorContent=e}getNotifContent(){return this.notifContent}setNotifContent(e){this.notifContent=e}resetField(){this.title.value="",this.setTitleContent(""),this.lat.value="",this.lon.value="",this.setLatLonContent(0,0),this.desc.value="",this.setDescContent(""),this.iconColor.value="#000000",this.setIconColorContent("#000000"),this.icon.value="",this.setIconContent(""),this.badgeColor.value="#000000",this.setBadgeColorContent("#000000"),this.badge.value="",this.setBadgeContent(""),this.activateField(),this.notifColor.value="#000000",this.setNotifColorContent("#000000"),this.notif.value="",this.setNotifContent(""),this.activateField()}disabledField(){this.title.disabled=!0,this.lat.disabled=!0,this.lon.disabled=!0,this.desc.disabled=!0,this.iconColor.disabled=!0,this.icon.disabled=!0,this.badgeColor.disabled=!0,this.badge.disabled=!0,this.notifColor.disabled=!0,this.notif.disabled=!0}activateField(){this.title.disabled=!1,this.lat.disabled=!1,this.lon.disabled=!1,this.desc.disabled=!1,this.iconColor.disabled=!1,this.icon.disabled=!1,this.badgeColor.disabled=!1,this.badge.disabled=!1,this.notifColor.disabled=!1,this.notif.disabled=!1}hide(){this.theMarkerCreationDiv.hide()}show(){this.theMarkerCreationDiv.show()}}}),define("DS/DemoMapAPI/DemoApi/DemoApp",["UWA/Core","DS/SocialGlobeAPI/GlobeAPI","DS/DemoMapAPI/DemoApi/MarkerList","DS/DemoMapAPI/DemoApi/MarkerCreation","DS/DemoMapAPI/DemoApi/FreeMove","DS/DemoMapAPI/DemoApi/MarkerEdit","DS/DemoMapAPI/DemoApi/LinkList","DS/DemoMapAPI/DemoApi/LinkCreation","DS/DemoMapAPI/DemoApi/LinkEdit","DS/DemoMapAPI/DemoApi/GeocodingAndReverse","css!DemoMapAPI/DemoApi/style.css"],(e,t,i,n,s,o,l,a,r,d)=>{"use strict";return class{constructor(){this.markers=new Map,this.links=new Map,this.buildSkeleton(),this.initApp()}buildSkeleton(){this.container=document.getElementById("app");var t=new e.Element("div",{class:"topBar",text:"Widget de demo GlobeViewer API"});this.container.appendChild(t);var i=new e.Element("div",{class:"middleContainer"});this.container.appendChild(i),this.leftDiv=new e.Element("div",{id:"leftDiv",class:"leftDiv"}),i.appendChild(this.leftDiv),this.leftDiv.hide(),this.demoMapDiv=new e.Element("div",{class:"demoMap",id:"demoMapDiv"}),i.appendChild(this.demoMapDiv),this.rightDiv=new e.Element("div",{class:"rightDiv"}),i.appendChild(this.rightDiv),this.rightDiv1=new e.Element("div",{class:"inRightDiv"}),this.rightDiv.appendChild(this.rightDiv1),this.rightDiv2=new e.Element("div",{class:"inRightDiv"}),this.rightDiv.appendChild(this.rightDiv2),this.bottomDiv=new e.Element("div",{id:"bottomDiv",class:"bottomDiv"}),this.container.appendChild(this.bottomDiv),this.bottomDiv1=new e.Element("div",{id:"",class:"bottomDivMini"}),this.bottomDiv.appendChild(this.bottomDiv1),this.bottomDiv2=new e.Element("div",{id:"",class:"bottomDivMini"}),this.bottomDiv.appendChild(this.bottomDiv2),this.bottomDiv3=new e.Element("div",{id:"",class:"bottomDivMini"}),this.bottomDiv.appendChild(this.bottomDiv3),this.bottomDiv4=new e.Element("div",{id:"",class:"bottomDivMini"}),this.bottomDiv.appendChild(this.bottomDiv4)}async initApp(){if("undefined"!=typeof widget)var e=widget.getValue("x3dPlatformId");this.map=await t.build("demoMapDiv",e,{initialCoordinates:[48.13735919880813,-1.6217482366088398],initialZoomLevel:2,tmsMaxLevel:19,tmsUrl:e?void 0:"https://tile.openstreetmap.org/"}),this.map.setOnSelectCallback(e=>{this.selectMarker(this.markers.get(e.getId()))}),this.markerList=new i(this.rightDiv1),this.eventForAddButton(),this.eventForResetButton(this.markerList),this.markerCreation=new n(this.rightDiv1),this.markerCreation.hide(),this.eventForCancelAddMarkerButton(),this.eventForValidateAddMarkerButton(),this.markerEdit=new o(this.leftDiv),this.eventForValidateEditMarkerButton(),this.eventForRemoveMarkerButton(),this.markerEdit.hide(),this.linkList=new l(this.rightDiv2),this.eventForAddLinkButton(),this.eventForResetButton(this.linkList),this.linkCreation=new a(this.rightDiv2),this.linkCreation.hide(),this.eventForCancelAddLinkButton(),this.eventForValidateAddLinkButton(),this.linkEdit=new r(this.leftDiv),this.eventForValidateEditLinkButton(),this.eventForRemoveLinkButton(),this.linkEdit.hide(),this.freeMove=new s(this.bottomDiv1),this.eventForGoToButton(),this.geocodingAndReverse=new d(this.bottomDiv2),this.eventForValidateGeocodingButton(),this.eventForValidateReverseButton()}addMarker(e,t,i,n,s){var o=this.map.addMarker(e,t,i,n,s),l=this.markerList.addMarkerInList(o);l.moveButton.addEventListener("click",()=>{this.moveTo(l.markerObj.getLatLng())}),l.selectButton.addEventListener("click",()=>{this.selectMarker(l)}),l.unselectButton.addEventListener("click",()=>{this.unselectMarker(l)}),l.markerObj.setOnUnSelectCallback(e=>{this.unselectMarker(this.markers.get(e.getId()))}),this.markers.set(l.markerObj.getId(),l)}addLink(e,t){var i=this.map.addLink([e[0].markerObj,e[1].markerObj],t),n=this.linkList.addLinkInList(i);n.moveButton.addEventListener("click",()=>{this.moveTo(n.linkObj.getOrigin().getLatLng())}),n.selectButton.addEventListener("click",()=>{this.selectLink(n)}),n.unselectButton.addEventListener("click",()=>{this.unselectLink(n)}),n.linkObj.setOnSelectCallback(e=>{this.selectLink(this.links.get(e.getId()))}),n.linkObj.setOnUnSelectCallback(e=>{this.unselectLink(this.links.get(e.getId()))}),n.linkDiv.querySelector(".text").innerText=n.linkObj.getOrigin().getTitle()+" => "+n.linkObj.getDestination().getTitle(),this.links.set(n.linkObj.getId(),n)}selectMarker(e){var t=this.markerEdit.editMarker(e);null!==t&&this.unselectMarker(t),this.markerEdit.editMarker(e),e.markerObj.select(),this.leftDiv.show(),e.selectButton.hide(),e.unselectButton.show(),this.markerEdit.show(),this.linkEdit.hide()}unselectMarker(e){e.markerObj.unSelect(),this.markerEdit.cancelEdit(e),this.leftDiv.hide(),e.selectButton.show(),e.unselectButton.hide(),this.markerEdit.hide()}selectLink(e){var t=this.linkEdit.editLink(e);null!==t&&this.unselectLink(t),this.linkEdit.editLink(e),e.linkObj.select(),this.leftDiv.show(),e.selectButton.hide(),e.unselectButton.show(),this.markerEdit.hide(),this.linkEdit.show()}unselectLink(e){this.linkEdit.hide(),e.linkObj.unSelect(),this.linkEdit.cancelEdit(e),this.leftDiv.hide(),e.selectButton.show(),e.unselectButton.hide(),this.linkEdit.hide()}moveTo(e){this.map.moveCamera(e[0],e[1])}loadGeoJson(e){this.markers.forEach(e=>{this.markers.delete(e.markerObj.getId()),i.removeMarkerInList(e)}),this.links.forEach(e=>{this.links.delete(e.linkObj.getId()),l.removeLinkInList(e)}),this.map.addGeoJson(e).forEach(e=>{var t=this.markerList.addMarkerInList(e);t.moveButton.addEventListener("click",()=>{this.moveTo(t.markerObj.getLatLng())}),t.selectButton.addEventListener("click",()=>{this.selectMarker(t)}),t.unselectButton.addEventListener("click",()=>{this.unselectMarker(t)}),t.markerObj.setOnUnSelectCallback(e=>{this.unselectMarker(this.markers.get(e.getId()))}),this.markers.set(t.markerObj.getId(),t)})}updateLink(e,t){this.links.forEach(i=>{if(i.linkObj.getOrigin().getId()===e.markerObj.getId()){if(t)return this.links.delete(i.linkObj.getId()),l.removeLinkInList(i),void this.map.removeLink(i.linkObj);let n={color:"#000000",pattern:""};n.color=i.linkObj.getColor(),n.pattern=i.linkObj.getPattern();let s=i.linkObj.getDestination();this.map.removeLink(i.linkObj),i.linkObj=this.map.addLink([e.markerObj,s],n),i.linkDiv.querySelector(".text").innerText=i.linkObj.getOrigin().getTitle()+" => "+i.linkObj.getDestination().getTitle()}else if(i.linkObj.getDestination().getId()===e.markerObj.getId()){if(t)return this.links.delete(i.linkObj.getId()),l.removeLinkInList(i),void this.map.removeLink(i.linkObj);let n={color:"#000000",pattern:""};n.color=i.linkObj.getColor(),n.pattern=i.linkObj.getPattern();let s=i.linkObj.getOrigin();this.map.removeLink(i.linkObj),i.linkObj=this.map.addLink([s,e.markerObj],n),i.linkDiv.querySelector(".text").innerText=i.linkObj.getOrigin().getTitle()+" => "+i.linkObj.getDestination().getTitle()}})}eventForAddButton(){this.markerList.button.addEventListener("click",()=>{this.markerCreation.show(),this.markerList.hide(),this.markerCreation.resetField()})}eventForResetButton(e){e.resetButton.addEventListener("click",()=>{this.markers.forEach(e=>{i.removeMarkerInList(e),this.markers.delete(e.markerObj.getId())}),this.links.forEach(e=>{l.removeLinkInList(e),this.links.delete(e.linkObj.getId())}),this.map.reset(),this.markers=new Map,this.links=new Map})}eventForValidateAddMarkerButton(){this.markerCreation.validateButton.addEventListener("click",()=>{var e=this.markerCreation.getGeoJsonContent(),t=this.markerCreation.getTitleContent(),i=this.markerCreation.getLatLonContent(),n=this.markerCreation.getDescContent(),s=this.markerCreation.getIconColorContent(),o=""===this.markerCreation.getIconContent()?"record":this.markerCreation.getIconContent(),l=this.markerCreation.getBadgeColorContent(),a=this.markerCreation.getBadgeContent(),r=this.markerCreation.getNotifColorContent(),d=this.markerCreation.getNotifContent(),c=""!==a?{icon:a,color:l}:void 0,h=""!==d?{text:d,color:r}:void 0;e?this.loadGeoJson(JSON.parse(e)):(this.addMarker(i.lat,i.lng,t,n,{color:s,icon:o,badge:c,notification:h}),this.moveTo([i.lat,i.lng]),this.markerCreation.resetField())})}eventForCancelAddMarkerButton(){this.markerCreation.cancelButton.addEventListener("click",()=>{this.markerCreation.hide(),this.markerList.show()})}eventForGoToButton(){this.freeMove.goToButton.addEventListener("click",()=>{this.moveTo(this.freeMove.getLatLonContent())})}eventForValidateEditMarkerButton(){this.markerEdit.validateButton.addEventListener("click",()=>{var e=this.markerEdit.getTitleContent(),t=this.markerEdit.getLatLonContent(),i=this.markerEdit.getDescContent(),n=this.markerEdit.getIconColorContent(),s=this.markerEdit.getIconContent(),o=this.markerEdit.getBadgeColorContent(),l=this.markerEdit.getBadgeContent(),a=this.markerEdit.getNotifColorContent(),r=this.markerEdit.getNotifContent(),d=this.markerEdit.selectedMarker;d.markerObj.setTitle(e);var c=""!==l?{icon:l,color:o}:void 0,h=""!==r?{text:r,color:a}:void 0;d.markerDiv.querySelector("p").innerText=e,d.markerObj.setLat(t.lat),d.markerObj.setLng(t.lng),d.markerObj.setDesc(i),d.markerObj.setColor(n),d.markerObj.setIcon(s),d.markerObj.setBadge(c),d.markerObj.setNotification(h),this.updateLink(d,!1),this.unselectMarker(d)})}eventForRemoveMarkerButton(){this.markerEdit.removeButton.addEventListener("click",()=>{var e=this.markerEdit.selectedMarker;this.updateLink(e,!0),this.unselectMarker(e),this.markers.delete(e.markerObj.getId()),i.removeMarkerInList(e),this.map.removeMarker(e.markerObj)})}eventForRemoveLinkButton(){this.linkEdit.removeButton.addEventListener("click",()=>{var e=this.linkEdit.selectedLink;this.unselectLink(e),this.links.delete(e.linkObj.getId()),l.removeLinkInList(e),this.map.removeLink(e.linkObj)})}eventForAddLinkButton(){this.linkList.button.addEventListener("click",()=>{this.linkCreation.show(),this.linkList.hide(),this.linkCreation.resetField()})}eventForCancelAddLinkButton(){this.linkCreation.cancelButton.addEventListener("click",()=>{this.linkCreation.hide(),this.linkList.show(),this.linkCreation.resetField()})}eventForValidateAddLinkButton(){this.linkCreation.validateButton.addEventListener("click",()=>{var e=["m1","m2"];this.markers.forEach(t=>{this.linkCreation.getStartMarkerTitle()===t.markerObj.getTitle()?e[0]=t:this.linkCreation.getEndMarkerTitle()===t.markerObj.getTitle()&&(e[1]=t)}),this.addLink(e,{color:this.linkCreation.getColor(),pattern:this.linkCreation.getPattern()}),this.linkCreation.resetField()})}eventForValidateEditLinkButton(){this.linkEdit.validateButton.addEventListener("click",()=>{var e=this.linkEdit.selectedLink,t=this.linkEdit.getIconColorContent(),i=(this.linkEdit.getIconContent(),this.linkEdit.getPattern()),n=["m1","m2"];this.markers.forEach(e=>{this.linkEdit.getStartMarkerTitle()===e.markerObj.getTitle()?n[0]=e:this.linkEdit.getEndMarkerTitle()===e.markerObj.getTitle()&&(n[1]=e)}),e.linkObj.setColor(t),e.linkObj.setPattern(i),e.linkObj.setOrigin(n[0].markerObj),e.linkObj.setDestination(n[1].markerObj),e.linkDiv.querySelector(".text").innerText=e.linkObj.getOrigin().getTitle()+" => "+e.linkObj.getDestination().getTitle(),this.unselectLink(e)})}eventForValidateGeocodingButton(){this.geocodingAndReverse.validateGeocoding.addEventListener("click",()=>{var e=this.geocodingAndReverse.getAdresseContent();this.map.geocoding(e,{}).then(t=>{t.forEach(t=>{this.geocodingAndReverse.latResult.innerText=t.lat,this.geocodingAndReverse.lonResult.innerText=t.lon,this.addMarker(t.lat,t.lon,e,t.display_name,{icon:"globe-location"}),this.moveTo([t.lat,t.lon])})})})}eventForValidateReverseButton(){this.geocodingAndReverse.validateReverse.addEventListener("click",()=>{var e=this.geocodingAndReverse.getLatLonContent();this.map.reverseGeocoding(e[0],e[1],18,{}).then(e=>{this.geocodingAndReverse.adresseResult.innerText=e.display_name,this.addMarker(e.lat,e.lon,e.address.road,e.display_name,{icon:"globe-location"}),this.moveTo([e.lat,e.lon])})})}}});