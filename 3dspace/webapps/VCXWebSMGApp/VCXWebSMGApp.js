define("DS/VCXWebSMGApp/VCXSmgDragDropManager",["DS/VCXWebComposer/VCXDragDropManager","DS/VCXWebInteropSMG/VCXSmgLoader","DS/VCXWebComposer/VCXExperienceLoader"],function(e,t,n){"use strict";return e.extend({dropCB:function(e,a,r){var i=this._experienceBase,o=i.getManager("VCXContextManager");if(e&&void 0!==widget.onRefresh)return console.log(e),this.loadDroppedFromCollabSpace(r).then(()=>{console.log("Load drop done.")}).catch(e=>{console.log("Load drop failed.")});var s=r.dataTransfer.files,l=!1;if(s.length){l=!0;for(let e=0;e<s.length;e++){let t=s[e];if(void 0!==t){t.name;t.type||(l=!1)}}}if(s.length>0){var p=o.CheckInputFile(!1);if(!l&&!p.supported){var g={level:"warning",title:"Loading",subtitle:p.message,sticky:!0};return i.getManager("VCXNotificationManager").addNotification(g),void i.getManager("VCXGUIManager").getGettingStartedUI().dropZoneOFF()}}var c="",d=null,C={};if(1===s.length&&"record"===i.odt){var u=s[0],h=i.getManager("VCXGUIManager").getGettingStartedUI();return i.getManager("VCXAPIManager").OpenModel(u,()=>{h.endLoadingExperience()})}i.getManager("VCXGUIManager").RemoveDropZone();for(var m=0;m<s.length;m++){if(void 0!==(u=s[m])){var M=u.name;if(void 0!==M){var V=M.slice(M.lastIndexOf(".")+1);if(V=V.toLowerCase(),!(p=o.CheckInputExtension(V)).supported){i.getManager("VCXNotificationManager").addNotification({level:"warning",title:"Action not supported",message:p.message});continue}if("smgxml"===V)u;else if("smg"===V||"smgs"===V)c=u;else{if("smggeom"!==V)return this._parent(e,a,r);C[u.name]=u,d=u}}}}var S=this.getProgressBar(),X=o.IsLocalMode();h=i.getManager("VCXGUIManager").getGettingStartedUI();if(c){var f=o.getIfStanAlonePlayerIsInDevMode();if(X||f)if(i&&i.webApplication)i.webApplication.requestNewExperienceBaseAsync().then(e=>{h.startLoadingExperience(),"record"===e.odt&&e.getManager("VCXODTManager").SetModelSMG(c);var n=new t;n._progressBar=S,n.Load(e,o.getMainViewer(),c,()=>{h.endLoadingExperience()})})}else{if(!d)return S.off(),this._parent(e,a,r);"record"===i.odt&&i.getManager("VCXODTManager").SetModelForZip(d),(new n).Load({experienceBase:i,mapAssets:C,jsonFile:"",endCB:()=>{S.off(),h&&h.endLoadingExperience()}})}}})}),define("DS/VCXWebSMGApp/VCXSmgExperience",["DS/VCXWebComposer/VCXExperience","DS/CoreEvents/Events","DS/VCXWebKernelCommands/VCXCmdGoToScenario","DS/VCXWebKernelCommands/VCXCmdChangeComponent","DS/VCXWebKernelCommands/VCXCmdChangeSequence","DS/VCXWebProperties/VCXProperty","DS/VCXWebProperties/VCXPropertyInfo","DS/VCXWebProperties/VCXPropertyValueString","DS/VCXWebKernelCommands/VCXCmdChangePropertiesAutokey","DS/VCXWebIO/VCXLogServices"],function(e,t,n,a,r,i,o,s,l,p){"use strict";var g=e.extend({OnEndLoading:function(e,a){console.log("VCXSmgExperience::OnEndLoading begin");var g=e;if(0===this._experienceBase.ComponentsMap.GetComponentFromType("CXPCameraActor_Spec").length){var c=this._experienceBase.Factory.BuildComponent("CXPCameraActor_Spec");c.SetID("CameraActorId"),this._experienceBase.ComponentsMap.AddComponent(c)}else g=!1;if(0===this._experienceBase.ComponentsMap.GetComponentFromType("VCXViewport_Spec").length){var d=this._experienceBase.Factory.BuildComponent("VCXViewport_Spec");d.SetID("ViewportActorId"),this._experienceBase.ComponentsMap.AddComponent(d)}if(0===this._experienceBase.ComponentsMap.GetComponentFromType("VCXComponentGround").length){var C=this._experienceBase.Factory.BuildComponent("VCXComponentGround");C.SetID("GroundActorId"),this._experienceBase.ComponentsMap.AddComponent(C)}if(e&&a)for(var u in a)if(a.hasOwnProperty(u)){var h=a[u];if("products"===u)for(var m=0;m<h.length;m++){var M=h[m],V=M.QueryInterface("W3AISGNodeHolder"),S=V.getSGNode(),X=V.getPathElement(),f=M.QueryInterface("VCXIModelNavigable");this._experienceBase.BuildComponentsFromNodeEXT(S,X,f,{attributeToUse:"productType",componentTypeForRootNode:"VCXComponentOccurrenceComposer",Instance3D:"VCXComponentOccurrenceComposer",InstanceRep:"VCXComponentMesh",defaultType:null}),t.publish({event:"VCX_ADD_ASSET",data:M})}}g&&(this._experienceBase.getManager("VCXGUIManager").InitGUI(),this._experienceBase.getManager("VCXExperience").InitImagePanels()),this._experienceBase.getManager("VCXGUIManager").RefreshGUI(),this._experienceBase.getManager("VCXPaperManager").updatePaper({propagateEvent:!0}),this.EndLoadingDressups(),this.EndLoadingViewpoints();var _=!1,x="",y=this._experienceBase.getManager("VCXScenarioManager").QueryInterface("VCXIModifiable");return UWA.Promise.resolve().then(function(){if(g){var e=this._experienceBase.Factory.BuildComponent("VCXScenarioSequence");e.SetName("Sequence 1");var t=new r(this._experienceBase.getManager("VCXSequenceManager"),this._experienceBase.getManager("VCXCommandManager"),this._experienceBase.ComponentsMap);t.PushSequence(e),this._experienceBase.getManager("VCXCommandManager").Do(t);return this.CreateNewScenario(!0).then(function(e){return x=e.GetID()}.bind(this))}if(p.memoryLog("RestoreNeutralProperties",!0),this._experienceBase.getManager("VCXScenarioManager").RestoreNeutralProperties(),p.memoryLog("RestoreNeutralProperties",!1),x=y.GetProperty("ScenarioManager.startScenarioId").GetPropertyValue().GetValue())_=!0;else{var n=this._experienceBase.getManager("VCXSequenceManager"),a=n.GetListSequences();if(x=a[0].GetListScenariosId()[0],1===this.GetViewMode()){var i=n.GetListSequencesFromType(0);if(i.length>1){var o=i[1];"Views"!==o.GetName()&&console.warn("Unexpected sequence tag"),o.GetListScenariosId().length&&(x=o.GetListScenariosId()[0])}}}return x}.bind(this)).then(function(e){if(!_){var a=new s(e),r=new i(new o("ScenarioManager.startScenarioId",2),a),g=new l(this._experienceBase.getManager("VCXScenarioManager"),this._experienceBase.getManager("VCXCommandManager"),!0);g.ChangeProperty(y,r),this._experienceBase.getManager("VCXCommandManager").Do(g)}p.memoryLog("GoToScenario",!0);var c=new n(this._experienceBase.getManager("VCXScenarioManager"),this._experienceBase.getManager("VCXCommandManager"));c.GoToScenario(e),this._experienceBase.getManager("VCXCommandManager").Do(c),p.memoryLog("GoToScenario",!1),p.memoryLog("VCXGUIManager setUpTrees",!0),this._experienceBase.getManager("VCXGUIManager").setUpTrees(),p.memoryLog("VCXGUIManager setUpTrees",!1);var d=!0===this._experienceBase.getManager("VCXContextManager").getExperienceInConnectedPlayer(),C=this._experienceBase.getManager("VCXContextManager").getPlayerMode();if(d){var u=this;setTimeout(function(){u._experienceBase.getManager("VCXAPIManager").HasAnimation("AnimationSmgID")&&u._experienceBase.getManager("VCXAPIManager").PlayAnimation("AnimationSmgID")},2e3)}else C||this._experienceBase.getManager("VCXScenarioManager").SetAutoKey(!0);if(console.log("VCXSmgExperience::OnEndLoading end"),console.log(" VCXStatNb3DNodes = "+this._statNb3DNodes),setTimeout(function(){document.querySelector("div.wux-windows-immersive-frame").dispatchEvent(new Event("resize"))},500),document.waitConditionModel){require(["DS/WebRecordEnabler/Adapter"],function(e){e.TraceManager.debug("REMOVE document.waitConditionModel"),e.WaitManager.removeWaitCondition(document.waitConditionModel),document.waitConditionModel=null})}t.publish({event:"VCX_END_LOADING_DONE"})}.bind(this))},addApplicationManagers:function(){var e=this._experienceBase.getManager("VCXContextManager").getPlayerMode(),t=this._experienceBase.getManager("VCXContextManager").getProdHighMode(),n=this._experienceBase.getManager("VCXContextManager").getExperienceIn3DPlay(),r=this._experienceBase.getManager("VCXContextManager").getExperienceInConnectedPlayer(),i=[];(this._addManager("VCXNotificationManager",1,this._experienceBase._ManagerSet,i),this._addManager("VCXGUIManager",1,this._experienceBase._ManagerSet,i,6),this._addManager("VCXSelectionManager",1,this._experienceBase._ManagerSet,i),this._addManager("VCXSelectManager",2,this._experienceBase._ManagerSet,i),this._addManager("VCXMultiUserInputManager",1,this._experienceBase._ManagerSet,i),this._addManager("VCXMaterialManager",1,this._experienceBase._ManagerSet,i),this._addManager("VCXPaperManager",1,this._experienceBase._ManagerSet,i),this._addManager("VCXDressupManager",1,this._experienceBase._ManagerSet,i),this._addManager("VCXImageManager",1,this._experienceBase._ManagerSet,i),this._addManager("VCXHyperlinkManager",1,this._experienceBase._ManagerSet,i),this._addManager("VCXStylesManager",1,this._experienceBase._ManagerSet,i),this._experienceBase.getManager("VCXContextManager").isSupported("VCXIV")&&this._addManager("VCXIVManager",1,this._experienceBase._ManagerSet,i),this._addManager("VCXPlayManager",1,this._experienceBase._ManagerSet,i),this._addManager("VCXVisuManager",1,this._experienceBase._ManagerSet,i),this._addManager("VCXContextualContentManager",1,this._experienceBase._ManagerSet,i),this._addManager("VCXNLSManager",1,this._experienceBase._ManagerSet,i),this._addManager("VCXAPIManager",1,this._experienceBase._ManagerSet,i),this._addManager("VCXMarkerManager",1,this._experienceBase._ManagerSet,i),this._addManager("VCXDRMManager",1,this._ManagerSet,i),this._addManager("VCXPulseManager",1,this._experienceBase._ManagerSet,i),this._addManager("VCXManipulatorManager",1,this._experienceBase._ManagerSet,i),e||t)&&(this._addManager("VCXSectionManager",1,this._experienceBase._ManagerSet,i),this._addManager("VCX3DGridManager",1,this._experienceBase._ManagerSet,i),this._addManager("VCXRobotAdapter",1,this._experienceBase._ManagerSet,i),this._addManager("VCXComponentBomManager",1,this._experienceBase._ManagerSet,i),this._addManager("VCXVolatileGhostingManager",1,this._experienceBase._ManagerSet,i).setKeepGhostCommand(!0),this._experienceBase.getManager("VCXContextManager").isSupported("VCXQueryEngine")&&this._addManager("VCXQueryEngine",1,this._experienceBase._ManagerSet,i),this._addManager("VCXHotspotManager",1,this._experienceBase._ManagerSet,i),this._addManager("VCXSelectionSetManager",1,this._experienceBase._ManagerSet,i),this._experienceBase.getManager("VCXContextManager").setSupported("PartZoom"));this._addManager("VCXUserInputControllerManager",1,this._experienceBase._ManagerSet,i),!r&&n&&this._addManager("VCXComposerAPIManager",1,this._experienceBase._ManagerSet,i),t&&(this._addManager("VCXCanonicsManager",1,this._experienceBase._ManagerSet,i),(void 0!==this._experienceBase.getManager("VCXContextManager").getUrlVars().debug||this._experienceBase.odt)&&(this._experienceBase.getManager("VCXContextManager").setSupported("Section"),this._experienceBase.getManager("VCXContextManager").setSupported("Paths")));var o=new a(this._experienceBase.getManager("VCXCommandManager"),this._experienceBase.ComponentsMap);return o.AddComponents(i),this._experienceBase.getManager("VCXCommandManager").Do(o),i}});return Object.defineProperty(g.prototype,"componentType",{enumerable:!0,get:function(){return"VCXExperience"}}),g}),define("DS/VCXWebSMGApp/VCXMaterialManagerSMG",["DS/VCXWebVisualization/VCXMaterialManager","DS/VCXWebSystem/VCXEnums","DS/Visualization/ThreeJS_DS"],function(e,t,n){"use strict";var a=e.extend({initialize:function(){this._parent(),this._texSteelSpecular=null,this._texSteelGlossiness=null,this._texMetalbrushedNormal=null},unInitialize:function(){this._parent(),this._releaseTexture(this._texSteelSpecular),this._releaseTexture(this._texSteelGlossiness),this._releaseTexture(this._texMetalbrushedNormal)},postInitialize:function(){this._parent(),this._texSteelSpecular=this.loadMaterialFromPath("VCXWebSMGApp","texture/VCX_steel_s.jpg"),this._texSteelGlossiness=this.loadMaterialFromPath("VCXWebSMGApp","texture/VCX_steel_g.jpg"),this._texMetalbrushedNormal=this.loadMaterialFromPath("VCXWebSMGApp","texture/VCX_metalbrushed_n.jpg")},getSharedMaterial:function(e){var a=e._envID+"|"+e._textureDocID,r=this._materialsCustom.get(a);if(!r){switch(r=this._parent(e),e._envID){case t.EnvironmentalId.Chromic:r.color=t.Color.White,r.opacity=1,r.metalness=.3,r.metalnessMap=this._texMetalbrushedNormal,r.transparent=!1,r.name="Chromic";break;case t.EnvironmentalId.Metal:r.color=t.Color.White,r.opacity=1,r.metalnessMap=this._texSteelGlossiness,r.transparent=!1,r.roughness=.1,r.metalness=.2,r.specularContrib=.3,r.name="Metal";break;case t.EnvironmentalId.MetalBrushed:r.color=t.Color.White,r.opacity=1,r.metalnessMap=this._texSteelGlossiness,r.transparent=!1,r.roughness=.5,r.metalness=.2,r.specularContrib=.3,r.name="MetalBrushed";break;case t.EnvironmentalId.Plastic:r.color=t.Color.Black,r.opacity=1,r.transparent=!1,r.roughness=.1,r.metalness=.1,r.specularContrib=.3,r.name="Plastic";break;case t.EnvironmentalId.Glass:r.color=t.Color.Black,r.opacity=.5,r.transparent=!0,r.roughness=.1,r.metalness=.8,r.specularContrib=.3,r.name="Glass";break;case t.EnvironmentalId.GlassPlastic:r.color=t.Color.Black,r.opacity=.3,r.transparent=!0,r.roughness=.1,r.metalness=.4,r.specularContrib=.3,r.name="GlassPlastic";break;case t.EnvironmentalId.ChromicWithColor:r.color=t.Color.White,r.opacity=1,r.emissive=t.Color.Black,r.metalness=.8,r.glossiness=.9,r.specularMap=this._texSteelSpecular,r.transparent=!1,r.name="ChromicWithColor";break;case t.EnvironmentalId.Unknown:break;case t.EnvironmentalId.Gold:r.color=t.Color.Gold,r.opacity=1,r.emissive=t.Color.Black,r.specular=t.Color.Black,r.metalness=.5,r.normalMap=this._texMetalbrushedNormal,r.transparent=!1,r.name="Gold";break;case t.EnvironmentalId.Aluminium:r.color=t.Color.White,r.opacity=1,r.metalness=.2,r.metalnessMap=this._texSteelSpecular,r.transparent=!1,r.roughness=.5,r.metalness=.2,r.specularContrib=.1,r.name="Aluminium";break;case t.EnvironmentalId.Satin:(r=new n.PhysicalMaterial({color:240,specular:657930,glossiness:.05,sheen:.25,sheenMode:n.SheenMode.SATIN})).color=t.Color.Satin,r.opacity=1,r.emissive=t.Color.Black,r.name="Satin"}this._materialsCustom.set(a,r)}return r},isTextureVisible:function(e){var n=this._parent(e);switch(e){case t.EnvironmentalId.Metal:case t.EnvironmentalId.MetalBrushed:case t.EnvironmentalId.Plastic:case t.EnvironmentalId.GlassPlastic:case t.EnvironmentalId.ChromicWithColor:n=!0}return n}});return Object.defineProperty(a.prototype,"componentType",{enumerable:!0,get:function(){return"VCXMaterialManager"}}),a}),define("DS/VCXWebSMGApp/VCXComponentBomManager",["UWA/Class","DS/VCXWebProperties/VCXProperty","DS/VCXWebProperties/VCXPropertyInfo","DS/VCXWebProperties/VCXPropertyValueString","DS/VCXWebProperties/VCXPropertyValueBoolean","DS/VCXWebKernelCommands/VCXCmdChangePropertiesAutokey","DS/VCXWebVisibility/VCXIVisibility","DS/VCXWebModifiables/VCXModelChangeListener"],function(e,t,n,a,r,i,o,s){"use strict";var l=e.extend({init:function(){},postUpdate:function(e){this.filterHasChanged=!1},GetColumn:function(e){var t=this.QueryInterface("VCXIModifiable");if(t){var n=t.GetProperty("ColumnTreeList.ColumnList").GetPropertyValue();if(e>=n._value.length)return;return n.GetValueAtIndex(e)}},GetColumnName:function(e){var t=this.GetColumn(e);return void 0===t?void 0:t.GetValueAtIndex(0)},GetColumnWidth:function(e){var t=this.GetColumn(e);return void 0===t?void 0:t.GetValueAtIndex(1)},GetColumnCommonRoot:function(e){var t=this.GetColumn(e);return void 0===t?void 0:t.GetValueAtIndex(2)},GetColumnLabel:function(e){var t=this.GetColumn(e);return void 0===t?void 0:t.GetValueAtIndex(3)},GetPropertyValueAt:function(e,t){var n=this.GetColumn(e);return void 0===n?void 0:n.GetValueAtIndex(t)},GetPropertyValueIdentifierAt:function(e,t){var n=void 0;switch(t){case 0:n="ColumnTree.Name";break;case 1:n="ColumnTree.Width";break;case 2:n="ColumnTree.CommonRoot";break;case 3:n="ColumnTree.Label"}return n},GetColumnNumber:function(){var e=this.QueryInterface("VCXIModifiable");return e?e.GetProperty("ColumnTreeList.ColumnList").GetPropertyValue()._value.length:0},SetSortOption:function(e){var o=this.QueryInterface("VCXIModifiable");if(o){var s=new a;s.SetValue(e.propertyName);var l=new t(new n("BOM.Sort.PropertyName",0),s),p=new i(this._experienceBase.getManager("VCXScenarioManager"),this._experienceBase.getManager("VCXCommandManager"),!0);p.ChangeProperty(o,l),this._experienceBase.getManager("VCXCommandManager").Push(p),(s=new r).SetValue(e.ascendant),l=new t(new n("BOM.Sort.Ascendant",0),s),(p=new i(this._experienceBase.getManager("VCXScenarioManager"),this._experienceBase.getManager("VCXCommandManager"),!0)).ChangeProperty(o,l),this._experienceBase.getManager("VCXCommandManager").Push(p)}},GetSortOption:function(){var e=this.QueryInterface("VCXIModifiable");if(e){var t=e.GetProperty("BOM.Sort.Ascendant"),n=t.GetPropertyValue().Value;return{propertyName:(t=e.GetProperty("BOM.Sort.PropertyName")).GetPropertyValue().Value,ascendant:n}}return 0},GetColumnPropertyValuesNumber:function(){return 4},GetBOMId:function(e){for(var t=this.GetBOMContent(!1),n=e.GetObject().QueryInterface("W3AISGNodeHolder").getPathElement().getLastElement(),a=1;;a++){if(!t[a])return a;if(t[a].element===n)return a}},GetBOMContent:function(e){for(var t=!1,n=[],a=this._experienceBase.getManager("VCXDressupManager").getDressupsFromGroup("Callouts"),r=0;r<a.length;r++){var i=a[r];if(i){var s=i.QueryInterface("VCXIVisibility");if(s&&s.GetVisibility()!==o.EVisState.Hidden){var l=i.QueryInterface("VCXIModifiable");if(l)for(var p=l.GetAttachedOccurences(),g=0;g<p.length;g++){if(C=p[g])if(u=C.QueryInterface("VCXIModifiable"))(h=u.GetProperty("Actor.BomId"))&&(m=h.GetPropertyValue().Value)&&(t=!0,n[m]||(n[m]={},n[m].calloutComponents=[],n[m].itemComponents=[]),n[m].calloutComponents.push(i),n[m].itemComponents.indexOf(C)<0&&n[m].itemComponents.push(C),n[m].element=C.QueryInterface("W3AISGNodeHolder").getPathElement().getLastElement())}}}}t||(e=!1);for(var c=this._experienceBase.ComponentsMap.GetComponentFromType("VCXWebComponentOccurrence"),d=0;d<c.length;d++){var C;if(C=c[d]){let t=C.QueryInterface("VCXIVisibility");var u,h,m;if(t&&t.GetVisibility()!==o.EVisState.Hidden)if(u=C.QueryInterface("VCXIModifiable"))if(h=u.GetProperty("Actor.BomId"))(m=h.GetPropertyValue().Value)&&(e||n[m]||(n[m]={},n[m].itemComponents=[]),n[m]&&n[m].itemComponents.indexOf(C)<0&&(n[m].itemComponents.push(C),n[m].element=C.QueryInterface("W3AISGNodeHolder").getPathElement().getLastElement()))}}return n}});return Object.defineProperty(l.prototype,"filterHasChanged",{enumerable:!0,get:function(){return this._filterHasChanged},set:function(e){this._filterHasChanged=e}}),Object.defineProperty(l.prototype,"ListHasChanged",{enumerable:!0,get:function(){var e=!1,t=this._experienceBase.getManager("VCXModelChangeListener");return t&&(e|=t.hasChanged(s.FChangeFlag.BomID),e|=t.hasChanged(s.FChangeFlag.DressupVisibility),e|=t.hasChanged(s.FChangeFlag.Visibility)),e|=this.filterHasChanged}}),Object.defineProperty(l.prototype,"componentType",{enumerable:!0,get:function(){return"VCXComponentBomManager"}}),l}),define("DS/VCXWebSMGApp/VCXBomManagerModifiable",["DS/VCXWebModifiables/VCXModifiable","DS/VCXWebProperties/VCXProperty","DS/VCXWebProperties/VCXPropertyInfo","DS/VCXWebProperties/VCXPropertySet","DS/VCXWebProperties/VCXPropertyValueBoolean","DS/VCXWebProperties/VCXPropertyValueInt","DS/VCXWebProperties/VCXPropertyValueString","DS/VCXWebProperties/VCXPropertyValueMap"],function(e,t,n,a,r,i,o,s){"use strict";return e.extend({init:function(e){this._Properties=[]},BuildProp:function(e,a,r){var i=new n(e,1),o=new a;o.Value=r,this._Properties[e]=new t(i,o),this.SetProperty(e,o)},BuildColumn:function(e,t,n,a){var r=new s,l=new o;return l.SetValue(e),r.SetValueAtIndex(0,l),(l=new i).SetValue(t),r.SetValueAtIndex(1,l),(l=new i).SetValue(n),r.SetValueAtIndex(2,l),(l=new o).SetValue(a),r.SetValueAtIndex(3,l),r},Build:function(){this._parent(),this.BuildProp("BOM.Filter",i,0),this.BuildProp("BOM.Sort.Ascendant",r,!0),this.BuildProp("BOM.Sort.PropertyName",o,"Bom.Description");var e=new s;e.SetValueAtIndex(0,this.BuildColumn("Bom.Description",100,0,"")),e.SetValueAtIndex(1,this.BuildColumn("Actor.BomId",50,0,"")),e.SetValueAtIndex(2,this.BuildColumn("Bom.Quantity",40,0,""));var a=new n("ColumnTreeList.ColumnList",1);this._Properties["ColumnTreeList.ColumnList"]=new t(a,e),this.SetProperty("ColumnTreeList.ColumnList",e)},SetProperty:function(e,a){var r=new n(e,0);this._Properties[e]=new t(r,a.Clone())},OnChangeProperty:function(e,t,n){if(n||(n={}),n.fromChildClass);else if(this.OnChangePropertyBegin(e,t))return!0;this.SetProperty(e,t)},OnChangePropertiesEnd:function(){this.GetObject().update&&this.GetObject().update()},GetProperty:function(e){var n=null;return void 0!==this._Properties[e]&&(n=new t(this._Properties[e].GetPropertyInfo(),this._Properties[e].GetPropertyValue().Clone())),n},GetProperties:function(e){var t=new a;for(var n in this._Properties)this._Properties.hasOwnProperty(n)&&t.AddOrModifyProperty(this.GetProperty(n));return t}})}),define("DS/VCXWebSMGApp/VCXOpenCmd",["UWA/Core","DS/ApplicationFrame/Command","DS/Controls/Loader","DS/VCXWebComposer/VCXExperienceLoader","DS/VCXWebInteropSMG/VCXSmgLoader","DS/VCXWebInteropSMG/VCXSmgXmlLoader"],function(e,t,n,a,r,i){"use strict";return t.extend({init:function(e){this._parent(e,{mode:"exclusive",isAsynchronous:!0})},beginExecute:function(){},execute:function(){var t=this,n=this.getFrameWindow().getUIFrame();if(null===document.getElementById("VCXOpenFileHiddenButton")){var a=new e.Element("input",{name:"Open",id:"VCXOpenFileHiddenButton",styles:{position:"absolute",left:"-99999px"},type:"file",multiple:"multiple",accept:".json,.3dxml,.smgxml,.smg,.smggeom,.urb,.ctxp,.ctps"}).inject(n);document.getElementById("VCXOpenFileHiddenButton").addEventListener("click",function(e){},!1),document.getElementById("VCXOpenFileHiddenButton").addEventListener("change",function(e){t.openFile(e),a.destroy()},!1)}var r,i=this;(r=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),!document.getElementById("VCXOpenFileHiddenButton").dispatchEvent(r)&&console.log("VCXOpenFileHiddenButton : A handler called preventDefault"),i.end(),this.onResume(function(){}),this.onPause(function(){})},openFile:function(t,o){for(var s="",l="",p="",g="",c=null,d={},C="",u=!1,h=t.target,m=0;m<h.files.length;m++){var M=h.files[m];if(void 0!==M){var V=M.name;if(void 0!==V){var S=V.slice(V.lastIndexOf(".")+1);"json"===(S=S.toLowerCase())||"ctps"===S?s=M:"3dxml"===S?(l=window.URL.createObjectURL(M),d[M.name]=l):"smgxml"===S?p=M:"smg"===S||"smgs"===S?g=M:"smggeom"===S?(d[M.name]=M,c=M):"urb"!==S&&"ctxp"!==S||(C=M,d[M.name]=C,u=!0)}}}var X,f=document.getElementsByClassName("wux-windows-docking-element-free-zone wux-docking-element-bottom")[0],_=new n({text:"Preparing...",showButtonFlag:!1});(_.inject(f),_.getContent().setStyles({opacity:"1",position:"absolute",bottom:"calc(50% - 100px)",left:"calc(50% - 50px)"}),_.on("0%"),void 0===o)&&(o=this.getFrameWindow()._experienceBase);if(o&&o.webApplication)return o.webApplication.requestNewExperienceBaseAsync().then(function(t){if(0!==Object.keys(d).length)X=a;else if(p)X=i;else{if(!g)return e.Promise.reject(new Error("Not supported file"));X=r}var n=t.getManager("VCXGUIManager").getGettingStartedUI();n.startLoadingExperience(),WUX.setFullscreen();var o=t.getManager("VCXContextManager").getMainViewer();if(0!==Object.keys(d).length)"record"===t.odt&&(""!==l?t.getManager("VCXODTManager").SetModelForZip(l):c&&t.getManager("VCXODTManager").SetModelForZip(c)),(new X).Load({experienceBase:t,mapAssets:d,jsonFile:s,urb:u,endCB:function(){_.off(),n.endLoadingExperience()}});else if(p){(new X).Load(t,o,p,!0,void 0)}else if(g){var C=new X;C._progressBar=_,"record"===t.odt&&t.getManager("VCXODTManager").SetModelForZip(g),C.Load(t,o,g,function(){_.off(),n.endLoadingExperience()})}else _.off(),n.endLoadingExperience()})},endExecute:function(){}})}),define("DS/VCXWebSMGApp/VCXPlayComposerManagerModifiable",["UWA/Core","DS/VCXWebExperienceBase/VCXPlayManagerModifiable","DS/VCXWebProperties/VCXPropertyValueBoolean"],function(e,t,n){"use strict";return t.extend({Build:function(){this._parent();let e=[this.BuildProperty("VCXPlayManager.showActionBar",n,!0),this.BuildProperty("VCXPlayManager.showScenePanel",n,!0),this.BuildProperty("VCXPlayManager.showPropertiesPanel",n,!0),this.BuildProperty("VCXPlayManager.showAssemblyPanel",n,!0),this.BuildProperty("VCXPlayManager.showDressupPanel",n,!0),this.BuildProperty("VCXPlayManager.showSelection",n,!0),this.BuildProperty("VCXPlayManager.showPreHighlight",n,!0),this.BuildProperty("VCXPlayManager.showPreHighlightOnlyInteractiveActor",n,!1),this.BuildProperty("VCXPlayManager.showCanvas",n,!1),this.BuildProperty("VCXPlayManager.showBlackBorderPreview",n,!1),this.BuildProperty("VCXPlayManager.showRobot",n,!0),this.BuildProperty("VCXPlayManager.showAuthoringTooltip",n,!0)];this.BuildProperties(e)}})}),define("DS/VCXWebSMGApp/VCXSMG3DPlayDictionary",[],function(){"use strict";var e={VCXPlayManager:{VCXIModifiable:"DS/VCXWebSMGApp/VCXPlayComposerManagerModifiable"}},t={},n={},a=[];return{GetDictionary:function(){return{interfaces:t,components:n,extensions:e}},getNLSModules:function(){return a}}});