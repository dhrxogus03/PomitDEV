define("DS/TagNavigatorWebInWin/BroadcastWebInWinTaggerManager",["UWA/Class","UWA/Core","UWA/Event","DS/TagNavigator/Logger","DS/TagNavigator/TagNavigator"],function(e,t,n,i,a){"use strict";return e.extend(n,{init:function(){this._TaggerWebInWin=null,this._parent()},setup:function(e){this._TaggerWebInWin=e&&e.TaggerWebInWin,this._BroadcastChannel&&this._BroadcastChannel.close(),this._BroadcastChannel&&delete this._BroadcastChannel,this._BroadcastChannel=new BroadcastChannel("WebInWinProxyManager"),this._parent(e)},destroy:function(){this._cleanUpEmbedded(),this._BroadcastChannel.close(),this._BroadcastChannel&&delete this._BroadcastChannel,this._BroadcastChannel=null,this._TaggerWebInWin=null,this._parent()},listenBroadcast:function(){let e=this;t.is(e._BroadcastChannel)&&t.is(e._TaggerWebInWin)&&(e._BroadcastChannel.onmessage=(n=>{if(t.is(n)&&t.is(n.data)){i.log("DS/TagNavigatorWebInWin/BroadcastWebInWinTaggerManager onmessage",n.data);const{type:r="",proxyId:o="",contextId:s="",value:g=""}=n.data;if("activate"===r)try{let a={proxyId:o,contextId:s},r=t.is(e._TaggerWebInWin.proxy)&&e._TaggerWebInWin.proxy._getProxy(s,a);if(i.log("DS/TagNavigatorWebInWin/BroadcastWebInWinTaggerManager call TaggerWebInWin.activate"),!t.is(r))return void i.log("DS/TagNavigatorWebInWin/BroadcastWebInWinTaggerManager activate TaggerWebInWin._tagger_proxy error !!!, options="+JSON.stringify(n.data));r.activate()}catch(e){i.log("DS/TagNavigatorWebInWin/BroadcastWebInWinTaggerManager activate Exception raised"),console.warn("Exception raised=> ",e)}else if("deactivate"===r)try{let a={proxyId:o,contextId:s},r=t.is(e._TaggerWebInWin.proxy)&&e._TaggerWebInWin.proxy._getProxy(s,a);if(i.log("DS/TagNavigatorWebInWin/BroadcastWebInWinTaggerManager call TaggerWebInWin.deactivate"),!t.is(r))return void i.log("DS/TagNavigatorWebInWin/BroadcastWebInWinTaggerManager deactivate TaggerWebInWin._tagger_proxy error !!!, options="+JSON.stringify(n.data));r.deactivate()}catch(e){i.log("DS/TagNavigatorWebInWin/BroadcastWebInWinTaggerManager deactivate Exception raised"),console.warn("Exception raised=> ",e)}else if("toggleProxyFocus"===r)try{let a={proxyId:o,contextId:s},r=t.is(e._TaggerWebInWin.proxy)&&e._TaggerWebInWin.proxy._getProxy(s,a);if(i.log("DS/TagNavigatorWebInWin/BroadcastWebInWinTaggerManager call TaggerWebInWin.toggleProxyFocus"),!t.is(r))return void i.log("DS/TagNavigatorWebInWin/BroadcastWebInWinTaggerManager toggleProxyFocus TaggerWebInWin._tagger_proxy error !!!, options="+JSON.stringify(n.data));r.toggleProxyFocus(g)}catch(e){i.log("DS/TagNavigatorWebInWin/BroadcastWebInWinTaggerManager toggleProxyFocus Exception raised"),console.warn("Exception raised=> ",e)}else if("setTaggerMode"===r)try{t.is(a.view)&&t.is(a.view.setTaggerMode)&&a.view.setTaggerMode(g)}catch(e){i.log("DS/TagNavigatorWebInWin/BroadcastWebInWinTaggerManager setTaggerMode Exception raised"),console.warn("Exception raised=> ",e)}}}))}})}),define("DS/TagNavigatorWebInWin/TaggerWebInWinLeftPanel",["UWA/Core","UWA/Class","UWA/Class/Debug","UWA/Class/Events"],function(e,t,n,i){"use strict";return t.singleton(i,n,{_taggerWebInWin:void 0,buildView:function(e){var t=this;this.log("Inside TaggerWebInWinLeftPanel#initialize"),require(["DS/TagNavigatorWebInWin/TaggerWebInWin","css!DS/TagNavigator/TagNavigator.css"],function(n){e.onReady=function(){this.log("dispatching taggerInitEnded to WIN"),dscef.sendString(e.taggercontent+e.notifSeparator+"taggerInitEnded=true")},t._taggerWebInWin=new n(e)})},executeMethod:function(e){if(!e.target)throw new Error("No target method in executeMethod !");this[e.target](e)},ActionOnTaggerProxy:function(t){if(this.log("ActionOnTaggerProxy"),this.log(t),!e.is(t))throw new Error("No parameters in ActionOnTaggerProxy !");if(!e.is(t.param))throw new Error("No parameters.param in ActionOnTaggerProxy !");if(!e.is(t.param.event_id))throw new Error("No parameters.param.event_id in ActionOnTaggerProxy !");if(!e.is(this._taggerWebInWin))throw new Error("No this._taggerWebInWin in ActionOnTaggerProxy !");e.is(this._taggerWebInWin.proxy[t.param.event_id],"function")?this._taggerWebInWin.proxy[t.param.event_id](t):(this.error("Trying to call undefined function",t),this._taggerWebInWin._dispatchEndMethod(t))},ActionOnTagger:function(t){if(this.log("ActionOnTagger"),this.log(t),!e.is(t))throw new Error("No parameters in ActionOnTaggerProxy !");if(!e.is(t.param))throw new Error("No parameters.param in ActionOnTaggerProxy !");if(!e.is(t.param.method))throw new Error("No parameters.param.event_id in ActionOnTaggerProxy !");if(!e.is(this._taggerWebInWin))throw new Error("No this._taggerWebInWin in ActionOnTaggerProxy !");e.is(this._taggerWebInWin.tagger[t.param.method],"function")?this._taggerWebInWin.tagger[t.param.method](t):(this.error("Trying to call undefined function",t),this._taggerWebInWin._dispatchEndMethod(t))}})}),define("DS/TagNavigatorWebInWin/TaggerWebInWin",["UWA/Drivers/Alone","UWA/Core","UWA/Class/Debug","UWA/Controls/Abstract","UWA/Element","UWA/Event","DS/TagNavigator/TaggerSettings","DS/TagNavigator/TagNavigator","DS/TagNavigator/Logger","DS/TagNavigatorProxy/TagNavigatorProxy","DS/TagNavigatorWebInWin/BroadcastWebInWinTaggerManager"],function(e,t,n,i,a,r,o,s,g,d,c){"use strict";var p;return i.extend(n,{name:"DS_TaggerWebInWin_TaggerWebInWin",_tagger_proxy:{},_index_notif:0,_taggerContent:null,_contextManager:[],_delegationStatus:!1,_BroadcastWebInWinTaggerManager:null,init:function(e){var n=e.settings,i=window.location.search.substring(1).indexOf("debug_me")>=0||n&&n.debug_me;let d=this;d.setDebugMode(i),this.log("TaggerWebInWin init"),(window.location.search.substring(1).indexOf("proxyLogs")>=0||n&&n.proxyLogs)&&(this.log("activating the proxyLogs"),window.proxyLogs=!0),o.setOption("WebInWin",!0),t.is(n,"object")&&(n.hasOwnProperty("legacy6W")&&t.is(n.legacy6W,"boolean")&&(o.setOption("legacy6W",n.legacy6W),this.log("option legacy6W="+n.legacy6W)),n.hasOwnProperty("enableLoadOnDemand")&&t.is(n.legacy6W,"boolean")&&(o.setOption("enableLoadOnDemand",n.enableLoadOnDemand),this.log("option enableLoadOnDemand="+n.enableLoadOnDemand)),n.hasOwnProperty("SimplifiedTagger")&&t.is(n.SimplifiedTagger,"boolean")&&(o.setOption("simplifiedTagger",n.SimplifiedTagger),this.log("option simplifiedTagger="+n.SimplifiedTagger)),n.hasOwnProperty("TNLogs")&&t.is(n.TNLogs,"boolean")&&(this.log("option TNLogs="+n.TNLogs),n.TNLogs&&g.enable()),n.hasOwnProperty("W6_In_WebInWin")&&t.is(n.W6_In_WebInWin,"boolean")&&(o.setOption("W6_In_WebInWin",n.W6_In_WebInWin),this.log("option W6_In_WebInWin="+n.W6_In_WebInWin)));let h={TaggerWebInWin:d};d._BroadcastWebInWinTaggerManager=new c,d._BroadcastWebInWinTaggerManager.setup(h),d._BroadcastWebInWinTaggerManager.listenBroadcast(),e.notifSeparator&&(this._notifSeparator=e.notifSeparator,this._delegationStatus=!!this._notifSeparator),a.addEvent.call(document,"keydown",function(e){var t=r.whichKey(e),n=r.getElement(e)?r.getElement(e).getTagName():"unknown";"backspace"!==t&&"alt+left"!==t||-1!==["input","select"].indexOf(n)||(r.stop(e),d.log("TaggerWebInWin/TaggerWebInWin backspace stopped",e)),116===e.keyCode&&(e.returnValue=!1,e.preventDefault(),e.stopPropagation())});var l={cStorageService:e.tagsServerUrl,tenant:e.tenant,lang:e.lang,webInWin:!0};d._taggerContent=e.taggercontent,s.set6WTaggerOptions(l),p=t.is(e.contextId,"string")&&e.contextId.length>0?e.contextId:"Universal_SearchCtx",this.log("_contextId="+p);var _=s.get6WTagger(p);s.create6WTaggerView(_,d._taggerContent,{onClose:function(){d._delegationStatus?sendNotification(d._taggerContent+d._notifSeparator+"taggerOnClose","onClose"):sendNotification("taggerOnClose","onClose")},onOpen:function(){},changeTaggerIcon:function(e){d._delegationStatus?sendNotification(d._taggerContent+d._notifSeparator+"changeTaggerIcon",e?JSON.stringify(e):""):sendNotification("changeTaggerIcon",e?JSON.stringify(e):"")}},!0),d._tagger_proxy={},d._contextManager=[],t.is(e.onReady,"function")&&e.onReady.call(d),d.tagger.parent=d,d.proxy.parent=d,-1===window.location.search.indexOf("no_jsnotif=true")&&(d._delegationStatus?sendNotification(d._taggerContent+d._notifSeparator+"Init","done"):sendNotification("Init","done"))},tagger:{activateFilter:function(e){console.log("activateFilter Test"+e),document.getElementById("tagger-content").style="display:none";var t=document.getElementById("FilterTest1");t.style="background-color:lightblue";var n=document.createElement("BUTTON"),i=document.createTextNode("Submit");n.appendChild(i),t.appendChild(n)},setVisibility:function(e){if(!(t.is(e,"object")&&t.is(e.param,"object")&&t.is(e.param.visibility,"string")))throw new Error("E_INVALIDARG: Bad options given to setVisibility method !");try{t.is(s.view)&&t.is(s.view.toggleVisibility)&&s.view.toggleVisibility(e.param.visibility)}catch(e){console.warn("Exception raised=>",e)}finally{this.parent._dispatchEndMethod(e)}},setTaggerMode:function(e){if(!(t.is(e,"object")&&t.is(e.param,"object")&&t.is(e.param.options,"string")))throw new Error("E_INVALIDARG: Bad options given to openAdvancedSearch method !");try{t.is(s.view)&&t.is(s.view.setTaggerMode)&&s.view.setTaggerMode(e.param.options)}catch(e){console.warn("Exception raised=>",e)}finally{this.parent._dispatchEndMethod(e)}},openTagger:function(e){if(!t.is(e,"object")||!t.is(e.param,"object"))throw new Error("E_INVALIDARG: Bad options given to openTagger method !");try{t.is(s.view)&&t.is(s.view.openTagger,"function")&&t.is(e.param.mode,"string")?"tags"===e.param.mode?s.view.displayTags():"criteria"===e.param.mode&&s.view.displayCriteria():this.setVisibility(e)}catch(e){console.warn("Exception raised=>",e)}finally{this.parent._dispatchEndMethod(e)}},switchContext:function(e){if(!(t.is(e,"object")&&t.is(e.param,"object")&&t.is(e.param.contextId,"string")&&t.is(e.param.contextNls,"string")||t.is(e.contextId,"string")&&t.is(e.contextNls,"string")))throw new Error("E_INVALIDARG: Bad options given to switchContext method !");try{var n=null,i=null;n=t.is(e.contextId,"string")?e.contextId:e.param.contextId,i=t.is(e.contextNls,"string")?e.contextNls:e.param.contextNls;let o=s.get6WTagger(n);o&&o.setAsCurrent(),p=n;var a=window.document.getElementById("div_context"),r=window.document.getElementById("tagger-title");t.is(a)&&t.is(r)&&(a.style.display="block",r.textContent=i)}catch(e){console.warn("Exception raised=>",e)}finally{this.parent._dispatchEndMethod(e)}},setListOfContexts:function(e){if(!t.is(e,"object")||!t.is(e.param,"object")||!t.is(e.param.contextArray,"array"))throw new Error("E_INVALIDARG: Empty or missing options given to setListOfContexts method !");try{for(var n=e.param.contextArray,i=[],a=0,r=n.length;a<r;a++){var o=n[a];if(!t.is(o,"object")||!t.is(o.contextId,"string")||!t.is(o.contextNls,"string"))throw new Error("E_INVALIDARG: Wrong options given to setListOfContexts method !");i.push({value:o.contextId,label:o.contextNls})}this.parent._contextManager=i}catch(e){console.warn("Exception raised=>",e)}finally{this.parent._dispatchEndMethod(e)}},clearFilters:function(e){if(!t.is(e,"object")||!t.is(e.param,"object")||!t.is(e.param.contextId,"string"))throw new Error("E_INVALIDARG: Bad options given to clearFilters method !");try{s.get6WTagger(e.param.contextId).clearFilters()}catch(e){console.warn("Exception raised=>",e)}finally{this.parent._dispatchEndMethod(e)}},focusOnCC:function(e){if(!(t.is(e,"object")&&t.is(e.param,"object")&&t.is(e.param.contextId,"string")&&t.is(e.param.widgetId,"string")))throw new Error("E_INVALIDARG: Bad options given to focusOnCC method !");try{s.get6WTagger(e.param.contextId).focusOnCC(e.param.contextId)}catch(e){console.warn("Exception raised=>",e)}finally{this.parent._dispatchEndMethod(e)}},unfocus:function(e){if(!t.is(e,"object")||!t.is(e.param,"object")||!t.is(e.param.contextId,"string"))throw new Error("E_INVALIDARG: Bad options given to unfocus method !");try{var n=s.get6WTagger(e.param.contextId);if(!t.is(n)||!t.is(n.unfocus,"function"))throw new Error("E_INVALIDARG: Bad options given to unfocus method !");n.unfocus()}catch(e){console.warn("Exception raised=>",e)}finally{this.parent._dispatchEndMethod(e)}},die:function(e){if(!t.is(e,"object")||!t.is(e.param,"object")||!t.is(e.param.contextId,"string"))throw new Error("E_INVALIDARG: Bad options given to die method !");try{s.get6WTagger(e.param.contextId).die()}catch(e){console.warn("Exception raised=>",e)}finally{this.parent._dispatchEndMethod(e)}},getFilters:function(e){if(!t.is(e,"object")||!t.is(e.param,"object")||!t.is(e.param.contextId,"string"))throw new Error("E_INVALIDARG: Bad options given to getFilters method !");try{s.get6WTagger(e.param.contextId).getFilters()}catch(e){console.warn("Exception raised=>",e)}finally{this.parent._dispatchEndMethod(e)}}},proxy:{createProxy:function(e){try{if(!t.is(e,"object")||!t.is(e.param,"object"))throw new Error("E_INVALIDARG: bad options input given to createProxy method !");var n=this,i=e.param,a=i.proxyId||"Universal_SearchCtx_Proxy",r=i.contextId||p||"Universal_SearchCtx",o=this._getProxy(r,i);if(e.disableRightParentWindow||(i.rightParentWindow=window),t.is(o))return this.parent.log("createProxy : proxy already existing !"),void this.parent._dispatchEndMethod(e);this.parent.log("TaggerWebInWin.createProxy, contextId="+r),i.contextId=r,i.events={addFilterChangeListener:function(e){n.parent._dispatchTowin({notif_name:"taggerWebInWinEvent",notif_parameters:{event_id:"addFilterChangeListener",data:e,proxyId:a,contextId:r}})},addCriteriaChangeListener:function(e){n.parent._dispatchTowin({notif_name:"taggerWebInWinEvent",notif_parameters:{event_id:"addCriteriaChangeListener",data:e,proxyId:a,contextId:r}})},addPLMUpdateListener:function(e){n.parent._dispatchTowin({notif_name:"taggerWebInWinEvent",notif_parameters:{event_id:"addPLMUpdateListener",data:e,proxyId:a,contextId:r}})},addRequestSuggestsListener:function(e){n.parent._dispatchTowin({notif_name:"taggerWebInWinEvent",notif_parameters:{event_id:"addRequestSuggestsListener",data:e,proxyId:a,contextId:r}})},addFilterSubjectsListener:function(e){n.parent._dispatchTowin({notif_name:"taggerWebInWinEvent",notif_parameters:{event_id:"addFilterSubjectsListener",data:e,proxyId:a,contextId:r}})},_internalFilterChangeListener:function(e){n.parent._dispatchTowin({notif_name:"taggerWebInWinEvent",notif_parameters:{event_id:"_internalFilterChangeListener",data:e,proxyId:a,contextId:r}})},_addVisibilityChangeListener:function(e){n.parent._dispatchTowin({notif_name:"taggerWebInWinEvent",notif_parameters:{event_id:"addVisibilityChangeListener",data:e,proxyId:a,contextId:r}})},addGroupingChangeListener:function(e){n.parent._dispatchTowin({notif_name:"taggerWebInWinEvent",notif_parameters:{event_id:"onGroupingChange",data:e,proxyId:a,contextId:r}})},addCriteriaModifiedListener:function(e){n.parent._dispatchTowin({notif_name:"taggerWebInWinEvent",notif_parameters:{event_id:"addCriteriaModifiedListener",data:e,proxyId:a,contextId:r}})},addInfoMessageLinkClickListener:function(){n.parent._dispatchTowin({notif_name:"taggerWebInWinEvent",notif_parameters:{event_id:"addInfoMessageLinkClickListener",proxyId:a,contextId:r}})},addAdditionalFilterChangeListener:function(e){n.parent._dispatchTowin({notif_name:"taggerWebInWinEvent",notif_parameters:{event_id:"addAdditionalFilterChangeListener",data:e,proxyId:a,contextId:r}})},addFocusChangeListener:function(e){n.parent._dispatchTowin({notif_name:"taggerWebInWinEvent",notif_parameters:{event_id:"addFocusChangeListener",data:e,proxyId:a,contextId:r}})}},this.parent._tagger_proxy[r]=this.parent._tagger_proxy[r]||{};var s=d.createProxy(i);this.parent._tagger_proxy[r][a]=s,s.addEvent("proxyIsReady",function(e){n.parent._dispatchTowin({notif_name:"taggerWebInWinEventproxyIsReady",notif_parameters:{event_id:"proxyIsReady",data:e,proxyId:a,contextId:r}})}),i.searchMoreTagsOnDemand&&s.addEvent("onLoadMoreTags",function(e){n.parent._dispatchTowin({notif_name:"taggerWebInWinEvent",notif_parameters:{event_id:"onLoadMoreTags",data:e,proxyId:a,contextId:r}})}),i.colorize&&(s.addEvent("colorize",function(e){n.parent._dispatchTowin({notif_name:"taggerWebInWinEvent",notif_parameters:{event_id:"colorize",data:e,proxyId:a,contextId:r}})}),s.addEvent("unColorize",function(e){n.parent._dispatchTowin({notif_name:"taggerWebInWinEvent",notif_parameters:{event_id:"unColorize",data:e,proxyId:a,contextId:r}})}))}catch(e){console.warn("Exception raised"),console.warn(e)}finally{this.parent._dispatchEndMethod(e)}},toggleProxyFocus:function(e){try{if(!t.is(e,"object")||!t.is(e.param,"object")||!t.is(e.param.status_focus))throw new Error("E_INVALIDARG: bad options input given to toggleProxyFocus method !");let n=t.is(e.param,"object")&&t.is(e.param.contextId,"string")?e.param.contextId:p,i=this._getProxy(n,e);if(!t.is(i,"object")||!t.is(i.toggleProxyFocus,"function"))throw new Error("Unable to retrieve proxy in toggleProxyFocus method !");i.toggleProxyFocus(e.param.status_focus)}catch(t){console.warn("Exception raised, options="+JSON.stringify(e)),console.warn(t)}finally{this.parent._dispatchEndMethod(e),t.is(this._EmbeddedViewVisibility,"boolean")&&this._manageEmbeddedViewVisibility(this._EmbeddedViewVisibility),this._EmbeddedViewVisibility=void 0}},setLocalFilter:function(e){try{if(!t.is(e,"object")||!t.is(e.param,"object")||!t.is(e.param.options,"object"))throw new Error("E_INVALIDARG: bad options input given to setLocalFilter method !");var n=e.param,i=this._getProxy(p,n);if(!t.is(i,"object")||!t.is(i.setLocalFilter,"function"))throw new Error("Unable to retrieve proxy.setLocalFilter in setLocalFilter method !");i.setLocalFilter(n.options,n.warn)}catch(e){console.warn("Exception raised"),console.warn(e)}finally{this.parent._dispatchEndMethod(e)}},setLocalGrouping:function(e){try{if(!t.is(e,"object")||!t.is(e.param,"object")||!t.is(e.param.groupingInfo,"object"))throw new Error("E_INVALIDARG: bad options input given to setLocalFilter method !");var n=e.param,i=this._getProxy(p,n);if(!t.is(i,"object")||!t.is(i.setLocalGrouping,"function"))throw new Error("Unable to retrieve proxy.setLocalGrouping in proxy method!");var a=n.groupingInfo;if(!t.is(a,"object"))throw new Error("Invaid Argument: bad input; groupingInfo type is invalid");var r=a.grouping,o=a.warn;if(!t.is(r,"object")||!t.is(o,"boolean"))throw new Error("Invaid Argument: bad input; either one of the attributes are invalid (grouping or warn)");i.setLocalGrouping(r,o)}catch(e){console.warn("Exception raised"),console.warn(e)}finally{this.parent._dispatchEndMethod(e)}},clearLocalFilter:function(e){try{if(!t.is(e,"object")||!t.is(e.param))throw new Error("E_INVALIDARG: bad options input given to clearLocalFilter method !");var n=e.param,i=this._getProxy(p,n);if(this.parent.log("TaggerWebInWin.clearLocalFilter"),!t.is(i))return console.warn("TaggerWebInWin._tagger_proxy error !!!"),void this.parent._dispatchEndMethod(e);i.clearLocalFilter()}catch(e){console.warn("Exception raised"),console.warn(e)}finally{this.parent._dispatchEndMethod(e)}},clearLocalGrouping:function(e){try{if(!t.is(e,"object")||!t.is(e.param))throw new Error("E_INVALIDARG: bad options input given to clearLocalFilter method !");var n=e.param,i=this._getProxy(p,n);if(!t.is(i,"object")||!t.is(i.clearLocalGrouping,"function"))throw new Error("Unable to retrieve proxy.clearLocalGrouping in proxy method!");this.parent.log("TaggerWebInWin.clearLocalGrouping");let a=t.is(n.groupingInfo)?n.groupingInfo:void 0,r=!!t.is(a)&&a.warn;i.clearLocalGrouping(r)}catch(e){console.warn("Exception raised"),console.warn(e)}finally{this.parent._dispatchEndMethod(e)}},_requestGroupingChange:function(e){try{if(!t.is(e,"object")||!t.is(e.param))throw new Error("E_INVALIDARG: bad options input given to _requestGroupingChange method !");var n=e.param,i=this._getProxy(p,n);if(!t.is(i,"object")||!t.is(i._requestGroupingChange,"function"))throw new Error("Unable to retrieve proxy._requestGroupingChange in proxy method!");this.parent.log("TaggerWebInWin._requestGroupingChange"),i._requestGroupingChange(e.param.options)}catch(e){console.warn("Exception raised"),console.warn(e)}finally{this.parent._dispatchEndMethod(e)}},activate:function(e){try{if(!t.is(e,"object")||!t.is(e.param))throw new Error("E_INVALIDARG: bad options input given to activate method !");var n=e.param,i=this._getProxy(p,n);if(this.parent.log("TaggerWebInWin.activate"),!t.is(i))return console.warn("TaggerWebInWin._tagger_proxy error !!!, options="+JSON.stringify(e)),void this.parent._dispatchEndMethod(e);i.activate()}catch(e){console.warn("Exception raised"),console.warn(e)}finally{this.parent._dispatchEndMethod(e)}},deactivate:function(e){try{if(!t.is(e,"object")||!t.is(e.param))throw new Error("E_INVALIDARG: bad options input given to deactivate method !");var n=e.param,i=this._getProxy(p,n);if(this.parent.log("TaggerWebInWin.activate"),!t.is(i))return console.warn("TaggerWebInWin._tagger_proxy error !!!"),void this.parent._dispatchEndMethod(e);i.deactivate()}catch(e){console.warn("Exception raised"),console.warn(e)}finally{this.parent._dispatchEndMethod(e)}},setTags:function(e){try{if(this.parent.log("->TaggerWebInWin.setTags"),!t.is(e,"object")||!t.is(e.param,"object"))throw new Error("E_INVALIDARG: bad options input given to setTags method !");var n=e.param;this.parent.log(e);var i=this._getProxy(p,n);if(!t.is(i))return console.warn("TaggerWebInWin._tagger_proxy error !!!"),void this.parent._dispatchEndMethod(e);var a=n.tagsdata,r=n.summaryData,o=n.attribute;i.setTags(a,r,o)}catch(e){console.warn("Exception raised"),console.warn(e)}finally{this.parent._dispatchEndMethod(e),this.parent.log("<-TaggerWebInWin.setTags")}},configurePredicates:function(e){try{if(this.parent.log("->TaggerWebInWin.configurePredicates"),!t.is(e,"object")||!t.is(e.param,"object"))throw new Error("E_INVALIDARG: bad options input given to configurePredicates method !");var n=e.param;this.parent.log(e);var i=this._getProxy(p,n);if(!t.is(i))return console.warn("TaggerWebInWin._tagger_proxy error !!!"),void this.parent._dispatchEndMethod(e);var a=n.predicates||n.configuration;i.configurePredicates(a)}catch(e){console.warn("Exception raised"),console.warn(e)}finally{this.parent._dispatchEndMethod(e),this.parent.log("<-TaggerWebInWin.configurePredicates")}},toggleDisplayAll:function(e){try{if(this.parent.log("->TaggerWebInWin.toggleDisplayAll"),!t.is(e,"object")||!t.is(e.param,"object"))throw new Error("E_INVALIDARG: bad options input given to setPredicates method !");var n=e.param;this.parent.log(e);var i=this._getProxy(p,n);if(!t.is(i))return console.warn("TaggerWebInWin._tagger_proxy error !!!"),void this.parent._dispatchEndMethod(e);var a=n.force;i.toggleDisplayAll(a)}catch(e){console.warn("Exception raised"),console.warn(e)}finally{this.parent._dispatchEndMethod(e),this.parent.log("<-TaggerWebInWin.toggleDisplayAll")}},toggleDisplayAllCriteria:function(e){try{if(this.parent.log("->TaggerWebInWin.toggleDisplayAllCriteria"),!t.is(e,"object")||!t.is(e.param,"object"))throw new Error("E_INVALIDARG: bad options input given to setPredicates method !");var n=e.param;this.parent.log(e);var i=this._getProxy(p,n);if(!t.is(i))return console.warn("TaggerWebInWin._tagger_proxy error !!!"),void this.parent._dispatchEndMethod(e);var a=n.force;i.toggleDisplayAllCriteria(a)}catch(e){console.warn("Exception raised"),console.warn(e)}finally{this.parent._dispatchEndMethod(e),this.parent.log("<-TaggerWebInWin.toggleDisplayAllCriteria")}},addSubjects:function(e){try{if(this.parent.log("->TaggerWebInWin.addSubjects"),!t.is(e,"object")||!t.is(e.param,"object"))throw new Error("E_INVALIDARG: bad options input given to addSubjects method !");var n=e.param;this.parent.log(e);var i=this._getProxy(p,n);if(!t.is(i))return console.warn("TaggerWebInWin._tagger_proxy error !!!"),void this.parent._dispatchEndMethod(e);var a=n.tagsdata;i.addSubjects(a)}catch(e){console.warn("Exception raised"),console.warn(e)}finally{this.parent._dispatchEndMethod(e),this.parent.log("<-TaggerWebInWin.addSubjects")}},setSubjectsTags:function(e){try{if(this.parent.log("->TaggerWebInWin.setSubjectsTags"),!t.is(e,"object")||!t.is(e.param,"object"))throw new Error("E_INVALIDARG: bad options input given to setSubjectsTags method !");var n=e.param;this.parent.log(e);var i=this._getProxy(p,n);if(!t.is(i))return console.warn("TaggerWebInWin._tagger_proxy error !!!"),void this.parent._dispatchEndMethod(e);var a=n.subjectTags;i.setSubjectsTags(a)}catch(e){console.warn("Exception raised"),console.warn(e)}finally{this.parent._dispatchEndMethod(e),this.parent.log("<-TaggerWebInWin.setSubjectsTags")}},setColorMap:function(e){this.parent.log("options for setColorMap",JSON.stringify(e));try{if(!t.is(e,"object"))throw new Error("E_INVALIDARG: bad options input given to setColorMap method!");var n=e.param;if(!t.is(n,"object")||!t.is(n.options,"object"))throw new Error("E_INVALIDARG: Bad param for setColorMap");var i=this._getProxy(p,n);if(this.parent.log("TaggerWebInWin.setColorMap"),!t.is(i))return console.warn("TaggerWebInWin._tagger_proxy error!!!"),void this.parent._dispatchEndMethod(e);i.setColorMap(n.options)}catch(e){console.warn("Exception raised"),console.warn(e)}finally{this.parent._dispatchEndMethod(e)}},addSubjectsTags:function(e){try{if(this.parent.log("->TaggerWebInWin.addSubjectsTags"),!t.is(e,"object")||!t.is(e.param,"object"))throw new Error("E_INVALIDARG: bad options input given to addSubjectsTags method !");var n=e.param;this.parent.log(e);var i=this._getProxy(p,n);if(!t.is(i))return console.warn("TaggerWebInWin._tagger_proxy error !!!"),void this.parent._dispatchEndMethod(e);var a=n.subjectTags;i.addSubjectsTags(a)}catch(e){console.warn("Exception raised"),console.warn(e)}finally{this.parent._dispatchEndMethod(e),this.parent.log("<-TaggerWebInWin.addSubjectsTags")}},unsetTags:function(e){try{if(!t.is(e,"object")||!t.is(e.param,"object"))throw new Error("E_INVALIDARG: bad options input given to unsetTags method !");var n=e.param,i=this._getProxy(p,n);if(this.parent.log("TaggerWebInWin.unsetTags"),!t.is(i))return console.warn("TaggerWebInWin._tagger_proxy error !!!"),void this.parent._dispatchEndMethod(e);i.unsetTags()}catch(e){console.warn("Exception raised"),console.warn(e)}finally{this.parent._dispatchEndMethod(e)}},focusOnSubjects:function(e){try{if(!t.is(e,"object")||!t.is(e.param,"object")||!t.is(e.param.subjectsURI,"array"))throw new Error("E_INVALIDARG: bad options input given to focusOnSubjects method !");var n=e.param,i=this._getProxy(p,n);if(this.parent.log("TaggerWebInWin.focusOnSubjects"),!t.is(i))return console.warn("TaggerWebInWin._tagger_proxy error !!!"),void this.parent._dispatchEndMethod(e);i.focusOnSubjects(n.subjectsURI,n.persistTags,n.dataSources)}catch(e){console.warn("Exception raised"),console.warn(e)}finally{this.parent._dispatchEndMethod(e)}},resetFocusOnSubjects:function(e){try{if(!t.is(e,"object")||!t.is(e.param,"object"))throw new Error("E_INVALIDARG: bad options input given to resetFocusOnSubjects method !");var n=e.param,i=this._getProxy(p,n);if(this.parent.log("TaggerWebInWin.resetFocusOnSubjects"),!t.is(i))return console.warn("TaggerWebInWin._tagger_proxy error !!!"),void this.parent._dispatchEndMethod(e);i.focusOnSubjects([])}catch(e){console.warn("Exception raised"),console.warn(e)}finally{this.parent._dispatchEndMethod(e)}},setCriteria:function(e){try{if(!t.is(e,"object"))throw new Error("E_INVALIDARG: bad options input given to setCriteria method !");var n=e.param,i=this._getProxy(p,n);if(this.parent.log("TaggerWebInWin.setCriteria"),!t.is(i))return console.warn("TaggerWebInWin._tagger_proxy error !!!"),void this.parent._dispatchEndMethod(e);i.setCriteria(n.suggestedArray)}catch(e){console.warn("Exception raised"),console.warn(e)}finally{this.parent._dispatchEndMethod(e)}},updateCriteria:function(e){try{if(!t.is(e,"object"))throw new Error("E_INVALIDARG: bad options input given to setCriteria method !");var n=e.param,i=this._getProxy(p,n);if(this.parent.log("TaggerWebInWin.updateCriteria"),!t.is(i))return console.warn("TaggerWebInWin._tagger_proxy error !!!"),void this.parent._dispatchEndMethod(e);i.updateCriteria(n.suggestedArray)}catch(e){console.warn("Exception raised"),console.warn(e)}finally{this.parent._dispatchEndMethod(e)}},displayCriteria:function(e){try{var n=e.param,i=this._getProxy(p,n);if(this.parent.log("TaggerWebInWin.setCriteria"),!t.is(i))return console.warn("TaggerWebInWin._tagger_proxy error !!!"),void this.parent._dispatchEndMethod(e);i.displayCriteria(e)}catch(e){console.warn("Exception raised"),console.warn(e)}finally{this.parent._dispatchEndMethod(e)}},updatePLMSuggestions:function(e){try{if(!t.is(e,"object"))throw new Error("E_INVALIDARG: bad options input given to updatePLMSuggestions method !");var n=e.param,i=this._getProxy(p,n);if(this.parent.log("TaggerWebInWin.updatePLMSuggestions"),!t.is(i))return console.warn("TaggerWebInWin._tagger_proxy error !!!"),void this.parent._dispatchEndMethod(e);i.updatePLMSuggestions(n.suggestedArray)}catch(e){console.warn("Exception raised"),console.warn(e)}finally{this.parent._dispatchEndMethod(e)}},updateSuggestions:function(e){try{if(!t.is(e,"object"))throw new Error("E_INVALIDARG: bad options input given to updateSuggestions method !");var n=e.param,i=this._getProxy(p,n);if(this.parent.log("TaggerWebInWin.updateSuggestions"),!t.is(i))return console.warn("TaggerWebInWin._tagger_proxy error !!!"),void this.parent._dispatchEndMethod(e);i.updateSuggestions(n.suggestedArray)}catch(e){console.warn("Exception raised"),console.warn(e)}finally{this.parent._dispatchEndMethod(e)}},removeCriteria:function(e){try{if(!t.is(e,"object"))throw new Error("E_INVALIDARG: bad options input given to removeCriteria method !");var n=e.param,i=this._getProxy(p,n);if(this.parent.log("TaggerWebInWin.updateCriteria"),!t.is(i))return console.warn("TaggerWebInWin._tagger_proxy error !!!"),void this.parent._dispatchEndMethod(e);i.removeCriteria(n.predicatesToRemove)}catch(e){console.warn("Exception raised"),console.warn(e)}finally{this.parent._dispatchEndMethod(e)}},unfocus:function(e){try{if(!t.is(e,"object")||!t.is(e.param,"object"))throw new Error("E_INVALIDARG: bad options input given to unfocus method !");var n=e.param,i=this._getProxy(p,n);if(this.parent.log("TaggerWebInWin.unfocus"),!t.is(i))return console.warn("TaggerWebInWin._tagger_proxy error !!!, options="+JSON.stringify(e)),void this.parent._dispatchEndMethod(e);i.unfocus()}catch(e){console.warn("Exception raised"),console.warn(e)}finally{this.parent._dispatchEndMethod(e)}},die:function(e){try{if(!t.is(e,"object")||!t.is(e.param,"object"))throw new Error("E_INVALIDARG: bad options input given to die method !");var n=e.param,i=this._getProxy(p,n),a=this._getProxyId(e);if(this.parent.log("TaggerWebInWin.die"),!t.is(i))return console.warn("TaggerWebInWin._tagger_proxy error !!!"),void this.parent._dispatchEndMethod(e);if(i.die(),t.is(e)&&t.is(e.param)){e.param.contextId||(this.parent.log("contextId is not provided so trying to locate proxy on current context="+p),e.param.contextId=p),(this.parent._tagger_proxy[e.param.contextId]?this.parent._tagger_proxy[e.param.contextId][a]:void 0)?(this.parent.log("Inside TaggerProxy die, removing "+a),delete this.parent._tagger_proxy[e.param.contextId][a]):console.warn("FAILED to locate the proxy on "+p+", proxyId= "+a)}}catch(e){console.warn("Exception raised"),console.warn(e)}finally{this.parent._dispatchEndMethod(e)}},setStatus:function(e){try{if(!t.is(e,"object")||!t.is(e.param,"object"))throw new Error("E_INVALIDARG: bad options input given to setStatus method !");var n=e.param,i=this._getProxy(p,n);if(this.parent.log("TaggerWebInWin.setStatus"),!t.is(i))return console.warn("TaggerWebInWin._tagger_proxy error !!!, options="+JSON.stringify(e)),void this.parent._dispatchEndMethod(e);i.setStatus(n.status)}catch(e){console.warn("Exception raised"),console.warn(e)}finally{this.parent._dispatchEndMethod(e)}},_getProxyId:function(e){var n="Universal_SearchCtx_Proxy";return t.is(e,"object")?t.is(e.proxyId,"string")?n=e.proxyId:t.is(e.param,"object")&&t.is(e.param.proxyId,"string")&&(n=e.param.proxyId):console.warn("using default value for proxyId !!!"),n},_getProxy:function(e,n){var i=null,a=this._getProxyId(n),r=this.parent._tagger_proxy;if(t.is(n)){var o=n.contextId?n.contextId:e;t.is(r)&&t.is(r[o])&&t.is(r[o][a])&&((i=r[o][a]).proxyId=a)}else t.is(r)&&t.is(r[e])&&t.is(r[e][a])&&((i=r[e][a]).proxyId=a);return i},manageEmbeddedViewVisibility:function(e){if(!t.is(e,"object")||!t.is(e.param,"object")||!t.is(e.param.visibility))throw new Error("E_INVALIDARG: Bad options given to openTagger method !");let n=!1;"true"===e.param.visibility&&(n=!0);let i=!1;e.param.panel&&"true"===e.param.panel&&(i=!0),this._EmbeddedViewVisibility=n,setTimeout(this._manageEmbeddedViewVisibility(n,i),650)},_manageEmbeddedViewVisibility:function(e,n){if(t.is(s)&&t.is(s.view)&&s.view.hasEmbeddedView()){if(t.is(s.view.toggleVisibility,"function")){let i=!e;t.is(n)&&!0===n&&(i=!0),s.view.toggleVisibility(i)}s.view._manageEmbeddedViewVisibility(e)}},setEmbeddedViewProperties:function(e){try{if(!t.is(e,"object")||!t.is(e.param))throw new Error("E_INVALIDARG: bad options input given to setEmbeddedViewProperties method !");var n=e.param,i=this._getProxy(p,n);if(!t.is(i,"object")||!t.is(i._requestGroupingChange,"function"))throw new Error("Unable to retrieve proxy.setEmbeddedViewProperties in proxy method!");this.parent.log("TaggerWebInWin.setEmbeddedViewProperties"),i.setEmbeddedViewProperties(e.param.options)}catch(e){console.warn("Exception raised"),console.warn(e)}finally{this.parent._dispatchEndMethod(e)}},setInfoMessage:function(e){try{if(!t.is(e,"object")||!t.is(e.param))throw new Error("E_INVALIDARG: bad options input given to setInfoMessage method !");var n=e.param,i=this._getProxy(p,n);if(this.parent.log("TaggerWebInWin.activate"),!t.is(i))return console.warn("TaggerWebInWin._tagger_proxy error !!!"),void this.parent._dispatchEndMethod(e);let a=n.data;i.setInfoMessage(a)}catch(e){console.warn("Exception raised"),console.warn(e)}finally{this.parent._dispatchEndMethod(e)}},clearInfoMessage:function(e){try{if(!t.is(e,"object")||!t.is(e.param))throw new Error("E_INVALIDARG: bad options input given to setInfoMessage method !");var n=e.param,i=this._getProxy(p,n);if(this.parent.log("TaggerWebInWin.activate"),!t.is(i))return console.warn("TaggerWebInWin._tagger_proxy error !!!"),void this.parent._dispatchEndMethod(e);i.clearInfoMessage()}catch(e){console.warn("Exception raised"),console.warn(e)}finally{this.parent._dispatchEndMethod(e)}},setAdditionalFilter:function(e){try{if(!t.is(e,"object")||!t.is(e.param))throw new Error("E_INVALIDARG: bad options input given to setAdditionalFilter method !");var n=e.param,i=this._getProxy(p,n);if(this.parent.log("TaggerWebInWin.activate"),!t.is(i))return console.warn("TaggerWebInWin._tagger_proxy error !!!"),void this.parent._dispatchEndMethod(e);let a=n.data;i.setAdditionalFilter(a)}catch(e){console.warn("Exception raised"),console.warn(e)}finally{this.parent._dispatchEndMethod(e)}}},_dispatchTowin:function(e){if(!t.is(e,"object")||!t.is(e.notif_name,"string")||!t.is(e.notif_parameters,"object"))throw new Error("E_INVALIDARG: in _dispatchTowin !");this.log("TaggerWebInWin._dispatchTowin for "+e.notif_name);var n=e;n.notif_parameters.index_notif=this._index_notif,this._index_notif=this._index_notif+1;var i=t.is(n.notif_parameters,"string")?n.notif_parameters:JSON.stringify(n.notif_parameters);this.log(t.is(i)?"notif_parameters:\n"+i:"no parameters"),!0===o.getOption("no_jsnotif")?this.log("JSNOTIF deactivated for "+e.notif_name+" with parameters "+i):this._delegationStatus?sendNotification(this._taggerContent+this._notifSeparator+n.notif_name,i):sendNotification(n.notif_name,i)},_dispatchEndMethod:function(e){if(!t.is(e,"object")||!t.is(e.eventUuid,"string"))throw new Error("E_INVALIDARG: in _dispatchEndMethod !");this.log("TaggerWebInWin._dispatchEndMethod for "+e.eventUuid),!0===o.getOption("no_jsnotif")?this.log("JSNOTIF deactivated for "+e.eventUuid):this._delegationStatus?sendNotification(this._taggerContent+this._notifSeparator+"taggerEventMethodEnded",e.eventUuid):sendNotification("taggerEventMethodEnded",e.eventUuid)}})});