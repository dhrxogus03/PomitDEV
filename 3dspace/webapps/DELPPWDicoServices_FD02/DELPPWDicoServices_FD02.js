define("DS/DELPPWDicoServices_FD02/AttributeConfigExt",["UWA/Core","DS/DELPPWLoggerModel_FD02/LoggerUtils","DS/DELPPWWebServices_FD02/WebserviceUtils","DS/DELPPWResourceServices_FD02/ResourceUtils"],function(e,t,i,n){"use strict";return{_attributeInfo:{},_typeMaskInfo:{},_typeExtnInfo:{},_retrieveDicoAttributeInfo:function(r,o){var s=this,a=[],u=function(e,t){i.webServiceRequest({url:"dsmfg/private/V0/invoke/WorkInstruction/getSignOffRoles",method:"GET",onComplete:e,onFailure:t,onTimeout:t})};a=[new Promise(function(t,n){i.webServiceRequest({url:"dictionary/properties",method:"POST",onComplete:function(r){var o=[];r.forEach(function(e){var t;e.info.forEach(function(e){"Double"===e.Type&&"Yes"===e.HasRangeDefined&&""!==e.ManipulationUnit&&(t=e.AuthorizedValues.map(function(e){return e.NLS}),o.push({unit:e.ManipulationUnit,values:t}))})}),o.length>0?i.webServiceRequest({url:"dsmfg/private/V0/invoke/convertMKStoUnit",method:"POST",onComplete:function(e){var i;r.forEach(function(t){t.info.forEach(function(t){"Double"===t.Type&&"Yes"===t.HasRangeDefined&&""!==t.ManipulationUnit&&(i=e.shift(),t.AuthorizedValues.forEach(function(e){e.NLS=i.shift()}))})}),t(r)},onFailure:n,onTimeout:n,data:e.Json.encode(o)}):t(r)},onFailure:n,onTimeout:n,data:JSON.stringify(s._modelAttrsJSON)})}),new Promise(function(e,t){i.fireGETWSInChunkIfTooBig({url:"dsmfg/private/V0/invoke/getAttributesMaskInfo",onComplete:e,onFailure:t,onTimeout:t,data:s._modelAttrsJSON})})],s._modelAttrsJSON.some(function(e){return"DELWkiSignOffReference"===e.type&&e.attributes.indexOf("V_WISignOff_Actors")>-1&&(a.push(new Promise(u)),!0)}),Promise.all(a).then(function(i){var o,u={},c={},f="DELRME_AP"===widget.getValue("appId");e.is(i,"array")&&i.length===a.length&&(o=i[0].map(function(t){var r={},o=i[1].filter(function(e){return e.type===t.type})[0];return r.type=t.type,r.info=e.extend(o.info,t.info,!0),r.info.forEach(function(t){var o,s=r.type+"."+t.Name;c[s]=t.NLS,u[s]=t,e.is(i[2],"array")&&"DELWkiSignOffReference"===r.type&&"V_WISignOff_Actors"===t.Name&&(t.AuthorizedValues=[],t.HasRangeDefined="Yes",i[2].forEach(function(e){t.AuthorizedValues.push({NLS:e,Name:e})})),"V_SequencingMode"===t.Name&&(t.NLS=n.getNLSValue("Attribute.DELLmiPPRSystemReference.V_SequencingMode")),"V_ContQuantity"===t.Name&&(t.NLS=n.getNLSValue("Attribute.Dimension.V_ContQuantity")),"V_UseCase"===t.Name&&f&&(t.NLS=n.getNLSValue("Attribute.DELFmiUseCaseExt.V_UseCase")),"IsCompensation"===t.Name&&(t.NLS=n.getNLSValue("Attribute.Dimension.IsCompensation")),"V_ScrapQuantityRatio"===t.Name&&(t.NLS=n.getNLSValue("Attribute.DELLmiScrapQuantity_Ratio.V_ScrapQuantityRatio")),"V_WIPQuantityRatio"===t.Name&&(t.NLS=n.getNLSValue("Attribute.DELLmiWIPQuantity_Ratio.V_WIPQuantityRatio")),"DELLmiTimeConstraintCnx"===r.type&&("V_MaterialNeed"===t.Name&&(t.NLS=n.getNLSValue("Attribute.DELLmiTimeConstraintCnx.V_MaterialNeed")),"V_DependencyType"===t.Name&&(o=["StartToFinish","PreviousCycle"],t.AuthorizedValues=t.AuthorizedValues.filter(function(e){return-1===o.indexOf(e.Name)})))}),r})),t.debug(s.name,"Attributes info merged (dico and mask): ",JSON.stringify(o)),n.addNlsJSON(c),s.addAttributeInfo(u),r(o)},o)},_retrieveAttrMaskInfoForOperationTypes:function(e,t){this.getAttributeMaskInfoOfType("OPERATION",e,t)},_retrieveAttrMaskInfoForSystemTypes:function(e,t){this.getAttributeMaskInfoOfType("SYSTEM",e,t)},_retrieveAttrMaskInfoForResourceTypes:function(e,t){this.getAttributeMaskInfoOfType("RESOURCE",e,t)},_retrieveAttrMaskInfoForProcessTypes:function(e,t){this.getAttributeMaskInfoOfType("PROCESS",e,t)},_retrieveAttrMaskInfoForProductTypes:function(e,t){this.getAttributeMaskInfoOfType("PRODUCT",e,t)},_retrieveAttrMaskInfoForPartTypes:function(e,t){this.getAttributeMaskInfoOfType("PART",e,t)},_retrieveAttrMaskInfoForPPRTypes:function(e,i){var n=this,r=["PROCESS","RESOURCE","PRODUCT","PART","SYSTEM","OPERATION","SERVICE"],o=[];r.indexOf("PROCESS")>=0&&o.push(new Promise(this._retrieveAttrMaskInfoForProcessTypes.bind(this))),r.indexOf("RESOURCE")>=0&&o.push(new Promise(this._retrieveAttrMaskInfoForResourceTypes.bind(this))),r.indexOf("PRODUCT")>=0&&o.push(new Promise(this._retrieveAttrMaskInfoForProductTypes.bind(this))),r.indexOf("PART")>=0&&o.push(new Promise(this._retrieveAttrMaskInfoForPartTypes.bind(this))),r.indexOf("SYSTEM")>=0&&o.push(new Promise(this._retrieveAttrMaskInfoForSystemTypes.bind(this))),r.indexOf("OPERATION")>=0&&o.push(new Promise(this._retrieveAttrMaskInfoForOperationTypes.bind(this))),r.indexOf("SERVICE")>=0&&o.push(new Promise(this._retrieveAttrMaskInfoForOperationTypes.bind(this))),Promise.all(o).then(function(){e()},function(e){t.debug(n.name,"DicoUtils._retrieveAttrMaskInfoForPPRTypes FAILED !!!"),i(e)})},_retrieveExtnInfoForRefTypes:function(e,t){var i=this,n=["PROCESS","PART","SYSTEM","OPERATION","SERVICE"],r=[];this.getReferenceTypes().forEach(function(e){var t=i.getPPRType(e);n.indexOf(t)>-1&&r.push(e)}),this.getExtnInfoOfTypes(r,e,t)},_retrieveExtnInfoForInstTypes:function(e,t){this.getExtnInfoOfTypes(this.getInstanceTypes(),e,t)},_retrieveExtnInfoForLinkTypes:function(e,t){this.getExtnInfoOfTypes(["MfgProductionPlanning","DELLmiTimeConstraintCnx"],e,t)},_retrieveExtnInfoForClassTypes:function(e,i){var n=this,r=[];r.push(new Promise(this._retrieveExtnInfoForRefTypes.bind(this))),r.push(new Promise(this._retrieveExtnInfoForInstTypes.bind(this))),r.push(new Promise(this._retrieveExtnInfoForLinkTypes.bind(this))),Promise.all(r).then(function(){e()},function(e){t.debug(n.name,"DicoUtils._retrieveExtnInfoForClassTypes FAILED !!!"),i(e)})},getAttributeMaskInfoOfType:function(t,n,r){var o=this;i.webServiceRequest({url:"dsmfg/private/V0/invoke/getTypesAttributesMaskInfo",method:"GET",data:{payload:JSON.stringify([t])},onComplete:function(t){var i;for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&o.addTypeMaskInfo(i,t[i]);e.is(n,"function")&&n()},onFailure:r,onTimeout:r})},getExtnInfoOfTypes:function(t,n,r){var o=this;i.webServiceRequest({url:"dictionary/interfaces?customerOnly=false",method:"POST",data:e.Json.encode({classes:t}),onComplete:function(t){e.is(t)&&(t=t.results,Array.isArray(t)&&t.forEach(function(e){var t;t=e.interfaces.map(function(e){return e.name}),e.name="MfgProductionPlanning"===e.name?"ProcessImplementLinkOcc":e.name,o.addTypeExtnInfo(e.name,t)})),e.is(n,"function")&&n()},onFailure:r,onTimeout:r})},addTypeExtnInfo:function(e,t){this._typeExtnInfo[e]=t},getTypeExtnInfo:function(e){return this._typeExtnInfo[e]},addAttributeInfo:function(t){e.extend(this._attributeInfo,t)},getAttributeInfo:function(e,t){var i;return e&&(-1===e.indexOf(".")&&Object.keys(this._attributeInfo).some(function(t){var i;return(i=t.slice(t.lastIndexOf(".")+1,t.length)===e)&&(e=t),i}),(i=this._attributeInfo[e])&&(i.FullName=e,t&&(i=i[t]))),i},addTypeMaskInfo:function(e,t){this._typeMaskInfo[e]=t},getTypeMaskInfo:function(e){return this._typeMaskInfo[e]}}}),define("DS/DELPPWDicoServices_FD02/CustoXmlUtils",["UWA/Core"],function(e){"use strict";return function(){var t=[],i=function(t,i,n){var r,o,s,a=t.split("."),u={},c={},f={},p=function(t,n){var r,o=[];if(!e.is(o[i])){for(r=0;r<n.length;++r){if(!e.is(t[n[r]])){t=null;break}t=t[n[r]]}if(e.is(t))if(o[i]={},"array"===e.typeOf(t))for(r=0;r<t.length;++r)o[i][t[r][i]]=t[r];else"object"===e.typeOf(t)&&(o[i][t[i]]=t)}return o[i]};if(e.is(n))if("array"===e.typeOf(n[a[0]]))for(s=0;s<n[a[0]].length;s++)c=n[a[0]][s],o=t.indexOf("."),r=(r=t.substring(o+1,t.length)).split("."),e.is(c[r],"array")?(u=p(c,r),e.merge(f,u)):f=p(c=n,a);else f=p(c=n,a);return f};return{retrieveAttributesInfoFromXml:function(n){var r,o,s,a,u,c,f,p,l,d=function(i){var n,r,o=["reference","instance"];for(n in r=function(e){var i;i=n.split("."),function(e){var i,n;if(e.dicoType&&e.attribute)if(t.length<=0)t.push({type:e.dicoType,attributes:[e.attribute]});else{for(i=0;i<t.length;i++){if(e.dicoType===t[i].type){-1===t[i].attributes.indexOf(e.attribute)&&t[i].attributes.push(e.attribute),n=!0;break}n=!1}!1===n&&t.push({type:e.dicoType,attributes:[e.attribute]})}}({attribute:o.indexOf(i[i.length-1])>-1?i[i.length-2]:i[i.length-1],dicoType:e})},i)if(Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&i[n].dicoType){const t=i[n].dicoType;e.is(t,"array")?t.forEach(function(e){const t=e.dicoType;r(t)}):r(t)}};if(e.is(n)){if(e.is(n.uiCusto,"array")&&n.uiCusto.forEach(function(t){e.is(t)&&(d(i("Config.Columns.Column","dataIndex",t)),d(i("Config.Label","dataIndex",t)))}),e.is(n.insertFormCusto))for(c in a=n.insertFormCusto,u=i("AttributesDescriptionList.Type","name",a))u.hasOwnProperty(c)&&d(i("Section.Attribute","name",u[c]));if(e.is(n.editFormCusto))for(s in r=n.editFormCusto,o=i("AttributesDescriptionList.Type","name",r))o.hasOwnProperty(s)&&d(i("Attribute","name",o[s]));if(e.is(n.graphViewCusto)&&(f=n.graphViewCusto).Config.Preferences.BOMView.Content.Type)for(p=f.Config.Preferences.BOMView.Content.Type,l=0;l<p.length;l++)d(i("Row","dataIndex",p[l]));return t}}}}}),define("DS/DELPPWDicoServices_FD02/ModelConfigExt",["UWA/Core","DS/DELPPWLoggerModel_FD02/LoggerUtils","DS/DELPPWWebServices_FD02/WebserviceUtils"],function(e,t,i){"use strict";return{_pprTypes:[],_validChildTypesMap:{},_relationsList:{},_customRelationsList:{},_retrievePPRTypes:function(e,t){var n=this;i.webServiceRequest({url:"dsmfg/private/V0/invoke/getPPRTypes",method:"GET",onComplete:function(t){n._pprTypes=t,e()},onFailure:function(e){n._pprTypes=[],t(e)},onTimeout:function(e){n._pprTypes=[],t(e)}})},_retrieveValidChildTypes:function(e,t){var n=this,r=widget.getBool("oneDelmiaAggregationMode");i.webServiceRequest({url:"dsmfg/private/V0/invoke/getChildTypes",method:"GET",data:{oneDelmiaAggregationMode:r},onComplete:function(t){n._validChildTypesMap=t,e()},onFailure:function(e){n._validChildTypesMap=[],t(e)},onTimeout:function(e){n._validChildTypesMap=[],t(e)}})},_retrieveModelRelations:function(e,t){var n=this;i.getXMLValues(n.options.modelRelationsXML,function(t){n._relationsList=t.RelationsList,e()},function(e){t(e)})},_retrieveModelCustomRelations:function(t,n){var r=this;i.getXMLValues(r.options.modelCustomRelationsXML,function(i){var n,o,s,a,u,c={},f={},p=[],l=0;if(e.is(i.CustomRelationsList.RelationConfig)){for(a=i.CustomRelationsList.RelationConfig,a=Array.isArray(a)?a:[a],n=0;n<a.length;n++){if(o=a[n].fromType,s=a[n].toType,u=a[n].Relation,p=[],e.is(f[o])||(f[o]={}),f[o][s]=!1,e.is(u))for(u=Array.isArray(u)?u:[u],l=0;l<u.length;l++)"Instance"===u[l].type?f[o][s]=!0===e.Json.decode(u[l].write):p.push(u[l]);e.is(c[o])||(c[o]={}),c[o][s]={Relation:p}}r._customRelationsList=c,r._processCustomInstanceConfig(f)}t()},function(e){n(e)})},getPPRType:function(i){if(e.is(i))return this._pprTypes[i];t.debug(this.name,"type is undefined")},_processCustomInstanceConfig:function(t){var i,n,r,o,s,a;if(e.is(t))for(i in t)if(t.hasOwnProperty(i))for(n in t[i])t[i].hasOwnProperty(n)&&(r=t[i][n],s=this._validChildTypesMap,a=this._validChildTypesMap[i],e.is(a)?(o=a.indexOf(n))>=0?r||a.splice(o,1):r&&a.push(n):r&&(s[i]=[n]))},getValidChildTypes:function(i){if(e.is(i))return this._validChildTypesMap[i]||[];t.debug(this.name,"parentType is undefined")},_filterConfiguredRelationsByMode:function(t,i){var n,r=[],o=[],s=null;if(e.is(t)&&e.is(t.Relation))for(e.is(t.Relation.length)||(o.push(t.Relation),t.Relation=o),s=0;s<t.Relation.length;s++)n=t.Relation[s],e.is(n[i])&&!0===e.Json.decode(n[i])&&r.push(n.type);return r},getConfiguredRelations:function(t,i,n){var r,o=[];return e.is(t,"string")&&(r=this._relationsList[t],e.is(r)&&e.is(i,"string")&&e.is(r[i])&&(o=this._filterConfiguredRelationsByMode(r[i],n))),o},getAllConfiguredRelations:function(t,i){var n,r,o,s=t?this._relationsList[t]:[],a=[];if(t&&e.is(s,"object"))for(r in s)s.hasOwnProperty(r)&&(o=this._filterConfiguredRelationsByMode(s[r],i),a.push.apply(a,o));for(n in this._relationsList)n!==t&&(s=this._relationsList[n],e.is(s,"object")&&s.hasOwnProperty(t)&&(o=this._filterConfiguredRelationsByMode(s[t],i),a.push.apply(a,o)));return a},getConfiguredCustomRelations:function(i,n,r){var o,s=this._customRelationsList;if(e.is(i)&&e.is(n))return e.is(s)&&e.is(s[i])&&e.is(s[i][n])&&(o=this._filterConfiguredRelationsByMode(s[i][n],r)),o;t.debug(this.name,"fromType or toType is undefined")},getPossibleRelations:function(t,i,n){var r;return r=this.getConfiguredCustomRelations(t,i,n),e.is(r)||(r=this.getConfiguredRelations(this.getPPRType(t),this.getPPRType(i),n)),r}}}),define("DS/DELPPWDicoServices_FD02/DicoUtils",["UWA/Core","UWA/Class","DS/DELPPWWebServices_FD02/WebserviceUtils","DS/DELPPWDicoServices_FD02/ModelConfigExt","DS/DELPPWDicoServices_FD02/AttributeConfigExt","DS/DELPPWResourceServices_FD02/ResourceUtils","DS/DELPPWDicoServices_FD02/CustoXmlUtils","text!DS/DELPPWDicoServices_FD02/assets/json/ReadOnlyTypes.json","DS/DELPPWLoggerModel_FD02/LoggerUtils"],function(e,t,i,n,r,o,s,a,u){"use strict";var c=t.singleton(n,r,{name:"DicoUtils",_modelAttrsJSON:[],_modelTypeConfig:{},_typeHierarchy:{},_readOnlyTypes:null,_acceptedPPRTypesForActions:null,_acceptedBaseTypesForActions:null,_isAutoCreateScopeOnHOP:!1,_dicoTypesAttributesProperties:[],init:function(t){var i,n,r=this;if(this._readOnlyTypes=new Set(JSON.parse(a)),t=t||{},!e.is(t.modelRelationsXML)||!e.is(t.modelCustomRelationsXML))throw new Error("modelTypesPath or modelRelationsXML or modelCustomRelationsXML options not defined");r.options=t,(i=!!e.is(t.acceptedPPRTypesForActionsFilePath)&&t.acceptedPPRTypesForActionsFilePath)&&require(["text!"+i],function(t){e.is(t)?r._acceptedPPRTypesForActions=e.is(t,"string")?e.Json.decode(t):t:u.debug("Accepted Types for DnD mapping is not defined.")}),(n=!!e.is(t.acceptedBaseTypesForActionsFilePath)&&t.acceptedBaseTypesForActionsFilePath)&&require(["text!"+n],function(t){e.is(t)?r._acceptedBaseTypesForActions=e.is(t,"string")?e.Json.decode(t):t:u.debug("Accepted base types are not defined.")})},setup:function(t,i){var n=this.options.modelTypesPath||"DS/DELPPWDicoServices_FD02/assets/json/ModelTypes.json";require(["text!"+n],function(n){c._modelAttrsJSON=c._retrieveAttributesInfo(),c._modelTypeConfig=e.Json.decode(n),c._initPromiseExec(t,i)},function(e){i(e)})},updateAggregationRules:function(e,t){this._retrieveValidChildTypes(e,t)},_retrieveAttributesInfo:function(){var e;return e={uiCusto:[i.getXMLValues("CAPRESOURCE.columnConfigPath"),i.getXMLValues("ROUTINGS.columnConfigPath"),i.getXMLValues("RESOURCE.columnConfigPath"),i.getXMLValues("MANUFACTURING.columnConfigPath"),i.getXMLValues("MBOM.columnConfigPath"),i.getXMLValues("EBOM.columnConfigPath"),i.getXMLValues("ORIGIN.columnConfigPath"),i.getXMLValues("ALTERNATES_AND_SUBSTITUTES.columnConfigPath"),i.getXMLValues("ALTERNATE.columnConfigPath"),i.getXMLValues("RESULTING_PRODUCT_VIEW.columnConfigPath"),i.getXMLValues("AUXILIARY.columnConfigPath"),i.getXMLValues("RECIPE.columnConfigPath"),i.getXMLValues("FORMULA.columnConfigPath"),i.getXMLValues("SBOM.columnConfigPath"),i.getXMLValues("SBOM.bomViewXML")],insertFormCusto:i.getXMLValues("insertFormAttributeXML"),editFormCusto:i.getXMLValues("editFormAttributesXML"),graphViewCusto:i.getXMLValues("MBOM.bomViewXML")},(new s).retrieveAttributesInfoFromXml(e)},_initPromiseExec:function(e,t){var i=this,n=[new Promise(c._retrieveRefDicoType.bind(i)),new Promise(c._retrieveInstDicoType.bind(i)),new Promise(c._retrieveDocDicoType.bind(i)),new Promise(c._retrieveResourceType.bind(i)),new Promise(c._retrievePPRTypes.bind(i))];Promise.all(n).then(function(){new Promise(c._retrieveModelCustomRelations.bind(i)).then(function(){c._initPromiseExec2(e,t)},function(e){t(e)})},function(e){t(e)})},_initPromiseExec2:function(e,t){var i=[new Promise(c._retrieveModelCustomRelations.bind(this)),new Promise(c._retrieveDimensions.bind(this)),new Promise(c._retrieveModelRelations.bind(this)),new Promise(c._retrieveDicoAttributeInfo.bind(this)),new Promise(c._retrieveAttrMaskInfoForPPRTypes.bind(this)),new Promise(c._retrieveExtnInfoForClassTypes.bind(this)),new Promise(c._retrieveSharedIconPath.bind(this)),new Promise(c._getDicoTypesAttributesIndexMapping.bind(this)),new Promise(c._retrieveParameterIsAutoCreateScopeOnHOP.bind(this)),new Promise(c._retrieveCustomDicoType.bind(this))];"ENXENG_AP"!==widget.getValue("appId")&&"DELWKB_AP"!==widget.getValue("appId")&&i.push(new Promise(c._retrieveValidChildTypes.bind(this))),Promise.all(i).then(function(){e()},function(e){t(e)})},_retrieveSharedIconPath:function(t,n){var r=o.getIconNames();e.is(r,"array")&&r.length>0?i.webServiceRequest({url:"dsmfg/private/V0/invoke/getSharedIconPath",method:"POST",data:JSON.stringify(r),onComplete:function(e){o.setSharedIconPath(e),t()},onFailure:n,onTimeout:n}):t()},_retrieveDimensions:function(e,t){i.webServiceRequest({url:"dictionary/dimensions",method:"GET",onComplete:function(t){o.addDimensions(t.results),e()},onFailure:t,onTimeout:t})},_retrieveDicoType:function(t,n,r){var s=this;i.webServiceRequest({url:"dictionary/getTypeInfo?parentInfo=true",method:"POST",data:JSON.stringify(t),onComplete:function(t){n(),Object.keys(t).forEach(function(i){for(var n=[],r=e.is(t[i].parent)?t[i].parent:null;null!==r;)n.push(r),r=e.is(t[r].parent)?t[r].parent:null;n.length>0&&(n.reverse(),-1!==s.getReferenceTypes().indexOf(n[0])?s._modelTypeConfig.reference.types.push(i):-1!==s.getInstanceTypes().indexOf(n[0])&&s._modelTypeConfig.instance.types.push(i),-1!==s.getDocumentTypes().indexOf(n[0])&&s._modelTypeConfig.document.types.push(i),e.is(t[n[0]].derivedTypes,"array")||(t[n[0]].derivedTypes=[]),t[n[0]].derivedTypes.push(i)),t[i].inheritanceChain=n}),o.addIcons(t),s._typeHierarchy=e.merge(s._typeHierarchy,t)},onFailure:r,onTimeout:r})},_retrieveCustomDicoType:function(e,t){var n=this;i.webServiceRequest({url:"dsmfg/private/V0/invoke/getTypeNLS",method:"POST",data:JSON.stringify({kinds:["entity","interface"],types:n._modelTypeConfig.reference.types}),onComplete:function(t){e(),Object.keys(t).forEach(function(e){n._typeHierarchy[e]&&(n._typeHierarchy[e].typeNLS=t[e])})},onFailure:t,onTimeout:t})},_retrieveRefDicoType:function(e,t){this._retrieveDicoType(this.getReferenceTypes(),e,t)},_retrieveInstDicoType:function(e,t){this._retrieveDicoType(this.getInstanceTypes(),e,t)},_retrieveDocDicoType:function(e,t){this._retrieveDicoType(this.getDocumentTypes(),e,t)},_retrieveResourceType:function(e,t){var n=this;i.webServiceRequest({url:"dictionary/getTypeInfo",method:"POST",data:JSON.stringify(["Resource"]),onComplete:function(t){var i=Object.keys(t).filter(function(e){return"Resource"!==e});t.Resource.derivedTypes=i,t.Resource.inheritanceChain=[],n._typeHierarchy.Resource=t.Resource,e()},onFailure:t,onTimeout:t})},_retrieveParameterIsAutoCreateScopeOnHOP:function(e,t){var n=this;i.webServiceRequest({url:"delmia/param/configuration/getParameters?domainID=DigitalManufacturing&familyID=ProcessBehaviors&paramID=AutoCreateScopeOnHOPCheckbox&argID=AutoCreateScopeOnHOPArg",method:"GET",onComplete:function(t){n._isAutoCreateScopeOnHOP=1===t.length&&"Enabled"===t[0].value,e()},onFailure:t,onTimeout:t})},_getDicoTypesAttributesIndexMapping:function(t,n){var r=this,o=this._getDicoTypes(),s=function(e){u.error("Failed to retrieve attribute index mapping from server: "+e),n()};e.is(o,"array")&&o.length>0?i.webServiceRequest({url:"dsmfg/private/V0/invoke/getPredicates",method:"POST",data:JSON.stringify(o),onComplete:function(i){e.is(i,"array")&&(r._dicoTypesAttributesProperties=i),t()},onFailure:s,onTimeout:s}):t()},_getDicoTypes:function(){var t=["PLMEntity","PLMInstance"];return function i(n){e.is(n,"object")?Object.keys(n).forEach(function(r){"dicoType"===r&&e.is(n[r],"string")?"BusinessType"===n[r]||t.includes(n[r])||t.push(n[r]):i(n[r])}):e.is(n,"array")&&n.forEach(function(e){i(e)})}(i._xmlCache),t},getAcceptedPPRTypesForActions:function(){return this._acceptedPPRTypesForActions},getAcceptedBaseTypesForActions:function(){return this._acceptedBaseTypesForActions},getParentTypes:function(t){let i=[];return e.is(this._typeHierarchy[t])&&(i=this._typeHierarchy[t].inheritanceChain||[]),i},getReadOnlyTypes:function(){return this._readOnlyTypes},getTypeHierarchy:function(t){return e.is(this._typeHierarchy[t])&&Array.isArray(this._typeHierarchy[t].derivedTypes)?this._typeHierarchy[t].derivedTypes:[]},getTypeInfo:function(t){var i;return e.is(this._typeHierarchy[t])&&(i=this._typeHierarchy[t]),i},getReferenceTypes:function(){return this._modelTypeConfig.reference.types},getInstanceTypes:function(){return this._modelTypeConfig.instance.types},getDocumentTypes:function(){return this._modelTypeConfig.document.types},getConnectionTypes:function(){return this._modelTypeConfig.connection.types},isEntityReference:function(e){return-1!==this.getReferenceTypes().indexOf(e)},isEntityInstance:function(e){return-1!==this.getInstanceTypes().indexOf(e)},isEntityConnection:function(e){return-1!==this.getConnectionTypes().indexOf(e)},isAutoCreateScopeOnHOP:function(){return this._isAutoCreateScopeOnHOP},isAKindOf:function(t,i){var n=!1,r=e.is(t)?e.is(t,"string")?t:e.is(t.get,"function")?t.get("type"):null:null,o=e.is(i,"string")&&0<i.length?c.getTypeHierarchy(i):null;return e.is(r,"string")&&e.is(i,"string")&&(i===r?n=!0:Array.isArray(o)&&(n=o.some(function(e){return r===e},this))),n},getDicoTypeIndexesForAttribute:function(t,i){var n=[],r="";return e.is(this._dicoTypesAttributesProperties,"array")&&this._dicoTypesAttributesProperties.forEach(function(e){if(e.name===t)if(e.kind===i)n.push(e.uri);else if("interface"===e.kind){if(e.uri.startsWith("tbr."))switch(i){case"entity":r="bo"+e.uri.substring(3);break;case"relation":r="ro"+e.uri.substring(3);break;default:r=e.uri}else r=e.uri;n.push(r)}},this),n},getDicoTypeAttributesForIndex:function(t,i){var n=[],r="";return e.is(this._dicoTypesAttributesProperties,"array")&&this._dicoTypesAttributesProperties.forEach(function(e){if(e.uri===t&&e.kind===i)n.push(e.name);else if("interface"===e.kind)if(e.uri.startsWith("tbr.")){switch(i){case"entity":r="bo"+e.uri.substring(3);break;case"relation":r="ro"+e.uri.substring(3);break;default:r=e.uri}r===t&&n.push(e.name)}else e.uri===t&&n.push(e.name)},this),n},getTypeDicoNLSValue:function(e){return this._typeHierarchy[e].typeNLS}});return c});