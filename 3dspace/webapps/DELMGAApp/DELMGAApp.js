define("DS/DELMGAApp/AppConfig",["DS/DELPPWModelServices/BehaviorUtil","DS/DELPPWResourceServices/ResourceUtils"],function(e,n){"use strict";var t,a;return{preferences:[{name:"Credentials",type:"list",label:"Preferences.Credentials",options:[],defaultValue:""},{name:"xPref_CREDENTIAL",type:"hidden",defaultValue:""},{name:"showDialog",type:"boolean",label:"Preferences.ShowDialog",defaultValue:"true"},{name:"navigateOnIndexedDB",type:e.isNavigateOnIndexedDBPrefDisplayed()?"boolean":"hidden",label:"Preferences.NavOnIndexedDB",defaultValue:"false"},{name:"oneDelmiaAggregationMode",type:"boolean",label:"Preferences.oneDelmiaAggregationRules",defaultValue:"true"},{name:"fetchAllLevel",type:"boolean",label:"Preferences.fetchAllLevel",defaultValue:"false"},{name:"loadRootOnly",type:"boolean",label:"Preferences.loadRootOnly",defaultValue:"true"},{name:"isOutputActivated",type:"boolean",label:"Preferences.isOutputActivated",defaultValue:!1},{name:"navigateOnIndex",type:"list",options:[{value:"Database",label:"Preferences.NavOnIndex.Database"},{value:"Index",label:"Preferences.NavOnIndex.Index"}].concat(e.shouldLoadRelationsOnDemand()?[{value:"IndexRelationsOnDemand",label:"Preferences.NavOnIndex.RelOnDemand"}]:[]),label:"Preferences.NavOnIndex",defaultValue:"Index"},{name:"separator",type:"text",label:"Preferences.Separator",defaultValue:"|"},{name:"csvSeparator",type:"list",label:"Preferences.CSV.Separator",options:[{value:"Comma",label:n.getNLSValue("Preferences.CSV.Comma")},{value:"Semicolon",label:n.getNLSValue("Preferences.CSV.Semicolon")},{value:"Pipe",label:n.getNLSValue("Preferences.CSV.Pipe")},{value:"Tab",label:n.getNLSValue("Preferences.CSV.Tab")}],defaultValue:"Comma"},{name:"custoParametersSet",type:"list",label:"Preferences.CustoParametersSet",options:[],defaultValue:""},{name:"isCustoParametersSetLocked",type:"hidden",label:"Preferences.isCustoParametersSetLocked",defaultValue:!1},{name:"MASS",type:"list",label:"Preferences.Mass",options:[],defaultValue:""},{name:"VOLUME",type:"list",label:"Preferences.Volume",options:[],defaultValue:""},{name:"AREA",type:"list",label:"Preferences.Area",options:[],defaultValue:""},{name:"LENGTH",type:"list",label:"Preferences.Length",options:[],defaultValue:""},{name:"TIME",type:"list",label:"Preferences.Time",options:[],defaultValue:""},{name:"timeout",type:"text",label:"Preferences.ServerTimeout",defaultValue:!1===e.getDefaultTimeout()||""===e.getDefaultTimeout()?"600":e.getDefaultTimeout(),onchange:"TimeoutUpdated"},{name:"systemsViewColumns",type:"hidden",defaultValue:[]},{name:"consumedItemsColumns",type:"hidden",defaultValue:[]},{name:"capableResourcesColumns",type:"hidden",defaultValue:[]},{name:"forceDBModePreferences",type:"hidden",defaultValue:"false"},{name:"isItemsViewVisible",type:"hidden",defaultValue:!0},{name:"isResourcesViewVisible",type:"hidden",defaultValue:!0},{name:"isProcessViewVisible",type:"hidden",defaultValue:!0},{name:"isMGAToggleAuxiliaryViewVisible",type:"hidden",defaultValue:!1},{name:"isViewPersistanceOn",type:"hidden",defaultValue:e.isViewPersistanceOn()},{name:"isRestoreAutomaticOn",type:"hidden",defaultValue:!1},{name:"switchDBTimeout",type:"hidden",defaultValue:18e4},{name:"navigateSplitSize",type:"hidden",defaultValue:(a=e.getNavigateSize(),!1===a||""===a||isNaN(a)?"100":a)},{name:"navigateFetchSplitSize",type:"hidden",defaultValue:(t=e.getNavigateFetchSize(),!1===t||""===t||isNaN(t)||parseInt(t)>1e3?"1000":t)}]}}),define("DS/DELMGAApp/AppModules",[],function(){"use strict";var e=[{moduleName:"ProgressIndModule",moduleId:"PROGRESSINDMOD",renderToElement:"progressIndicator"},{moduleName:"UpperViewsModule",moduleId:"MANUFACTURING",renderToElement:"manufacturing"},{moduleName:"UpperViewsModule",moduleId:"RESOURCE",renderToElement:"resource"},{moduleName:"RoutingsModule",moduleId:"ROUTINGS",renderToElement:"routings"},{moduleName:"AuxiliaryModule",moduleId:"AUXILIARY",renderToElement:"auxiliary"},{moduleName:"InsertCmdModule",moduleId:"INSTCMDMOD",renderToElement:"none"},{moduleName:"MfgProcessReplaceModule",moduleId:"MFGPROCESSREPLACEMOD",renderToElement:"none"},{moduleName:"UserDefExploreModule",moduleId:"UDECMDMOD",renderToElement:"none"},{moduleName:"DeleteCmdModule",moduleId:"DELCMDMOD",renderToElement:"none"},{moduleName:"AuthorLinksModule",moduleId:"AUTHORLINKMOD",renderToElement:"none"},{moduleName:"LinksModule",moduleId:"LINKS",renderToElement:"none",isDynamic:!0},{moduleName:"PropertiesModule",moduleId:"PROPERTIES",renderToElement:"properties",isDynamic:!0},{moduleName:"EGraphModule",moduleId:"EGRAPHMOD",renderToElement:"none",isDynamic:!0},{moduleName:"ProductFlowSequenceModule",moduleId:"PRODUCTFLOWMOD",renderToElement:"none",isDynamic:!0},{moduleName:"ManageCapableResourcesModule",moduleId:"MANAGECAPABLERESOURCESMOD",renderToElement:"none",isDynamic:!0},{moduleName:"MILMfgProcessNItemModule",moduleId:"MIL",renderToElement:"none",isDynamic:!0},{moduleName:"WorkInstructionsModule",moduleId:"WKIMOD",renderToElement:"none"},{moduleName:"ResourceParameterPlanModule",moduleId:"RPPMOD",renderToElement:"none",isDynamic:!0},{moduleName:"Operations3DViewerModule",moduleId:"OPS3DVIEWERMOD",renderToElement:"none"},{moduleName:"RequirementViewModule",moduleId:"REQUIREMENT_VIEW",renderToElement:"requirement",isDynamic:!0}],n={get:function(){return e},getStaticModules:function(){return e.filter(function(e){return!0!==e.isDynamic})},getStaticCount:function(){return n.getStaticModules().length}};return n}),define("DS/DELMGAApp/App",["UWA/Core","DS/CfgAuthoringContextUX/scripts/CfgAuthoringContext","DS/DELPPWModules/Modules","DS/DELPPWBehaviors/Behaviors","DS/DELPPWPlugins/Plugins","DS/DELPPWServices/Services","DS/DELMGAApplicationServices/Services","DS/DELModularWebAppCore/Core","DS/DELMGAApp/AppModules","DS/DELPPWModelServices/BehaviorUtil","DS/Controls/ModalContainer","DS/Controls/Loader","text!DS/DELMGAApp/assets/json/LandingPage.json","text!DS/DELMGAApp/assets/json/AuthorizedEvents.json","text!DS/DELMGAApp/assets/json/EventsMapping.json","text!DS/DELMGAApp/assets/json/XMLMapping.json","text!DS/DELMGAApp/assets/json/ModuleConfigurations.json","text!DS/DELMGAApp/assets/json/ModelServiceOptions.json","css!DS/DELMGAApp/DELMGAApp.css"],function(e,n,t,a,o,i,l,r,d,s,u,m,c,p,g,f,M,D){"use strict";var S=t.getMap(),P=a.getMap(),E=o.getMap(),A=e.merge(l.getMap(),i.getMap()),L=e.is(s.isCloud())&&s.isCloud()?"DELMGAApp_Cloud.xml":"DELMGAApp_OnPremise.xml";return function(){var t,a,o,i,l,s,v,I,C;return E.BIPlugin="DS/DELPPWModelPlugins/BI/MfgProcessBIPlugin",P.BIBehavior="DS/DELPPWViewBehaviors/BI/MfgProcessBIBehavior",t=new r({appId:"DELMGA_AP",cloudServiceName:"3dmfgprocessmgt",widgetTrigram:"MGA",unAuthorizedTypes:["PRODUCT","PARTS"],eligibleRoleIds:["IWR","UWM","UWR"],appContext:{widget:{getId:function(){return widget.id},data:{appId:"DELMGA_AP",app3DSharedId:null}}},require:{module:S,behavior:P,plugin:E,service:A},resource:{iconCatalogPath:"DS/DELMGAApp/assets/icons/catalog.json",selectionMappingPath:"DS/DELMGAApp/assets/json/SelectionMapping.json",rootsMappingPath:"DS/DELMGAApp/assets/json/RootsMapping.json",commandsAvailabilityPath:"DS/DELMGAApp/assets/json/CommandsAvailability.json",xmlConfiguration:e.Json.decode(f),indexMappingXML:"indexMappingXML",modelRelationsXML:"modelRelationsXML",relationsColumnMappingXML:"relationsColumnMappingXML",insertFormAttributeXML:"insertFormAttributeXML",modelCustomRelationsXML:"modelCustomRelationsXML",documemntColumnConfigXML:"documemntColumnConfigXML",duplicateAdvancedPreferencesXML:"duplicateAdvancedPreferencesXML",nlsFilePath:"DS/DELMGAApp/assets/nls/NLS",nlsExternalCmdsPath:"DS/ENOCollabSharingCmds/assets/catnls/CollabSharing_Workbench.CATNls",rscExternalCmdsPath:"DS/ENOCollabSharingCmds/assets/catrsc/CollabSharing_Workbench.CATRsc",appConfigPath:"DS/DELMGAApp/AppConfig",afrWorkbenchName:"DELMGAApp.xml",envSpecificAfrWorkbenchName:L,afrWorkbenchModule:"DELMGAApp",custoParameterRegExp:"MGAParameters*",ItemOOTBFiltering:"ItemOOTBFiltering"},Mediator:{WaitForWidgetLoading:!0,LoadingCompleteEvent:"endLoadingWidget",authorizedEvents:e.Json.decode(p),eventsMapping:e.Json.decode(g)},LandingPageService:e.Json.decode(c),ModelService:e.Json.decode(D),widgetLinkOpts:{appIds:[],open:!1,implements:[],uses:["DELViewerContent","DELViewer2DContent","DELViewerContentSync","DELViewerBuildUp"]}}),a=function(n){var a=n.moduleData||{};e.is(n)&&e.is(n.moduleId,"string")?(a=e.merge(a,M[n.moduleId]),t.start(n.moduleId,a)):t.getLogger().debug("Module id is required to start the module.")},o=function(n){e.is(n)&&e.is(n.moduleId,"string")?t.stop(n.moduleId):t.getLogger().debug("Module id is required to stop the module.")},i=function(){widget.body.empty()},s=function(n){let a=t.getPlugins("ResourcePlugin"),o=n||a&&a.instance?a.instance.getNLSValue("loading"):" ";e.is(C)||(C=new m),C.on(o),u.createModal(widget.body,C.elements.container)},l=function(){e.is(C)&&(C.off(),u.removeModal(widget.body,C.elements.container))},v=function(){var n=widget.getValue("x3dSharedId");return e.is(n)||(widget.addPreference({name:"x3dSharedId",type:"hidden",defaultValue:"DELMFNMGA_appId"}),n="DELMFNMGA_appId"),n},M=e.Json.decode(M),t.addExternalListener("startModule",a),t.addExternalListener("stopModule",o),{onLoad:function(){var e=d.getStaticCount(),a=function(){0==--e&&(l(),t.getMediator().notify("endLoadingWidget"))};t.updateAppContext({widget:{data:{app3DSharedId:v()}}}),i(),t.useServices(["LoggerService","ConfigService","LandingPageService","ModelService","CommandsService","ExternalService","LifecycleService","FilterService","LayoutService","AuthoringService"],function(){var e=t.getService("LayoutService");d.get().forEach(function(n){var o,i,l,r,d;n&&(i=n.moduleName,l=n.moduleId,r=n.renderToElement,o=e.getContainer(r),d=[i,l,o],!0!==n.isDynamic&&d.push(function(e){t.start(e,M[l],a)}),t.createModule.apply(t,d))}),n.initialize2(e.getUIContainer(),widget.id,"show","bottom-right",function(){})})},getCore:function(){return t},onEdit:function(){},onSearch:function(n){var a,o,i,l,r,d,s,u,m=["SYSTEM","OPERATION"],c=[],p=t.getPlugins("RootsPlugin"),g=t.getPlugins("ResourcePlugin"),f=t.getPlugins("DatabasePlugin");e.is(f)&&e.is(p)&&e.is(g)?(f=f.instance,p=p.instance,g=g.instance,e.is(n,"string")&&(o=n.split(":"),e.is(o,"array")&&o.length>1&&(i=o[0],l=o[1])),r=e.is(i,"string")?i.replace(/^\s+/g,"").replace(/\s+$/g,""):"",d=e.is(l,"string")?l.replace(/^\s+/g,"").replace(/\s+$/g,""):"",e.is(r)&&e.is(d)&&""!==r&&""!==d&&(a={type:r,externalId:d},f.fetchReferences(a,{silent:!0,remove:!1,onComplete:function(n,a){e.is(n,"array")&&n.forEach(function(n){p.isRoot(n.get("PID"))?(c.referenceName=n.get("PLMEntity.V_Name"),s=g.getNLSValue("AlreadyRoot",c,"ValidationError"),t.getLogger().warn(self.name,s)):(u=n.get("PPRTYPE"),e.is(u,"string")&&-1!==m.indexOf(u)?t.getMediator().notify("referenceAdded",[n,null,a]):t.getMediator().notify("addToAuxiliaryView",[n]))})}}))):t.getLogger().debug("App","Database or Roots or Resource plugin is not available.")},onResize:function(){},onRefresh:function(){t.getMediator().notify("reset")},onBeginEdit:function(){I=widget.getPreferences()},onEndEdit:function(n){var a,o,i,r,u,m,c,p,g,f,D=[];g=widget.getPreferences(),f=I,I=null,m=function(e,n){var t=[];return e.forEach(function(e,a){n[a].value!==e.value&&t.push(e.name)}),t},p=m(g,f),e.is(n)&&!0===n.submitted&&p.length>0&&(o=t.getService("LayoutService"),a=o.getContainer("layoutContainer"),p.indexOf("custoParametersSet")>-1?(r=d.getStaticCount(),u=function(){0==--r&&(t.getMediator().notify("LoadRecentContent"),e.is(a)&&(a.hidden=!1))},e.is(a)&&(a.hidden=!0),s(),t.stopAll(),t.startAllServices(function(){d.get().forEach(function(e){e&&!0!==e.isDynamic&&t.start(e.moduleId,M[e.moduleId],u)}),l()})):(i=t.getService("ModelService"),p.indexOf("oneDelmiaAggregationMode")>-1&&D.push(i.updateAggregationRules()),s(),c=function(){l(),t.getMediator().notify("endEdit",[{changedPreferences:p}])},Promise.allSettled(D).then(c,c)))}}}});