define("DS/DELPPWAfrCommands/AfrCommand",["DS/ApplicationFrame/Command","DS/Logger/Logger","DS/CoreEvents/Events","UWA/Class/Options"],function(t,e,n,i){"use strict";var o=t.extend(i,{name:"AfrCommand",_logger:null,_context:null,init:function(t){this._logger=e.getLogger(o),this._parent(t,{mode:"exclusive",isAsynchronous:!1}),this._context=this.getOption("context")},execute:function(){var t={arguments:arguments};this._logger.log(this._id+" execute"),n.publish({event:"DELPPWCommands/"+this._id,data:t})}});return o}),define("DS/DELPPWAfrCommands/FilterCommands/ProxyXSO",["UWA/Core","DS/Selection/XSO"],function(t,e){"use strict";return e.extend({init:function(t){this._parent(t)},onSelectionChange:function(e){var n;t.is(e)&&t.is(e.changed)&&(n=e.changed.nodeId,e.changed.isSelected?this.add(n):this.remove(n))}})}),define("DS/DELPPWAfrCommands/CheckCommand",["UWA/Core","DS/CoreEvents/Events","DS/Logger/Logger","DS/ApplicationFrame/CommandCheckHeader","DS/ApplicationFrame/CommandsManager"],function(t,e,n,i,o){"use strict";var s=i.extend({name:"CheckCommand",commandName:null,_logger:null,_checkGroup:null,init:function(e){var i,o;this._parent(e,{mode:"exclusive",isAsynchronous:!1}),this.commandName=e.ID,this._logger=n.getLogger(s),o=e.arguments,i=(Array.isArray(o)?o:[]).reduce((t,{ID:e,Value:n})=>t.set(e,n),new Map),widget.getBool("isViewPersistanceOn")?this._executeViewPersistence(this.commandName):function(e){var n=e.get("SimpleCheck");return t.is(n)&&"SimpleCheck"===n}(i)||t.is(e.isEnabled)&&this.enable(),this._checkGroup=i.get("CheckGroup"),this.onStateChange(this._stateChanged)},_stateChanged:function(){var n,i=this.getState();!0===i&&(n=this.options.node),this.options.node=null,!function(e){var n,i=e.getState(),s=!0;return t.is(e._checkGroup)&&!1===i&&(n=o.getCommandCheckHeaders(e.options.context),s=Object.keys(n).some(function(t){var i=n[t];return i._checkGroup===e._checkGroup&&!0===i.getState()})),s}(this)?(this.toggleState(),widget.setValue(this._getPreferenceName(this.commandName),!i)):(widget.setValue(this._getPreferenceName(this.commandName),i),e.publish({event:"DELPPWCommands/"+this._id,data:{state:i,node:n}}))},_getPreferenceName:function(e){return function(e){var n=t.is(widget.getValue("isMFNToggleAuxiliaryViewVisible"))?"MFN":"MGA";return"ToggleAuxiliaryView"===e?"is"+n:"is"}(e)+e+"Visible"},_executeViewPersistence:function(t){var e;["ItemsView","ResourcesView","ProcessView","ManufacturingItems","ProductsParts","ToggleAuxiliaryView"].includes(t)&&(e=widget.getBool(this._getPreferenceName(t)),this.setState(e),e||this._stateChanged())}});return s}),define("DS/DELPPWAfrCommands/InsertCmd",["UWA/Core","DS/ApplicationFrame/Command","DS/Logger/Logger","DS/CoreEvents/Events","UWA/Class/Options"],function(t,e,n,i,o){"use strict";var s=e.extend(o,{name:"InsertCmd",_logger:null,_context:null,init:function(t){this._logger=n.getLogger(s),this._parent(t,{mode:"exclusive",isAsynchronous:!1}),this._context=this.getOption("context")},execute:function(e){var n={arguments:this.getArguments()};t.is(e)&&t.is(e.sourceModuleId)&&(n.sourceModuleId=e.sourceModuleId),this._logger.log(this._id+" execute"),i.publish({event:"DELPPWCommands/InsertCmd",data:n})}});return s}),define("DS/DELPPWAfrCommands/FilterCommands/ConfigCommandUtil",["UWA/Core"],function(t){"use strict";const e=function(e){return{isRoot:function(e){let n=!0;const i=e.instance;if(t.is(i.id)){const t=i.absolutePath;Array.isArray(t)&&t.length>0&&(n=!1)}return n},getSelections:function(n=!1){return t.is(e.getSelectedNodesInfo,"function")?e.getSelectedNodesInfo(n):[]},getPADNodes:function(){return t.is(e.getSelectedNodes,"function")?e.getSelectedNodes():[]},getData:function(){const t=this;return{selectedNodes:this.getSelections(!1).map(function(e){let n;const i=t.isRoot(e);return n=i?{id:e.reference.id,referenceId:e.reference.id,alias:e.label,isRoot:i}:{id:e.instance.id,referenceId:e.reference.id,alias:e.instance.label,isRoot:i,VPMRef:e.reference.type,parentID:e.parent.reference.id,parentalias:e.parent.label}}),padNodes:this.getPADNodes()}},getEffectivityModificationEventName:function(){return"cfgEffectivityModifications_"+widget.id},getRelidsAndCommandName:function(e,n){let i=[],o=null;if(t.owns(e,"commandName")){const s=e.commandName;if(t.is(s,"string")&&n(s)&&(o=s,t.owns(e,"response"))){const n=e.response.results;Array.isArray(n)&&(i=n.reduce((e,n)=>{if(t.owns(n,"existing")){const i=n.existing.pid;t.is(i)&&e.push(i)}return e},[]));const o=e.response.resources;Array.isArray(o)&&(i=o.reduce((e,n)=>(t.owns(n,"identifier")&&e.push(n.identifier),e),[]))}}return{relids:i,cfgCommandName:o}},getPidsAndCommandName:function(e,n){let i=[],o=null;if(t.owns(e,"commandName")){const s=e.commandName;if(t.is(s,"string")&&n(s)&&(o=s,t.owns(e,"data"))){const t=e.data.pids;Array.isArray(t)&&(i=t)}}return{pids:i,cfgCommandName:o}}}};return function(){let n;return{getInstance:function(i){return t.is(n)||(n=new e(i)),n}}}()}),define("DS/DELPPWAfrCommands/RelationalExplorerCmd",["UWA/Core","UWA/Utils","DS/Logger/Logger","DS/ApplicationFrame/Command","UWA/Utils/InterCom"],function(t,e,n,i,o){"use strict";var s=null,a=i.extend({name:"RelationIPExplorer",_logger:null,_context:null,init:function(t){var e=this;this._parent(t,{mode:"shared",isAsynchronous:!0}),this._logger=this._logger?this._logger:n.getLogger(a),this._context=t.context,e.enable()},setObjectOnCompass:function(e){var n=t.is(widget)&&widget.id?"padcompassSocket_"+widget.id:"padcompassSocket",i=null;if(this._logger.log("setObjectOnCompass"),!t.is(e.nodesToOpen,"array"))throw new Error("setObjectOnCompass: Invalid init parameter nodesToOpen");null===s&&(s=new o.Socket(n)).subscribeServer("com.ds.compass",window.parent),0===e.nodesToOpen.length?s.dispatchEvent("onResetX3DContent",{},n):(i=this.dropdataFromSelectedNodes(e.nodesToOpen),s.dispatchEvent("onSetX3DContent",i,n))},openApp:function(e,n){var i=t.is(widget)&&widget.id?"padcompassSocket_"+widget.id:"padcompassSocket";this._logger.log("open_app"),null===s&&(s=new o.Socket(i)).subscribeServer("com.ds.compass",window.parent),s.addListener("launchApp",function(e){t.is(n,"function")&&n(e)}),s.dispatchEvent("onLaunchApp",e,i)},dropdataFromSelectedNodes:function(e){var n,i="",o={protocol:"3DXContent",version:"1.1",source:widget.data.appId,widgetId:widget.id,data:{items:[]}},s=this._context.getSecurityContext();return t.is(s)&&t.is(s.SecurityContext,"string")&&(i=s.SecurityContext.split("ctx::").pop()),n=function(t){return{envId:s.tenant,serviceId:"3DSpace",contextId:i,objectId:t.getID(),objectType:t.options.type,displayName:t.options.display?t.options.display:t.getLabel(),displayType:t.options.grid["ds6w:type"],path:t.getOccurencePathWithType?t.getOccurencePathWithType():null}},e.forEach(function(t){o.data.items.push(n(t))}),o},execute:function(){var t=this._context.getSelectedNodes();this._logger.log("Execute"),this.setObjectOnCompass({nodesToOpen:t}),this.openApp({appId:"ENORIPE_AP"},function(){})}});return a}),define("DS/DELPPWAfrCommands/FilterCommands/EditVariantCmd",["UWA/Core","DS/CfgEffectivityCommands/commands/CfgVariantEffectivityCmd","DS/PlatformAPI/PlatformAPI","DS/DELPPWAfrCommands/FilterCommands/ConfigCommandUtil"],function(t,e,n,i){"use strict";return e.extend({init:function(e){let o=this;o._context=e.context,o._configCmdUtil=i.getInstance(o._context);const s=o._configCmdUtil.getEffectivityModificationEventName();n.subscribe(s,function(e){if(t.is(e)){const t=JSON.parse(e),{relids:n,cfgCommandName:i}=o._configCmdUtil.getRelidsAndCommandName(t,t=>"cfgMassEditVariant"===t||"cfgEditVariant"===t);if(n.length>0){const t={pids:[],relids:n};o._context.updateCfgColumnsBasedOnCommand(t,i)}}}),this._parent(e)},getData:function(){return this._configCmdUtil.getData()}})}),define("DS/DELPPWAfrCommands/FilterCommands/ExtendEvolutionCmd",["UWA/Core","DS/CfgEffectivityCommands/commands/CfgExtendEvolutionEffectivityCmd","DS/PlatformAPI/PlatformAPI","DS/DELPPWAfrCommands/FilterCommands/ConfigCommandUtil"],function(t,e,n,i){"use strict";return e.extend({init:function(e){let o=this;o._context=e.context,o._configCmdUtil=i.getInstance(o._context);const s=o._configCmdUtil.getEffectivityModificationEventName();n.subscribe(s,function(e){if(t.is(e)){const t=JSON.parse(e),{relids:n,cfgCommandName:i}=o._configCmdUtil.getRelidsAndCommandName(t,t=>"cfgExtendEvolutionEffectivity"===t);if(n.length>0){const t={pids:[],relids:n};o._context.updateCfgColumnsBasedOnCommand(t,i)}}}),o._parent(e)},getData:function(){return this._configCmdUtil.getData()}})}),define("DS/DELPPWAfrCommands/FilterCommands/CopyEvolutionCmd",["UWA/Core","DS/CfgEffectivityCommands/commands/CfgCopyEvolutionEffectivityCmd","DS/CfgBaseUX/scripts/CfgData","DS/DELPPWAfrCommands/FilterCommands/ConfigCommandUtil"],function(t,e,n,i){"use strict";return e.extend({init:function(t){this._context=t.context,this._configCmdUtil=i.getInstance(this._context),this._parent(t)},isEvolutionEffAvailable:function(){return"YES"===n.isEvolutionEffAvailable},getData:function(){return this._configCmdUtil.getData()}})}),define("DS/DELPPWAfrCommands/FilterCommands/PasteEvolutionCmd",["UWA/Core","DS/CfgEffectivityCommands/commands/CfgPasteEvolutionEffectivityCmd","DS/PlatformAPI/PlatformAPI","DS/DELPPWAfrCommands/FilterCommands/ConfigCommandUtil"],function(t,e,n,i){"use strict";return e.extend({init:function(e){let o=this;o._context=e.context,o._configCmdUtil=i.getInstance(o._context);const s=o._configCmdUtil.getEffectivityModificationEventName();n.subscribe(s,function(e){if(t.is(e)){const t=JSON.parse(e),{relids:n,cfgCommandName:i}=o._configCmdUtil.getRelidsAndCommandName(t,t=>"cfgPasteEvolution"===t);if(n.length>0){const t={pids:[],relids:n};o._context.updateCfgColumnsBasedOnCommand(t,i)}}}),o._parent(e)},getData:function(){return this._configCmdUtil.getData()}})}),define("DS/DELPPWAfrCommands/FilterCommands/ExpandFilterCmd",["UWA/Core","DS/ENONextGenFilterCmd/commands/ENONextGenFilterCmd","DS/DELPPWAfrCommands/FilterCommands/ConfigCommandUtil","DS/DELPPWAfrCommands/FilterCommands/ProxyXSO"],function(t,e,n,i){"use strict";return e.extend({_context:null,_proxyXSO:null,_configCmdUtil:null,init:function(t){this._context=t.context?t.context:null,this._configCmdUtil=n.getInstance(this._context),this._initProxyXSO(),this._parent(t)},_initProxyXSO:function(){var e=this;this._proxyXSO=new i,t.is(this._context.subscribeSelectionChange,"function")&&this._context.subscribeSelectionChange(function(t){e._proxyXSO.onSelectionChange(t)})},getAppParams:function(){return{widgetId:this._context.widget.getId(),appId:this._context.widget.data.app3DSharedId,NGFUXId:this._context.getActiveView()+"_"+this._context.widget.getId()}},getSelectorManager:function(){return this._proxyXSO},getRoots:function(){var t=this;return t._configCmdUtil.getSelections(!1).reduce(function(e,n){return t._configCmdUtil.isRoot(n)&&e.push({id:n.reference.id,label:n.label}),e},[])},getSelection:function(){var t=[],e=[];return this._configCmdUtil.getSelections(!0).forEach(function(n){t.push(n.occPathRIR),e.push([n.label])}),{path:t,label:e}}})}),define("DS/DELPPWAfrCommands/FilterCommands/CopyVariantCmd",["UWA/Core","DS/CfgEffectivityCommands/commands/CfgCopyEffectivityCmd","DS/CfgBaseUX/scripts/CfgData","DS/DELPPWAfrCommands/FilterCommands/ConfigCommandUtil"],function(t,e,n,i){"use strict";return e.extend({init:function(t){this._context=t.context,this._configCmdUtil=i.getInstance(this._context),this._parent(t)},isVariantEffAvailable:function(){return"YES"===n.isVariantEffAvailable},getData:function(){return this._configCmdUtil.getData()}})}),define("DS/DELPPWAfrCommands/FilterCommands/EditConfigContextCmd",["UWA/Core","DS/CfgConfigurationCommands/commands/CfgEditConfigurationContextCmd","DS/PlatformAPI/PlatformAPI","DS/DELPPWAfrCommands/FilterCommands/ConfigCommandUtil"],function(t,e,n,i){"use strict";return e.extend({init:function(e){let o=this;o._context=e.context,o._configCmdUtil=i.getInstance(o._context);const s=o._configCmdUtil.getEffectivityModificationEventName();n.subscribe(s,function(e){if(t.is(e)){const t=JSON.parse(e),{pids:n,cfgCommandName:i}=o._configCmdUtil.getPidsAndCommandName(t,t=>"cfgEditConfigurationContext"===t);if(n.length>0){const t={pids:n,relids:[]};o._context.updateCfgColumnsBasedOnCommand(t,i)}}}),this._parent(e)},getData:function(){const t=this;return{selectedNodes:this._configCmdUtil.getSelections(!1).map(function(e){let n;const i=t._configCmdUtil.isRoot(e);return n=i?{id:e.reference.id,referenceId:e.reference.id,alias:e.label,isRoot:i}:{id:e.reference.id,referenceId:e.reference.id,alias:e.label,isRoot:i,parentID:e.parent.reference.id,parentalias:e.parent.label}})}}})}),define("DS/DELPPWAfrCommands/FilterCommands/DisplayEffectivityCmd",["UWA/Core","DS/CfgEffectivityCommands/commands/CfgDisplayEffectivityCmd","DS/DELPPWAfrCommands/FilterCommands/ConfigCommandUtil"],function(t,e,n){"use strict";return e.extend({init:function(t){this._context=t.context,this._configCmdUtil=n.getInstance(this._context),this._parent(t)},getData:function(){return this._configCmdUtil.getData()}})}),define("DS/DELPPWAfrCommands/FilterCommands/PasteVariantCmd",["UWA/Core","DS/CfgEffectivityCommands/commands/CfgPasteEffectivityCmd","DS/PlatformAPI/PlatformAPI","DS/DELPPWAfrCommands/FilterCommands/ConfigCommandUtil"],function(t,e,n,i){"use strict";return e.extend({init:function(e){let o=this;o._context=e.context,o._configCmdUtil=i.getInstance(o._context);const s=o._configCmdUtil.getEffectivityModificationEventName();n.subscribe(s,function(e){if(t.is(e)){const t=JSON.parse(e),{relids:n,cfgCommandName:i}=o._configCmdUtil.getRelidsAndCommandName(t,t=>"cfgPasteVariant"===t);if(n.length>0){const t={pids:[],relids:n};o._context.updateCfgColumnsBasedOnCommand(t,i)}}}),this._parent(e)},getData:function(){return this._configCmdUtil.getData()}})}),define("DS/DELPPWAfrCommands/FilterCommands/EditEvolutionCmd",["UWA/Core","DS/CfgEffectivityCommands/commands/CfgEvolutionCmd","DS/PlatformAPI/PlatformAPI","DS/DELPPWAfrCommands/FilterCommands/ConfigCommandUtil"],function(t,e,n,i){"use strict";return e.extend({init:function(e){let o=this;o._context=e.context,o._configCmdUtil=i.getInstance(o._context);const s=o._configCmdUtil.getEffectivityModificationEventName();n.subscribe(s,function(e){if(t.is(e)){const t=JSON.parse(e),{relids:n,cfgCommandName:i}=o._configCmdUtil.getRelidsAndCommandName(t,t=>"cfgEditEvolution"===t);if(n.length>0){const t={pids:[],relids:n};o._context.updateCfgColumnsBasedOnCommand(t,i)}}}),o._parent(e)},getData:function(){return this._configCmdUtil.getData()}})});