define("DS/DomFactory/DomFactory",["require","exports","DS/Tweakers/GeneratedToolbar","DS/Controls/TooltipModel","DS/Utilities/Dom","DS/Utilities/TouchUtils","i18n!DS/DomFactory/assets/nls/translation"],function(e,t,o,n,i,a,l){"use strict";return class{static createDomWithTitleBarAndContent(e){var t,s;if(!e||!e.title&&!e.close&&!e.maximize&&!e.commands)return;let d,r=void 0===e.touchMode?a.getTouchMode():e.touchMode,c=document.createElement("div");if(c.classList.add("wux-domwithtitlebarandcontent"),e.title&&"string"==typeof e.title){(d=document.createElement("div")).classList.add("wux-domwithtitlebarandcontent-title"),c.appendChild(d),d.tooltipInfos=new n({shortHelp:e.title});let t=document.createElement("span");t.innerText=e.title,d.appendChild(t),r&&c.setAttribute("touch-mode","")}else c.setAttribute("notitle","");let m,u={entries:[]};if((null===(t=e.commands)||void 0===t?void 0:t.length)&&(u.entries=e.commands.map(e=>(e.dataElements.position=e.dataElements.position||"far",e))),"function"==typeof e.maximize&&(u.entries.push({id:"wuxMaximizeButton",dataElements:{typeRepresentation:"functionIcon",tooltip:l.maximize,icon:{iconName:"resize-full",fontIconFamily:WUXManagedFontIcons.Font3DS},value:t=>{let o=t.context.nodeModel.getAttributeValue("semantics").icon.iconName;t.context.nodeModel.updateOptions({grid:{semantics:{icon:{iconName:"resize-full"===o?"resize-small":"resize-full",fontIconFamily:WUXManagedFontIcons.Font3DS}}},tooltip:"resize-full"===o?l.restore:l.maximize}),e.maximize("resize-full"===o)},position:"far",category:"MaximizeCloseCategory"}}),c.addEventListener("updateMaximizeIcon",function(e){var t;e.stopPropagation();const o=null===(t=null==e?void 0:e.detail)||void 0===t?void 0:t.maximizeIcon;let n=null==m?void 0:m.getNodeModelByID("wuxMaximizeButton");n&&n.updateOptions({grid:{semantics:{icon:{iconName:o?"resize-full":"resize-small",fontIconFamily:WUXManagedFontIcons.Font3DS}}},tooltip:o?l.maximize:l.restore})})),"function"==typeof e.close&&u.entries.push({id:"wuxCloseButton",dataElements:{typeRepresentation:"functionIcon",tooltip:l.close,icon:{iconName:"close",fontIconFamily:WUXManagedFontIcons.Font3DS},value:e.close,position:"far",category:"MaximizeCloseCategory"}}),null===(s=null==u?void 0:u.entries)||void 0===s?void 0:s.length){let e=o.prototype.createTreeDocument(u);function p(){if(!m.isReady())return;let e=c.offsetWidth,t=(null==d?void 0:d.offsetWidth)||0;t&&(t=Math.min(t,50));let o,n=m._toolbar.getPreferredSize(),i=c.style["grid-template-columns"];(o=e<t+n?"auto "+(r?42:32)+"px":"auto "+n+"px")!==i&&(c.style["grid-template-columns"]=o)}(m=new o({overflowManagement:"dropdown",direction:"horizontal",items:e,touchMode:r}).inject(c)).getContent().classList.add("wux-domwithtitlebarandcontent-generatedtoolbar"),i.addResizeObserver(c,c,p),i.addEventOnElement(c,m,"onReady",p,{once:!0})}if(!1!==e.withSeparator){let e=document.createElement("div");e.classList.add("wux-domwithtitlebarandcontent-separator"),c.appendChild(e)}else c.setAttribute("noseparator","");return e.content&&(c.appendChild(e.content),e.content.classList.add("wux-domwithtitlebarandcontent-content")),c}}});