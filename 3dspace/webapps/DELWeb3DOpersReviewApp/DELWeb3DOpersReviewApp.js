define("DS/DELWeb3DOpersReviewApp/ContextMananger",["DS/DELWebComponentManager/DELWebComponentManager","DS/DELWebComponentManager/XSOManager","DS/DELWeb3DUtils/DELOERNodeUtils"],function(e,t,n){"use strict";let i;return i={setContext:function(){let i=e.getComponent("Utils"),o=i.getPADContext().get()||{};o.getSelectedNodes=function(){var e=t.getCSO().get()||[];let i=[];return e.forEach(e=>{i.push({source:"3DSpace",getID:function(){return n.getReferenceID(e)}})}),i},o.getSecurityContext=function(){return{SecurityContext:i.getSetting("pad_security_ctx"),tenant:i.getSetting("x3dPlatformId")}}},getContext:function(){return e.getComponent("Utils").getPADContext().get()||{}}}}),define("DS/DELWeb3DOpersReviewApp/LandingPageOptions",["DS/DELWebComponentManager/DELWebComponentManager","i18n!DS/DELWeb3DOpersReviewApp/assets/nls/DELWebLandingPage"],function(e,t){"use strict";return{getLandingPageOptions:function(){var n=e.getComponent("Utils");return{title:t.get("App.Title"),subtitle:t.get("App.Subtitle"),background:e.getComponent("Utils").getAssetsUrl("DELWeb3DOpersReviewApp","images/DELOPREV_Background.jpg"),linksCategories:[{id:"ContentKnowledge",i18n:{title:t.get("ContentKnowledge.Title")},links:[{id:"UserAssistance",i18n:{title:t.get("UserAssistance.Title")},icon:t.get("WhatsNew.FontIcon"),url:n?n.getHelpFullPath(t.get("UserAssistance.WebHelp")):""},{id:"WhatsNew",i18n:{title:t.get("WhatsNew.Title")},icon:t.get("WhatsNew.FontIcon"),url:n?n.getHelpFullPath(t.get("WhatsNew.WebHelp")):""}]},{id:"SocialNetworks",i18n:{title:t.get("SocialNetworks.Title")},links:[{id:"Community",i18n:{title:t.get("Community.Title")},icon:t.get("Community.FontIcon"),url:t.get("Community.Url")}]}],guidedTour:{title:t.get("App.Subtitle"),items:[{id:"HomePage",type:"IMAGE",img:e.getComponent("Utils").getAssetsUrl("DELWeb3DOpersReviewApp","images/LandingPage.jpg"),title:t.get("Tips0.Title"),text:t.get("Tips0.Content")},{id:"Viewer",type:"IMAGE",img:e.getComponent("Utils").getAssetsUrl("DELWeb3DOpersReviewApp","images/Viewer.jpg"),title:t.get("Tips1.Title"),text:t.get("Tips1.Content")},{id:"PPRNavigator",type:"IMAGE",img:e.getComponent("Utils").getAssetsUrl("DELWeb3DOpersReviewApp","images/PPRNavigator.jpg"),title:t.get("Tips2.Title"),text:t.get("Tips2.Content")},{id:"ProcessOpen",type:"VIDEO",video:e.getComponent("Utils").getAssetsUrl("DELWeb3DOpersReviewApp","videos/ProcessOpen.mp4"),title:t.get("Tips3.Title"),text:t.get("Tips3.Content")}]},buttons:{items:[{id:"OpenItem",i18n:{title:t.get("OpenItem.Title")},icon:t.get("OpenItem.FontIcon")},{id:"OpenItemWithFilter",i18n:{title:t.get("OpenItemWithFilter.Title")},icon:t.get("OpenItemWithFilter.FontIcon")}]},MRU:{items:[],onDoubleClick:function(){},contextualMenu:{items:[{id:"OpenItem",type:"PushItem",title:t.get("OpenItem.Title"),fonticon:{content:t.get("OpenItem.FontIcon")}},{id:"OpenItemWithFilter",type:"PushItem",title:t.get("OpenItemWithFilter.Title"),fonticon:{content:t.get("OpenItemWithFilter.FontIcon")}},{id:"RemoveItem"}]}}}}}}),define("DS/DELWeb3DOpersReviewApp/PreferencesManager",["DS/DELWebComponentManager/DELWebComponentManager"],function(e){"use strict";let t;const n="oldValue",i="value",o="onEdit",a="endEdit";let s={},r=function(e){let n=t.getPreferencesObject();Object.keys(n).forEach(t=>{s[t]?s[t][e]=n[t]:(s[t]={},s[t][e]=n[t])})};return widget.addEvent(o,function(){r(n)}),widget.addEvent(a,function(e){e&&!0===e.submitted&&r(i)}),t={addPreferences:t=>{let n=e.getComponent("Utils");t&&(t=t.filter(e=>!e.platform||("OnPremise"===e.platform?n.isOnPremise():"OnCloud"===e.platform&&!n.isOnPremise())),widget.mergePreferences(t))},getPreferencesObject:()=>{let e={};return widget.getPreferences().forEach(t=>{e[t.name]=t.value}),e},getValue:e=>widget.getValue(e),isPreferencesModified:function(e){let t=!1;return e&&e.length>0&&(t=e.some(e=>!!s[e]&&s[e][n]!==s[e][i])),t}}}),define("DS/DELWeb3DOpersReviewApp/CommandStateManager",["DS/DELWebComponentManager/DELWebComponentManager","DS/DELWebComponentManager/XSOManager","DS/ApplicationFrame/CommandsManager","text!DS/DELWeb3DOpersReviewApp/assets/json/CommandConfig.json"],function(e,t,n,i){"use strict";return function(){const o={NOSELECT:0,SINGLE:1},a="roots",s="mode",r="MULTI";var l,p=JSON.parse(i),c=e.getComponent("ModelEvents"),d=e.getComponent("SessionModel"),g=t.getCSO(),u=function(e){return n.getCommand(e)||n.getCommandCheckHeader(e)},m=function(){let e=d.get(a)||[],t=d.get(s),n=g&&UWA.is(g.get(),"array")?g.get().length:0;p.forEach(i=>{let a=u(i.command);if(a){let s=function(t){var n=!1;return UWA.is(t.pprTypes,"array")&&e.forEach(e=>{let i=e.pprType;-1!==t.pprTypes.indexOf(i)&&(n=!0)}),n},l=function(e){var n=!1;return UWA.is(e.modes,"array")&&-1!==e.modes.indexOf(t)&&(n=!0),n},p=function(e){var t=!1;return UWA.is(e.selection,"array")&&e.selection.forEach(e=>{e===r&&n>1?t=!0:o[e]===n&&(t=!0)}),t};i.enable&&(i.force&&!1===i.force.disable||s(i.enable)&&l(i.enable)&&p(i.enable))&&a.enable(),i.disable&&(i.force&&!0===i.force.disable||s(i.disable)||l(i.disable)||p(i.disable))&&a.disable()}})},h=function(e,t,n=!1){let i,o,a=u(e);a&&Object.keys(t).forEach(e=>{switch(e){case"disable":(i=n?!t.disable:t.disable)?a.disable():a.enable();break;case"state":o=n?!t.state:t.state,a.setState&&a.setState(o)}}),p.forEach(i=>{i.command===e&&UWA.is(t)&&(n?delete i.force:i.force=t)})},f=function(){let e=l&&l.commands||{};Object.keys(e).forEach(t=>h(t,e[t],!0)),m(),l={}};[{eventName:{event:"onLoadDataComplete"},callback:m,handler:c},{eventName:{event:"onModelChange:mode"},callback:m,handler:c},{eventName:{event:"setAppConfig"},callback:function(e={}){let t=(l=e.data||{}).commands||{};Object.keys(t).forEach(e=>h(e,t[e],!1))},handler:c},{eventName:{event:"onWidgetUnlinked"},callback:f,handler:c}].forEach(e=>{e.handler.subscribe(e.eventName,e.callback)}),g&&(g.onPostAdd(m),g.onPostRemove(m))}}),define("DS/DELWeb3DOpersReviewApp/OpenController",["UWA/Core","UWA/Class","UWA/Class/Promise","DS/DELWebComponentManager/DELWebComponentManager","DS/DELWebComponentManager/DELWebTypesUtil","DS/DELWebComponentManager/DELWebLinkManager","i18n!DS/DELWeb3DOpersReviewApp/assets/nls/DELWeb3DOpersReviewApp"],function(e,t,n,i,o,a,s){"use strict";const r="roots",l="DELOERStartupViewData",p="autoReload",c="toOpen",d="usePublishedContent";return t.extend({_openWithControl:async function(e){let t,a=i.getComponent("Viewer"),l=i.getComponent("SessionModel"),p=i.getComponent("OpenControl"),c=l.get(r),g=i.getComponent("Utils"),u=this;if(e&&!0===e.clear&&await n.all([a.empty(),this._pprController.empty()]),e&&e.items&&e.items.length>0){const l=performance.now();if(i.getComponent("SessionModel").set("PerformaceOpenedObject",l),await async function(){return e&&e.items?await async function(){var n=u._appOptions.get("supported_types"),a=u._appOptions.get("unsupported_types"),r=u._appOptions.get("unsupported_multiroot_types"),l=!0,p=await o.getTaxonomies(e.items.map(e=>e.id));return p&&Object.keys(p).length===e.items.length?(e.items.forEach(function(t){t.pprType=o.getPPRType(p[t.id]),(!n.some(e=>p[t.id].includes(e))||e.items.length>1&&r.some(e=>p[t.id].includes(e))||a.some(e=>p[t.id].includes(e)))&&(l=!1),g.trackChanges({category:"OpenedObjects",action:"LoadOpenedObjects",label:"OpenedObjects",dims:{pd1:t.type?t.type:t.pprType,pd2:t.pprType,pd3:e.length>1?"True":"False",pd4:l?"True":"False",pd5:t.withFilter?"True":"False"}})}),l||(t=e.items.length>1?s.get("ProcessNotSupportedMultiRootScenarios.Error.Message"):s.get("TypesNotSupported.Error.Message"),i.getComponent("Utils").displayNotification({level:"warning",message:t}),u._logger.error("Type not supported :",JSON.stringify(e)))):(t=s.get("NoObjectInformation.Error.Message"),i.getComponent("Utils").displayNotification({level:"warning",message:t}),l=!1,u._logger.error(t+": "+JSON.stringify(e))),l}():(u._logger.error("items property is missing, please check the format"),!1)}())if(c&&c.length>0&&(1===e.items.length&&e.items[0].pprType===o.PPRTYPES.PROCESS||1===c.length&&c[0].pprType===o.PPRTYPES.PROCESS)&&(await n.all([a.empty(),this._pprController.empty()]),i.getComponent("SessionModel").set(r,[]),this._setSessionData({})),e.items.length>1)p.openMultiRoots(e);else{let t=e.items[0];p.open({showForm:!0,installVolumeOffSet:widget.getInt("installVolumeOffSet"),installAutoApplyVolume:widget.getValue("installAutoApplyVolume"),usePublication:widget.getValue(d),...t})}else this._removeMask(),this._logger.error("Invalid input provided, please check the input"),g.trackChanges({category:"Performance",action:"RecordPerformance",label:"OpenedObjects",dims:{pd1:"False",pd2:"openWithControl"},vals:{pv1:performance.now()-l}})}else this._removeMask()},open:async function(e){this._checkLoadingStatus(e),this._cache.remove(c);try{!0===i.isInitialized("Viewer")&&!0===i.isInitialized("OpenControl")?(this._showMask(),this._openWithControl(e)):(this._cache.set(c,e),this._showMask())}catch(t){this._removeMask(),this._logger.error(`Failed to fetch attributes for the object id ${e.id}`,t.toString())}},_checkLinkAndOpen:function(e){this._publish("onDropData",e),a.isLinked()||this.open(e)},openWithButton:function(t){var n=this;i.getComponent("Utils").inAppsSearch({showApplyButton:!1,title:s.get("OpenContent.Title"),fts_value:'flattenedtaxonomies:"types/DELFmiFunctionReference" OR flattenedtaxonomies:"types/VPMReference"',search_criteria_to_display:"",callback:function(i){e.is(i)&&e.is(i,"array")&&i.length>0?n._checkLinkAndOpen({items:i.map(e=>({id:e.id,type:e["ds6w:type_value"],label:e["ds6w:label"],withFilter:t}))}):n._logger.error("The format of the data opened is not valid - ",i)}})},openWithDrop:function(t,n){e.is(t)&&e.is(t.data)&&e.is(t.data.items,"array")&&t.data.items.length>0?this._checkLinkAndOpen({items:t.data.items.map(e=>({id:e.objectId,type:e.objectType,label:e.displayName,withFilter:n}))}):this._logger.error("The format of the data dropped is not valid - ",t)},openContextualMenuCB:function(e,t){let n={items:[{id:t&&t.id?t.id:"",withFilter:e}]};this._checkLinkAndOpen(n)},openWithCache:function(t){if(!a.isLinked()){let n,o=this._cache.get(c),a=widget.getValue(p),r=this._getSessionData(),d=widget.getValue(l);a&&d&&i.getComponent("Utils").displayNotification({level:"warning",title:s.get("Failed.StartupViewLoading.Title"),subtitle:s.get("Failed.StartupViewLoading.Subtitle"),message:s.get("Failed.StartupViewLoading.Message"),sticky:!1}),a&&r&&e.is(r.items,"array")?(n=r).items.forEach(e=>{e.reframe=!0,e.operation&&(e.operation={})}):d&&!a?n=t.data:o&&(n=o),n?this.open(n):this._removeMask()}}})}),define("DS/DELWeb3DOpersReviewApp/DELWeb3DOpersReviewAppOptions",["UWA/Core","DS/Logger/Logger","DS/DELWeb3DOpersReviewApp/LandingPageOptions"],function(e,t,n){"use strict";return function(i){var o=t.getLogger("DELWeb3DOpersReviewAppOptions"),a={get:function(t){return i?function t(n,i){var o;if(e.is(n,"object"))if(Object.prototype.hasOwnProperty.call(n,i))o=n[i];else for(let a in n)if(Object.prototype.hasOwnProperty.call(n,a)&&(o=t(n[a],i),e.is(o)))return o;return o}(i,t):null},getModule:function(e){var t;return i.Components&&i.Components[e]?t=i.Components[e].code:o.error("AppConfig format is invalid, provide code and options"),t}};return Object.assign(a,n)}}),define("DS/DELWeb3DOpersReviewApp/DELWeb3DOpersReviewWidgetMain",["UWA/Core","UWA/Class","UWA/Class/Promise","DS/ApplicationFrame/CommandsManager","DS/DELWeb3DOpersReviewApp/DELWeb3DOpersReviewAppOptions","DS/DELWebComponentManager/DELWebComponentManager","DS/Logger/Logger","DS/UIKIT/Mask","DS/DELWebPPRController/DELWebPPRController","DS/DELWebComponentManager/DELWebTypesUtil","DS/DELWebComponentManager/DELWebLinkManager","DS/DELWeb3DOpersReviewApp/PreferencesManager","DS/DELWeb3DOpersReviewApp/CommandStateManager","DS/DELWeb3DOpersReviewApp/OpenController","DS/DELWeb3DOpersReviewApp/ContextMananger","text!DS/DELWeb3DOpersReviewApp/assets/json/AppConfig.json","text!DS/DELWeb3DOpersReviewApp/assets/json/DELWidgetLinkEvents.json","i18n!DS/DELWeb3DOpersReviewApp/assets/nls/DELWeb3DOpersReviewApp","css!DS/DELWeb3DOpersReviewApp/assets/css/DELWeb3DOpersReviewWidgetMain.css"],function(e,t,n,i,o,a,s,r,l,p,c,d,g,u,m,h,f,b){"use strict";const D=function(){var e={};return{set:function(t,n){e[t]=n},get:function(t){return e[t]},remove:function(t){delete e[t]},clear:function(){e={}}}},O="roots",w="mode",C="Graphics",v="defaultViewerMode",E="usePublishedContent",_="defaultPickability",L="webTimeout",S="installVolumeOffSet",W="installAutoApplyVolume",M="DELOERStartupViewData",y="autoReload",P="SessionData",A="ViewerContentLoaded",R="PPRContentLoaded",k="toOpen",U="onRefresh",V="onSearch",T="onLoadDataComplete",F="onLoadDataFailure",I="onGetContent",N="endEdit",j="onUpdatePreferences",x="updateOptions",B="loadData",G="onEmpty",H="setMode";var z=t.extend(u,{name:"DELWeb3DOpersReviewWidgetMain",_showMask:function(){r.mask(widget.body,b.get("WaitingPage.Title"))},_removeMask:function(){r.unmask(widget.body)},_publish:function(e,t){a.getComponent("ModelEvents").publish({event:e,data:{data:t,origin:"WidgetMain"}})},_getViewerOptions:function(){return{defaultViewerMode:widget.getValue(v),dynamicBuildUp:!widget.getValue(E),defaultPickability:widget.getValue(_),startUpView:this._getLinkabilityOptions().startUpView,viewerOptions:{delviewer:{run_options:{webapi_timeout:{value:widget.getValue(L)||7e4}}}}}},_getLinkabilityOptions:function(){return{startUpView:{setViewpoint:!widget.getValue(y),enable:!c.isLinked()}}},_getSessionData:function(){return widget.getValue(P)},_removeFilter:function(e){function t(e){e&&e.filter&&(e.withFilter=!1,delete e.filter)}e&&UWA.is(e.items,"array")&&e.items.length>0&&e.items.forEach(e=>{t(e),t(e.scopedMfg),t(e.resource)})},_setSessionData:function(e){let t=UWA.clone(e);this._removeFilter(t),widget.setValue(P,t)},_checkLoadingStatus:function(e){var t=[],n=a.getComponent("ModelEvents"),i=a.getComponent("SessionModel"),o=function(){t&&t.length>0&&t.forEach(e=>{n.unsubscribe(e)}),t=[]},s=e&&e.items?e.items:[],r=function(t,n,a){let r=a&&a.data?a.data:null;if(r&&s&&s.length>0){let a=0;s.forEach(e=>{e.id===r.id&&(e[t]=n)}),!1===n?(this._publish(F,{items:[r]}),o()):(s.forEach(e=>{!0!==e[A]||!0!==e[R]&&!1!==this._pprController.is2DStructureEnabled()||a++}),a===s.length&&(this._publish(T,e),o(),this._setSessionData({items:i.get(O)||[]})))}};[{name:"onProcessLoadCompleted",callback:r.bind(this,A,!0)},{name:"onProcessLoadFailed",callback:r.bind(this,A,!0)},{name:"onRootAdded",callback:r.bind(this,A,!0)},{name:"onLoadingFailure",callback:r.bind(this,A,!1)},{name:"onLoad2DStructureComplete",callback:r.bind(this,R,!0)},{name:"onLoad2DStructureFailed",callback:r.bind(this,R,!1)}].forEach(e=>{t.push(n.subscribe({event:e.name},e.callback))})},_onLoadData:function(e){var t=e&&e.data?e.data:null;t?this.open(t):this._logger.error("Invalid Input Provided, please check the format")},_onGetContent:function(){this._publish(I,{items:a.getComponent("SessionModel").get(O)})},_onRemoveRoots:function(e){e&&e.data&&this._publish("onRemoveRoots",e.data)},_onRemoveAll:function(){i.getCommand("Home").execute()},_onWidgetLinkUnlink:function(e){this._publish(x,this._getLinkabilityOptions())},_empty:function(){var e=a.getComponent("Viewer");e&&e.empty(),this._pprController.empty(),a.getComponent("Utils").abortAllRequests(),a.getComponent("SessionModel").clean()},_cleanAll:function(){this._empty(),this._setSessionData({})},_onHome:function(){a.getComponent("Viewer").hideViewer(),a.getComponent("LandingPage").showLandingPage(),this._empty()},_onOpenFilter:function(){this._removeMask()},_toggleStartupView:function(e,t={}){e?widget.setValue(M,t):widget.deleteValue(M)},_onError:function(e){e=e||{},this._removeMask(),this._logger.error(JSON.stringify(e)),a.getComponent("Utils").trackChanges({category:"Performance",action:"RecordPerformance",label:"OpenedObjects",dims:{pd1:"False",pd2:"openControl"},vals:{pv1:performance.now()-a.getComponent("SessionModel").get("PerformaceOpenedObject")}})},_onOpen:function(e){let t=a.getComponent("LandingPage"),i=a.getComponent("Viewer"),o=a.getComponent("SessionModel"),s=o.get(O),r=n.resolve(),l=this;this._removeMask(),t.hideLandingPage(),i.showViewer(),e.results&&r.then(function(){l._logger.log("Open completed  - ",JSON.stringify(e)),o.set(O,UWA.is(s,"array")?s.concat(e.results):e.results),o.set(w,C),e.results.forEach(e=>{l._publish(B,e)}),a.getComponent("LandingPage").addMRUItems({ids:e.results.map(e=>e.id)}),a.getComponent("Utils").trackChanges({category:"Performance",action:"RecordPerformance",label:"OpenedObjects",dims:{pd1:"True"},vals:{pv1:performance.now()-a.getComponent("SessionModel").get("PerformaceOpenedObject")}})})},_onCancel:function(){let e=a.getComponent("LandingPage"),t=a.getComponent("Viewer");this._removeMask(),t.hideViewer(),e.showLandingPage(),this._publish(G),a.getComponent("Utils").trackChanges({category:"Performance",action:"RecordPerformance",label:"OpenedObjects",dims:{pd1:"False",pd2:"openControl"},vals:{pv1:performance.now()-a.getComponent("SessionModel").get("PerformaceOpenedObject")}})},_onViewerReady:function(e){var t=a.getComponent("Viewer");m.setContext(),t.getViewer().inject(this._appMainDiv),t.hideViewer(),this.openWithCache(e),this._parent(e)},init:function(t){var n=this;this._appOptions=new o(widget.getValue("oerAppConfigODT")?widget.getValue("oerAppConfigODT"):JSON.parse(h)),this._appMainDiv=e.createElement("div",{class:"appMain"}),this._logger=s.getLogger("DELWeb3DOpersReviewWidgetMain"),this._cache=new D,this._pprController,this._filterToken,this._dndOptions={onDrop:this.openWithDrop.bind(this),nls:{open:b.get("DragAndDrop.icon.Title"),openWithFilter:b.get("DragAndDropWithFilter.icon.Title")}},widget.addEvent(V,function(e){n._publish(V,e)}),widget.addEvent(N,function(e){let t=d.getPreferencesObject();e&&!0===e.submitted&&(n._publish(j,Object.assign(t,n._getViewerOptions())),d.isPreferencesModified([v])&&n._publish(H,{mode:t[v]}))}),widget.addEvent(U,function(){let e=a.getComponent("SessionModel").get(O);if(a.getComponent("Utils").abortAllRequests(),function(){let t=e||[];return function(e){return e&&e.pprType===p.PPRTYPES.PROCESS}(t[0])&&(n=t[0])&&n.scopedMfg&&n.scopedMfg.occurrence&&n.scopedMfg.occurrence.length>0&&d.isPreferencesModified([S,W]);var n}()){let t=e[0];n.open({items:[{id:t.id,withFilter:t.withFilter}]})}else n._publish(U)}),t.done(this._appMainDiv)},onLoad:async function(){var e=this,t=function(t){let n={Components:{}};return t.forEach(t=>{let i=e._appOptions.get(t);i.options=Object.assign({},e._appOptions.get("AppOptions"),i.options),n.Components[t]=i}),n};await e._showMask(),await async function(){var n,i,o;await a.create(t(["LandingPage"])),await a.initialize("LandingPage",Object.assign((n=e._appOptions.getLandingPageOptions(),i={OpenItem:e.openWithButton.bind(e,!1),OpenItemWithFilter:e.openWithButton.bind(e,!0)},o={OpenItem:e.openContextualMenuCB.bind(e,!1),OpenItemWithFilter:e.openContextualMenuCB.bind(e,!0)},n&&n.buttons&&UWA.is(n.buttons.items)&&n.buttons.items.forEach(function(e){i[e.id]&&(e.onAction=i[e.id])}),n&&n.MRU&&(n.MRU.onDoubleClick&&(n.MRU.onDoubleClick=e.openContextualMenuCB.bind(e,!1)),n.MRU.contextualMenu&&UWA.is(n.MRU.contextualMenu.items,"array")&&n.MRU.contextualMenu.items.forEach(e=>{o[e.id]&&(e.onAction=o[e.id])})),n),{container:e._appMainDiv,dndOptions:e._dndOptions}))}(),await function(){let t=a.getComponent("ModelEvents");[{eventName:{event:"loadDataFromOtherWidget"},callback:e._onLoadData,handler:t},{eventName:{event:"removeRoots"},callback:e._onRemoveRoots,handler:t},{eventName:{event:"removeAll"},callback:e._onRemoveAll,handler:t},{eventName:{event:"onViewerReady"},callback:e._onViewerReady,handler:t},{eventName:{event:"getContent"},callback:e._onGetContent,handler:t},{eventName:{event:"freeze"},callback:e._showMask,handler:t},{eventName:{event:"unFreeze"},callback:e._removeMask,handler:t},{eventName:{event:"onWidgetLinked"},callback:e._onWidgetLinkUnlink.bind(e,!0),handler:t},{eventName:{event:"onWidgetUnlinked"},callback:e._onWidgetLinkUnlink.bind(e,!1),handler:t},{eventName:{event:"onHome"},callback:e._onHome,handler:t},{eventName:{event:"cleanAll"},callback:e._cleanAll,handler:t},{eventName:{event:"onOpenFilter"},callback:e._onOpenFilter,handler:t},{eventName:{event:"onStartupViewSet"},callback:e._toggleStartupView.bind(e,!0),handler:t},{eventName:{event:"onStartupViewRemoved"},callback:e._toggleStartupView.bind(e,!1),handler:t}].forEach(t=>{t.handler.subscribe(t.eventName,t.callback.bind(e))})}(),await async function(){await c.initializeWidgetLink(window.widget,e._appOptions.get("AppOptions").widget_linkability,JSON.parse(f))}(),function(){let t=e._getSessionData();return UWA.is(widget.getValue(M))||widget.getValue(y)&&t&&UWA.is(t.items,"array")}()&&!c.isLinked()||e._removeMask(),function(){let t=widget.getValue("X3DContentId");UWA.is(t)&&e.openWithDrop(JSON.parse(t),!1)}(),await async function(){await a.create(t(["Viewer","MBOM","PRODUCT","RESOURCE","PROCESS","OpenControl"]))}(),await n.all([async function(){e._pprController=new l(e._appOptions),await e._pprController.initialize([p.PPRTYPES.PROCESS,p.PPRTYPES.MBOM,p.PPRTYPES.PRODUCT,p.PPRTYPES.RESOURCE])}(),async function(){await a.initialize("Viewer",{dndOptions:e._dndOptions,...e._getViewerOptions()})}()]),await async function(){let t=e._appOptions.get("AppOptions").preferences;d.addPreferences(t)}(),await async function(){let t=a.getComponent("Viewer");await a.initialize("OpenControl",{container:e._appMainDiv,filterProxy:t.getFilterProxy(),NGFUXId:t.getNGFUXID(),onOpen:e._onOpen.bind(e),onCancel:e._onCancel.bind(e),onError:e._onError.bind(e)})}(),new g;let i=this._cache.get(k);i&&this.open(i),e._publish("onAppReady")}});return UWA.namespace("DS/DELWeb3DOpersReviewApp/DELWeb3DOpersReviewWidgetMain",z)}),define("DS/DELWeb3DOpersReviewApp/DELWeb3DOpersReviewAppInit",["DS/Logger/Logger","DS/WAfrContainer/App","DS/DELWeb3DOpersReviewApp/DELWeb3DOpersReviewWidgetMain"],function(e,t,n){"use strict";var i=e.getLogger("DELWeb3DOpersReviewAppInit");return t.extend({setUp:function(e){try{new n(e).onLoad(this)}catch(e){throw i.debug(e),new Error("Error Occurred while loading Widget")}},onWillEnter:function(){},onWillLeave:function(){},dispose:function(){}})});