define("DS/WebInWinUtils/CATMessageLogger",[],function(){"use strict";return{debug:function(e){this.__emit("debug",e)},error:function(e){this.__emit("error",e)},info:function(e){this.__emit("info",e)},warn:function(e){this.__emit("warn",e)},__emit:function(e,t){if("string"==typeof e)switch(e){case"debug":case"error":case"info":case"warn":console[e](`${(new Date).toLocaleDateString("en-US",{year:"numeric",month:"2-digit",day:"2-digit"})} - ${(new Date).toLocaleTimeString("en-US")} : [A2X WebViewer] : ${t}`)}}}}),define("DS/WebInWinUtils/CATMessageProtocol",[],function(){"use strict";var e={checkType:function(e,t,n,i){const a=typeof t;if(a!==n)throw new TypeError("Argument "+String(e+1)+" for function "+i+"() should be of type: "+n+". Actual type is: "+a)},hasParameter:function(e,t){return new URLSearchParams(e).has(t)},isExpectedType:function(e){return"string"===typeof e&&e.length>1},isRightFlowDirection:function(e){return"server"===e.data.from&&"client"===e.data.to},isSameSite:function(t){return e.removeParameterFromUrl(window.location.href,"WiWdgetId")===t||window.location.href===t},isUnSupportedType:function(e){const t=typeof e;return"undefined"===t||"function"===t||"symbol"===t},removeParameterFromUrl:function(e,t){const n=new URL(e);if(n.search&&n.searchParams.get(t))return n.searchParams.delete(t),n.toString()}};return e}),define("DS/WebInWinUtils/CATMessageChannel",["DS/WebInWinUtils/CATMessageLogger","DS/WebInWinUtils/CATMessageProtocol"],function(e,t){"use strict";var n={start:function(){window.addEventListener("message",async function(n){if(!t.isRightFlowDirection(n))return;const i=n.data.message;if(t.hasParameter(i.search,"WiWdgetId")&&t.isSameSite(i.navigationURL))try{switch(i.type){case"RunJavaScript":window.eval(i.code)}}catch(t){if(!(t instanceof SyntaxError))throw t;e.warn(`#${t.name}# due to ${t.message}`),e.warn(`#${t.name}# with stack ${t.stack}`),e.error(`Could not execute ${i.code} using ${i.type}() on webviewer with url: ${i.navigationURL}`)}}),window.addEventListener("contextmenu",async function(t){"boolean"!=typeof t.cancelable||t.cancelable?void 0!==t.preventDefault&&t.preventDefault():(e.warn(`The ${t.type} event couldn't be canceled.`),e.warn(`Indeed, cancelable property is : ${t.cancelable}.`),e.warn("So, browser's default context-menu will appear.")),this.dscef.__postMessage({type:"onBeforeContextMenu",navigationURL:window.location.href,search:window.location.search})}.bind(this),!1)},dscef:{getContext:function(e){return t.isExpectedType(e)?(this.__postMessage({type:"getContext",params:e,navigationURL:window.location.href,search:window.location.search}),new Promise((e,t)=>{this.__receiveMessage("getContext",e,t)})):Promise.reject(new Error("1st argument is invalid: the name should be a non-empty string"))},getMyAppsURL:function(){return this.__postMessage({type:"getMyAppsURL",navigationURL:window.location.href,search:window.location.search}),new Promise((e,t)=>{this.__receiveMessage("getMyAppsURL",e,t)})},loadHomepage:function(){this.__postMessage({type:"loadHomepage",navigationURL:window.location.href,search:window.location.search})},loadValue:function(e){return t.isExpectedType(e)?(this.__postMessage({type:"loadValue",params:e,navigationURL:window.location.href,search:window.location.search}),new Promise((e,t)=>{this.__receiveMessage("loadValue",e,t)})):Promise.reject(new Error("1st argument is invalid: the name should be a non-empty string"))},saveValue:function(e,n){return t.isExpectedType(e)?t.isUnSupportedType(n)?Promise.reject(new Error(`2nd argument is invalid: unsupported type ${typeof n}`)):(this.__postMessage({type:"saveValue",params:[e,n],navigationURL:window.location.href,search:window.location.search}),new Promise((e,t)=>{this.__receiveMessage("saveValue",e,t)})):Promise.reject(new Error("1st argument is invalid: the name should be a non-empty string"))},sendString:function(...e){let n=[];const i=e.length;if(i<1)throw new Error("The sendString() function needs at least one argument.");for(let a=0;a<i;++a){const i=e[a];t.checkType(a,i,"string","sendString"),n.push(i)}this.__postMessage({type:"sendString",params:n,navigationURL:window.location.href,search:window.location.search})},showNotification:function(e,n,i){t.checkType(0,e,"string","showNotification"),t.checkType(1,n,"string","showNotification"),t.checkType(2,i,"number","showNotification"),this.__postMessage({type:"showNotification",params:[e,n,i],navigationURL:window.location.href,search:window.location.search})},__postMessage(e){var t=window.location!==window.parent.location?document.referrer:document.location.href;window.parent.postMessage({message:e,from:"client",to:"server"},t)},__receiveMessage(n,i,a){window.addEventListener("message",async function(o){if(!t.isRightFlowDirection(o))return;const r=o.data.message;if(t.hasParameter(r.search,"WiWdgetId")&&t.isSameSite(r.navigationURL))try{switch(r.type){case n:r.error?a(r.params):i(r.params)}}catch(t){e.warn(`#${t.name}# due to ${t.message}`),e.warn(`#${t.name}# with stack ${t.stack}`),e.error(`Could not execute ${r.type}() on webviewer with url: ${r.navigationURL}`)}},{once:!0})}}};return Object.defineProperty(n.dscef,"isA2X",{value:!0,writable:!1,configurable:!1}),n}),define("DS/WebInWinUtils/_dscef",["DS/WebInWinUtils/CATMessageChannel"],function(e){"use strict";var t={getGlobalScope:function(){var t=null;try{t=window.dscef?window.dscef:dscef}catch(n){n instanceof ReferenceError&&(t=e.dscef,e.start(),window.dscef=t)}return t}};return t.getGlobalScope()}),define("DS/WebInWinUtils/dscef",["DS/WebInWinUtils/_dscef"],function(e){"use strict";var t={isA2X:function(){return!!("function"==typeof Object.hasOwn&&Object.hasOwn(e,"sendString")&&Object.hasOwn(e,"__postMessage")&&this.__hasSearchParam())||!!("function"==typeof e.hasOwnProperty&&e.hasOwnProperty("sendString")&&e.hasOwnProperty("__postMessage")&&this.__hasSearchParam())},is3Dx:function(){return!("function"!=typeof Object.hasOwn||!Object.hasOwn(e,"sendString")||Object.hasOwn(e,"__postMessage")||this.__hasSearchParam())||!("function"!=typeof e.hasOwnProperty||!e.hasOwnProperty("sendString")||e.hasOwnProperty("__postMessage")||this.__hasSearchParam())},__hasSearchParam:function(){const e=new URL(window.location.href);return!!e.search&&!!e.searchParams.get("WiWdgetId")}};return t.isA2X()?e:t.is3Dx()?(Object.defineProperty(e,"isA2X",{value:!1,writable:!1,configurable:!1}),e):void 0});