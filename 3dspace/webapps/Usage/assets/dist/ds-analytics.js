!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("DS",[],t):"object"==typeof exports?exports.DS=t():e.DS=t()}("undefined"!=typeof self?self:this,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){var r;void 0===(r=function(){"use strict";function e(e){return null==e?e+"":typeof e}function t(t){return!("object"!==e(t)||t.nodeType||null!=t&&t===t.window)&&!(t.constructor&&!n(t.constructor.prototype,"isPrototypeOf"))}function n(e,t){return null!=e&&hasOwnProperty.call(e,t)}function r(e){return function(){var r,o,i,s,c,d,u=arguments[0]||{},l=1,p=arguments.length,g=!1;for("boolean"==typeof u&&(g=u,u=arguments[l]||{},l++),"object"!=typeof u&&"function"!=typeof u&&(u={});l<p;l++)if(null!=(r=arguments[l]))for(o in r)if(e||n(r,o)){if(i=u[o],u===(s=r[o]))continue;g&&s&&(t(s)||(c=Array.isArray(s)))?(c?(c=!1,d=i&&Array.isArray(i)?i:[]):d=i&&t(i)?i:{},u[o]=a.extend(g,d,s)):void 0!==s&&(u[o]=s)}return u}}var a={assign:r(),extend:r(!0),clone:function(){var t=arguments[0],n=!1;return"boolean"===e(t)&&(n=t,t=arguments[1]),a.extend(n,{},t)},inherit:function(){var e,t=arguments[0],n=arguments[1];return t.prototype=Object.create("function"==typeof n?n.prototype:n),t.prototype.constructor=t,arguments.length>2&&((e=[].slice.call(arguments,2)).unshift(t.prototype),a.assign.apply(null,e)),t}};return a}.call(t,n,t,e))||(e.exports=r)},function(e,t,n){var r;void 0===(r=function(){"use strict";return{counter:{increment:"counter:increment"},timer:{start:"timer:start",stop:"timer:stop"},tracker:{creation:"tracker:creation",update:"tracker:update",getContent:"tracker:get-content",gotContent:"tracker:got-content"},page:{view:"page:view",event:"page:event",interaction:"page:interaction",performance:"page:performance"},interaction:{custom:"interaction:custom"},performance:{enableCustomPerformance:"performance:enablecustom",custom:"performance:custom"},data:{register:"data:register"},window:{init:"window:init"},error:{runtime:"error:runtime",custom:"error:custom"},gdpr_banner:{custom:"gdpr_banner:custom"}}}.call(t,n,t,e))||(e.exports=r)},function(e,t,n){var r;void 0===(r=function(){"use strict";return{on:function(e,t){return this.listeners=this.listeners||{},e in this.listeners?this.listeners[e].push(t):this.listeners[e]=[t],this},trigger:function(e){var t=Array.prototype.slice;return this.listeners=this.listeners||{},e in this.listeners&&this.invoke(this.listeners[e],t.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments),this},invoke:function(e,t){for(var n=0,r=e.length;n<r;n++)e[n].apply(this,t)},off:function(e,t){var n;return e in this.listeners&&(t?(n=this.listeners[e].indexOf(t))>=0&&this.listeners[e].splice(n,1):this.listeners[e]=[]),this}}}.call(t,n,t,e))||(e.exports=r)},function(e,t,n){"use strict";n.r(t),n.d(t,"analytics",(function(){return o}));var r=n(4),a=n(9),o={init:function(e){r.init(e),a.init()},trackPageView:a.trackPageView,trackPageEvent:a.trackPageEvent,trackPageError:a.trackPageError,trackPageInteraction:a.trackPageInteraction,registerData:a.registerData,enableCustomPerformance:a.enableCustomPerformance,trackPagePerformance:a.trackPagePerformance}},function(e,t,n){var r,a;r=[n(5)],void 0===(a=function(e){return{init:function(){var t;t="string"==typeof arguments[0]?{uploadPath:arguments[0],service:arguments[1],user:arguments[2]}:arguments[0]||{},e.init(t)}}}.apply(t,r))||(e.exports=a)},function(e,t,n){var r,a;r=[n(0),n(6),n(7),n(1),n(8)],void 0===(a=function(e,t,n,r,a){var o={themKey:"webapp",interactionLast10min:0,isLoadEventEndExists:!1,user:null,newVisitor:!1,trackerVersion:"2.0.17"},s=[];const c=new Map;var d,u,l,p={scrollable:function(e){return e.clientWidth<e.offsetWidth||"scroll"==e.style.overflowY||"auto"==e.style.overflowY},getAppScrollableContainer:function(e){for(var t,n=e;n;)n.clientHeight<n.scrollHeight&&this.scrollable(n)&&(t=n),n=n.parentNode;return t||document.body},containerHeight:function(e){var t=Math.max(e.scrollHeight,e.offsetHeight,e.clientHeight);return e.getBoundingClientRect().top+t},containerWidth:function(e){var t=Math.max(e.scrollWidth,e.offsetWidth,e.clientWidth);return e.getBoundingClientRect().left+t},viewportTop:function(e){return e.scrollTop},viewportBottom:function(e){return this.viewportTop(e)+(window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight)},viewportLeft:function(e){return e.scrollLeft},viewportRight:function(e){return this.viewportLeft(e)+(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)}},g=function(e){var t=e.topic.split(":");return(t=t.length>2?t.slice(0,2):t).join(":")},m={flatten:function(t,n){t[n]&&Array.isArray(t[n])&&(t[n].forEach((function(n){e.extend(t,n)})),delete t[n])},flattenData:function(e){e&&e.data&&["persDimPages","persValPages","persDimPageEvents","persDimInteractions","persValPageEvents","persDimPageError","persValPageError","persValInteractions"].forEach((function(t){m.flatten(e.data,t)}))},parseQuery:function(e){var t=e.substring(e.indexOf("?")+1).split(/[&;]/),n={};return t.length&&t.forEach((function(e){var t=e.indexOf("=")+1,r=t?e.substr(t):"",a=t?e.substr(0,t-1).match(/([^\]\[]+|(\B)(?=\]))/g):[e],o=n;a&&(r=decodeURIComponent(r),a.forEach((function(e,t){e=decodeURIComponent(e);var n=o[e];t<a.length-1?o=o[e]=n||{}:Array.isArray(n)?n.push(r):o[e]=void 0!==n?[n,r]:r})))})),n},parseUrl:(u=["source","subprotocol","protocol","authority","user","password","domain","port","path","directoryPath","fileName","query","anchor"],l=new RegExp("^(?:(?:(?:([^#.:]+):)?([^#.:]+):)?//)?((?:([^:/]+)(?::([^/]*?))?@)?([^:/?#]*)(?::(\\d*))?)?((/(?:[^?#](?![^?#/]*\\.[^?#/.]+(?:[\\?#]|$)))*/?)?([^?#/]*))?(?:\\?([^#]*))?(?:#(.*))?"),function(e){var t,n=l.exec(e),r={};for(t=0;t<u.length;t++)r[u[t]]=n[t]||"";return r.subprotocol&&(r.source=r.source.substr(r.subprotocol.length+1)),r.port||(r.port="https"===r.protocol?"443":"80"),r.directoryPath&&r.directoryPath.length>0&&(r.directoryPath=r.directoryPath.replace(/\/?$/,"/")),r.domain=r.domain.toLocaleLowerCase(),r.protocol=r.protocol.toLocaleLowerCase(),r}),clearData:function(e){e.sessions=[];var t={};e.pages.forEach((function(e){t[e.trackerscope]=e})),t=Object.keys(t).map((function(e){return t[e]})),e.pages=t.sort((function(e,t){return e.timestamp-t.timestamp})),e.interactions=[],e.events=[],e.errors=[],e.performances=[]},pruneData:function(e){e.sessions=e.sessions.slice(0,100),e.pages=e.pages.slice(0,100),e.interactions=e.interactions.slice(0,100),e.events=e.events.slice(0,100),e.performances=e.performances.slice(0,100)},getValidURL:(d=document.createElement("a"),function(e){return d.href=e,d.href}),models:[{internal:"pages",payload:"usage"},{internal:"events",payload:"usage"},{internal:"interactions",payload:"usage"},{internal:"performances",payload:"usage"},{internal:"errors",payload:"usage"},{internal:"sessions",payload:"cusage"}],getLastPageID:function(e,t){var n,r=e&&e.pages,a=[];return r&&r.length&&(a=t?r.filter((function(e){return e.trackerscope&&e.trackerscope===t})):r.filter((function(e){return!e.trackerscope}))),(n=a.pop())&&n.id||""},getUTMParameters:function(){var e={},t=m.parseQuery(window.location.search);return t?(["utm_source","utm_medium","utm_campaign","utm_term","utm_content"].forEach((function(n){t.hasOwnProperty(n)&&(Array.isArray(t[n])?t[n].length>0&&(e[n]=t[n][0]):e[n]=t[n])})),e):e},getTopDomain:function(){var e,t=m.parseUrl(window.location).domain,n="";if(!/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/g.test(t)&&"localhost"!==t){for(e=t.split(".");e.length>2;)e.shift();n=e.join(".")}return n},getConsentsAttributes:function(){var e={};return a.isFunctionalConsent()?e={consent:!0,visitormode:"optin"}:a.hasConsent()?a.hasConsent()&&!a.isFunctionalConsent()&&(e={consent:!0,visitormode:"optout",casUser:"",user_uuid:"",cookie_vuid:"",user:""}):e={consent:!1,visitormode:"noconsent",casUser:"",user_uuid:"",cookie_vuid:""},e},getSession:function(n){return n=n||{},e.extend(n,{r_schemaName:"wasession4",r_schemaVersion:"1.67",r_service:o.service,tracker_version:o.trackerVersion,r_timestamp:Date.now(),timezone_offset:(new Date).getTimezoneOffset(),them:o.themKey,sessionID:t.getCookie("_dss"),cookie_vuid:t.getCookie("VUID"),user:t.getCookie("_dsu"),casUser:o.authUser?t.sha256(o.authUser):"",referrer:document.referrer,newVisitor:o.newVisitor,serverhostname:o.hostname,locale:navigator.language||"en-US",enginename:t.clientEngine.name,userAgent:t.clientEngine.userAgent,engineversion:t.clientEngine.version,userAgent:navigator.userAgent,platformname:t.clientPlatform.name,platformmobile:t.clientPlatform.mobile,resheight:t.clientPlatform.resheight,reswidth:t.clientPlatform.reswidth,startTime:o.navigationStart,is_crossdomain:!!o.isCrossDomain}),o.userUUID&&(n.user_uuid=t.sha256(o.userUUID)),e.extend(n,m.getUTMParameters()),e.extend(n,m.getConsentsAttributes()),n}},f={crossDomainApply:function(e){var t=["3ds.com$","solidworks.com$","solidworks.co.jp$","solidworks.co.kr$","solidworks.com.cn$","solidworks.com.tr$","solidworks.cz$","solidworks.de$","solidworks.es$","solidworks.fr$","solidworks.hu$","solidworks.it$","solidworks.pl$","home.by.me$","draftsight.com$","edrawingsviewer.com$","3dcontentcentral.cn$","3dcontentcentral.com$","3dcontentcentral.com.br$","3dcontentcentral.com.tr$","3dcontentcentral.de$","3dcontentcentral.es$","3dcontentcentral.fr$","3dcontentcentral.it$","3dcontentcentral.jp$","3dcontentcentral.kr$","3dcontentcentralsupplierbenefits.com$","3dexperienceworld.com$","lafondation3ds.org$","swugn.org$"],n=new URL(e),r=new URL(window.location.href);let a=n.hostname,s=r.hostname;for(i=0;i<t.length;i++)if(a.match(t[i])){if(s.match(t[i]))return null;return n.toString().length+o.sessionID.length+o.user.length+16>2048?null:(n.searchParams.set("3dssid",o.sessionID),n.searchParams.set("3dsvid",o.user),n.toString())}return null},crossDomainCheck:function(e){if(o.sessionID&&e.srcElement){e.srcElement.href?f.crossDomainApply(e.srcElement.href)&&(e.srcElement.href=f.crossDomainApply(e.srcElement.href)):e.srcElement.parentElement.href?f.crossDomainApply(e.srcElement.parentElement.href)&&(e.srcElement.parentElement.href=f.crossDomainApply(e.srcElement.parentElement.href)):e.srcElement.parentElement.parentElement.href&&f.crossDomainApply(e.srcElement.parentElement.parentElement.href)&&(e.srcElement.parentElement.parentElement.href=f.crossDomainApply(e.srcElement.parentElement.parentElement.href))}},getWidgetData:function(e){var t={};return e&&e.widget&&(t.widgetinstancetitle=e.widget.title,t.widgetinstanceid=e.widget.id,t.appID=e.widget.data&&e.widget.data.appId),t},startPerformanceTracking:function(e){var t=this;e.setInterval((function(){o.isLoadEventEndExists||f.getLoadingPerformanceTracking.bind(t,e)(),Date.now()-o.interactionLast10min<6e4&&f.getResourcePerformanceTracking.bind(t,e)()}),5e3),f.getResourcePerformanceTracking.bind(t,e)()},getResourcePerformanceTracking:function(e){var t={initiatorType:[],blockingStatus:[],name:[],duration:[],startTime:[],transferSize:[],timeOrigin:performance.timeOrigin?Math.round(performance.timeOrigin):0};const n=e.frameElement?s.includes(e.frameElement.id):s.includes("top");if(e.performance.getEntriesByType("resource").map(e=>{e.name.match("/upload$")||e.initiatorType&&e.renderBlockingStatus&&e.name&&e.duration&&e.duration>0&&(!n||"fetch"!==e.initiatorType&&"xmlhttprequest"!==e.initiatorType)&&(t.initiatorType.push(e.initiatorType.slice(0,2)),"non-blocking"==e.renderBlockingStatus?t.blockingStatus.push("f"):t.blockingStatus.push("t"),t.name.push(e.name>2048?e.name.slice(0,2047):e.name),t.duration.push(Math.round(e.duration)),t.startTime.push(Math.round(e.startTime)),t.transferSize.push(Math.round(e.transferSize)))}),t.initiatorType.length>0){var a,o={topic:r.page.performance,data:{}};if(t.duration&&(o.data.d=t.duration),t.name&&(o.data.n=t.name),t.initiatorType&&(o.data.i=t.initiatorType),t.blockingStatus&&(o.data.b=t.blockingStatus),t.startTime&&(o.data.s=t.startTime),t.transferSize&&(o.data.ts=t.transferSize),t.timeOrigin&&(o.data.timeorigin=t.timeOrigin),!Object.keys(o.data).length)return;o.data={...o.data,...f.getWidgetData(e)},a={data:JSON.stringify(o)},this.readMessage(a)}e.performance.clearResourceTimings()},getLoadingPerformanceTracking:function(e){var t,n={topic:r.page.performance,data:{}};e.performance.getEntriesByType("navigation")[0].fetchStart&&(n.data.fetchstart=Math.round(e.performance.getEntriesByType("navigation")[0].fetchStart)),e.performance.getEntriesByType("navigation")[0].domainLookupStart&&(n.data.domainlookupstart=Math.round(e.performance.getEntriesByType("navigation")[0].domainLookupStart)),e.performance.getEntriesByType("navigation")[0].domainLookupEnd&&(n.data.domainlookupend=Math.round(e.performance.getEntriesByType("navigation")[0].domainLookupEnd)),e.performance.getEntriesByType("navigation")[0].connectStart&&(n.data.connectstart=Math.round(e.performance.getEntriesByType("navigation")[0].connectStart)),e.performance.getEntriesByType("navigation")[0].connectEnd&&(n.data.connectend=Math.round(e.performance.getEntriesByType("navigation")[0].connectEnd)),e.performance.getEntriesByType("navigation")[0].requestStart&&(n.data.requeststart=Math.round(e.performance.getEntriesByType("navigation")[0].requestStart)),e.performance.getEntriesByType("navigation")[0].responseStart&&(n.data.responsestart=Math.round(e.performance.getEntriesByType("navigation")[0].responseStart)),e.performance.getEntriesByType("navigation")[0].responseEnd&&(n.data.responseend=Math.round(e.performance.getEntriesByType("navigation")[0].responseEnd)),e.performance.getEntriesByType("navigation")[0].domInteractive&&(n.data.dominteractive=Math.round(e.performance.getEntriesByType("navigation")[0].domInteractive)),e.performance.getEntriesByType("navigation")[0].domComplete&&(n.data.domcomplete=Math.round(e.performance.getEntriesByType("navigation")[0].domComplete)),e.performance.getEntriesByType("navigation")[0].loadEventStart&&(n.data.loadeventstart=Math.round(e.performance.getEntriesByType("navigation")[0].loadEventStart)),e.performance.getEntriesByType("navigation")[0].loadEventEnd&&(n.data.loadeventend=Math.round(e.performance.getEntriesByType("navigation")[0].loadEventEnd),o.isLoadEventEndExists=!0),e.performance.getEntriesByType("navigation")[0].name&&(n.data.pagename=e.performance.getEntriesByType("navigation")[0].name>2048?e.performance.getEntriesByType("navigation")[0].name.slice(0,2047):e.performance.getEntriesByType("navigation")[0].name),e.performance.timeOrigin&&(n.data.timeorigin=Math.round(e.performance.timeOrigin)),n.data={...n.data,...f.getWidgetData(e)},Object.keys(n.data).length&&(t={data:JSON.stringify(n)},this.readMessage(t))},enableUserInteraction:function(n,a){o.interactionLast10min=Date.now();var i=a&&a.target,s=i&&p.getAppScrollableContainer(i),c={};if(i&&m.getLastPageID(this)&&("scroll"!==a.type||s===i)){e.extend(c,{interactionid:t.uuid(),action:a.type,viewportTop:p.viewportTop(s),viewportBottom:p.viewportBottom(s),viewportLeft:p.viewportLeft(s),viewportRight:p.viewportRight(s),pageWitdh:p.containerWidth(s),pageHeight:p.containerHeight(s)}),["id","className","tagName"].forEach((function(e){var t=i[e];t&&("string"==typeof t||t instanceof String)&&(c[e]=i[e])})),["clientX","clientY"].forEach((function(e){a[e]&&(c[e]=a[e]),a.touches&&a.touches[0]&&a.touches[0][e]&&(c[e]=a.touches[0][e])}));var d={topic:r.page.interaction,data:c};d.data={...d.data,...f.getWidgetData(n)};var u={data:JSON.stringify(d)};this.readMessage(u)}},getRateLimitState:function(e){return c.get(e)},replaceRateLimitState:function(e,t,n){if(c.get(e)!==n)throw new Error("Attempted to take multiple tokens simultaneously");c.set(e,t)},update:function({tokenCount:e,timestamp:t},{RATE_LIMITER_INTERVAL:n,RATE_LIMITER_CAPACITY:r},a){const o=Math.floor((a-t)/n);var i=0;return{tokenCount:i=o>0?Math.min(e+o,r):e,timestamp:i<r?a:t}},take:function(e,t,n){var r=void 0,a=void 0;return e?(r=f.update(e,t,n).tokenCount,a=n):(r=t.RATE_LIMITER_CAPACITY,a=n),r>0&&n>=a?{tokenCount:r-1,timestamp:a}:{tokenCount:r,timestamp:a}},takeToken:function(e,t){const n=Date.now(),r=f.getRateLimitState(e),a=f.take(r,t,n);return f.replaceRateLimitState(e,a,r),!(a.tokenCount>0)},enableErrorTracking:function(e,t){if(!f.takeToken("error_runtime_key",{RATE_LIMITER_INTERVAL:5e3,RATE_LIMITER_CAPACITY:51})){var n,a={topic:r.error.runtime,data:{}};if(t.filename&&(a.data.source=t.filename),t.message&&(a.data.message=t.message),t.colno&&(a.data.column=t.colno),t.lineno&&(a.data.line=t.lineno),t.name&&(a.data.name=t.name),t.error&&t.error.name&&(a.data.name=t.error.name),t.stack&&(a.data.stack=t.stack),t.error&&t.error.stack&&(a.data.stack=t.error.stack),a.data.category="runtime",a.data={...a.data,...f.getWidgetData(e)},!Object.keys(a.data).length)return;n={data:JSON.stringify(a)},this.readMessage(n)}},enableUnhandledRejectionTracking:function(e,t){if(!f.takeToken("error_runtime_key",{RATE_LIMITER_INTERVAL:5e3,RATE_LIMITER_CAPACITY:51})){var n,a={topic:r.error.runtime,data:{}};if(t.reason&&("string"==typeof t.reason&&(a.data.message=t.reason),t.reason.message&&(a.data.message=t.reason.message),t.reason.stack&&(a.data.stack=t.reason.stack)),a.data.category="unhandledrejection",a.data={...a.data,...f.getWidgetData(e)},!Object.keys(a.data).length)return;n={data:JSON.stringify(a)},this.readMessage(n)}},enableXHRorFetchErrorTracking:function(e,t){var n,a={topic:r.error.runtime,data:{type:"xhr"}};if(!f.takeToken("error_XHR_key",{RATE_LIMITER_INTERVAL:5e3,RATE_LIMITER_CAPACITY:51})&&(!t.url||t.url&&t.url!==o.uploadPath)){if(t.url&&(a.data.targeturl=t.url),t.message&&(a.data.message=t.message),t.code&&(a.data.code=t.code),t.method&&(a.data.methodurl=t.method),t.duration&&(a.data.duration=t.duration),t.type&&(a.data.type=t.type),t.stack&&(a.data.stack=t.stack),a.data={...a.data,...f.getWidgetData(e)},Object.keys(a.data).length<2)return;n={data:JSON.stringify(a)},this.readMessage(n)}},manageCookies:function(){var n,r=t.getCookie("_dsus"),i=t.getCookie("_dsut"),s=m.getTopDomain();r&&t.setCookie("_dss",r,s,o.sessionDuration),i&&t.setPersistantCookie("_dsu",i,s),n=t.getCookie("_dss");var c=new URL(window.location.href);let d=null;c.searchParams.has("3dsvid")&&(d=c.searchParams.get("3dsvid"),c.searchParams.delete("3dsvid"),window.history.pushState({},"",c.toString())),c.searchParams.has("3dssid")&&(n=c.searchParams.get("3dssid"),c.searchParams.delete("3dssid"),window.history.pushState({},"",c.toString()),o.isCrossDomain=!0),n||(n=t.uuid(o.seed),this.registeredData&&this.registeredData.length>0&&(this.sessions=this.sessions.concat(this.registeredData))),t.setCookie("_dss",n,s,o.sessionDuration),o.user=d||t.getCookie("_dsu"),o.user?o.newVisitor=!1:(o.user=t.uuid(),o.newVisitor=!0),a.hasConsent()&&!a.isFunctionalConsent()?t.removeCookie("_dsu",s):t.setPersistantCookie("_dsu",o.user,s),o.sessionID!==n&&(o.seed=null,o.navigationStart=Date.now(),o.sessionID=n,m.clearData(this),this.pages.length&&(this.pages=this.pages.map((function(n){return e.extend(n,{id:t.uuid(),sessionID:o.sessionID,browseTime:Date.now()-o.navigationStart,r_timestamp:Date.now(),timestamp:Date.now()})}))),this.sessions.push(m.getSession()),this.send({force:!0}))}};return{sessions:[],pages:[],interactions:[],events:[],errors:[],performances:[],gdpr_banners:[],registeredData:[],init:function(){console.log("Tracker.js - init - version "+o.trackerVersion);var n,r=this;n="string"==typeof arguments[0]?{uploadPath:arguments[0],service:arguments[1],user:arguments[2]}:arguments[0]||{};try{window.top.location.protocol}catch(e){!0}e.extend(o,{uploadPath:m.getValidURL(n.uploadPath),sessionDuration:n.sessionDuration||30,sendDebounceRate:n.sendDebounceRate||2500,userActivityThrottleRate:n.userActivityThrottleRate||5e3,userInteractionThrottleRate:n.userInteractionThrottleRate||1e3,userInteractionDebounceRate:n.userInteractionDebounceRate||500,service:n.service,authUser:n.user&&n.user.login||"",userUUID:n.user&&n.user.uuid||"",hostname:n.hostname||window.location.hostname,themKey:n.them||"webapp",seed:n.seed||null,trackXHRerrors:n.trackXHRerrors||!0,trackFetchErrors:n.trackFetchErrors||!0,enableCrossDomain:n.enableCrossDomain||n.isCrossDomain||!1,navigationStart:!window.performance||window.performance&&!window.performance.timing?Date.now():window.performance.timing.navigationStart,enablePerformanceTracking:n.enablePerformanceTracking||!0,enablePerformanceFullTracking:n.enablePerformanceFullTracking||!0,enableWidgetFullTracking:n.enableWidgetFullTracking||!1}),window.addEventListener("beforeunload",r.send.bind(r,{mode:"beacon"})),window.addEventListener("message",r.readMessage.bind(r)),window.addEventListener("mousemove",t.throttle(f.manageCookies.bind(r),o.userActivityThrottleRate,!1,!0)),o.enableWidgetFullTracking||(["click","dblclick","contextmenu","touchstart","touchend"].forEach((function(e){window.addEventListener(e,t.throttle(f.enableUserInteraction.bind(r,window),o.userInteractionThrottleRate,!0),!0)})),["scroll","mousemove","touchmove"].forEach((function(e){window.addEventListener(e,t.debounce(f.enableUserInteraction.bind(r,window),o.userInteractionDebounceRate),!0)}))),o.enableCrossDomain&&(window.addEventListener("mousedown",f.crossDomainCheck),window.onload=function(){window.addEventListener("mousedown",f.crossDomainCheck)}),r.sendDebounced=t.debounce(r.send.bind(r),o.sendDebounceRate),o.enablePerformanceTracking&&!o.enablePerformanceFullTracking&&(f.startPerformanceTracking.bind(r,window)(),window.addEventListener("load",f.getLoadingPerformanceTracking.bind(r,window))),this.initListenerForWindow(window),f.manageCookies.call(r)},initListenerForWindow:function(e){var r=this;e.addEventListener("error",f.enableErrorTracking.bind(r,e)),e.addEventListener("unhandledrejection",f.enableUnhandledRejectionTracking.bind(r,e)),o.trackXHRerrors&&n.patch(f.enableXHRorFetchErrorTracking.bind(r,e),o.uploadPath,e),o.trackFetchErrors&&n.patchFetch(f.enableXHRorFetchErrorTracking.bind(r,e),o.uploadPath,e),o.enablePerformanceTracking&&o.enablePerformanceFullTracking&&(f.startPerformanceTracking.bind(r,e)(),e.addEventListener("load",f.getLoadingPerformanceTracking.bind(r,e))),o.enableWidgetFullTracking&&(["click","dblclick","contextmenu","touchstart","touchend"].forEach((function(n){e.addEventListener(n,t.throttle(f.enableUserInteraction.bind(r,e),o.userInteractionThrottleRate,!0),!0)})),["scroll","mousemove","touchmove"].forEach((function(n){e.addEventListener(n,t.debounce(f.enableUserInteraction.bind(r,e),o.userInteractionDebounceRate),!0)})))},readMessage:function(n){var a={};try{a=JSON.parse(n.data),m.flattenData(a)}catch(e){}if(!a.forAPI&&a.topic){switch(n.stopPropagation&&n.stopPropagation(),g(a)){case r.page.view:e.extend(a.data,{r_schemaName:"wapage3",r_schemaVersion:"1.16",r_service:o.service,r_timestamp:Date.now(),serverhostname:o.hostname,id:t.uuid(),sessionID:t.getCookie("_dss"),browseTime:Date.now()-o.navigationStart}),a.data.timestamp&&delete a.data.timestamp,this.pages.push(a.data);break;case r.page.event:e.extend(a.data,{r_schemaName:"waevent3",r_schemaVersion:"1.14",r_service:o.service,r_timestamp:Date.now(),id:t.uuid(),sessionID:t.getCookie("_dss"),sessionpageID:m.getLastPageID(this,a.data.trackerscope)}),a.data.timestamp&&delete a.data.timestamp,this.events.push(a.data);break;case r.page.interaction:case r.interaction.custom:e.extend(a.data,{r_schemaName:"wainteraction3",r_schemaVersion:"1.15",r_service:o.service,r_timestamp:Date.now(),sessionID:t.getCookie("_dss"),sessionpageID:m.getLastPageID(this)}),this.interactions.push(a.data);break;case r.data.register:e.extend(a.data,{r_schemaName:"wasession4",r_schemaVersion:"1.67",r_service:o.service,r_timestamp:Date.now(),sessionID:t.getCookie("_dss")}),e.extend(a.data,m.getConsentsAttributes()),this.registeredData.push(a.data),this.sessions.push(a.data);break;case r.error.runtime:e.extend(a.data,{r_schemaName:"waerror3",r_schemaVersion:"1.16",r_service:o.service,r_timestamp:Date.now(),id:t.uuid(),sessionID:t.getCookie("_dss"),sessionpageID:m.getLastPageID(this),level:"error"}),this.errors.push(a.data);break;case r.error.custom:e.extend(a.data,{r_schemaName:"waerror3",r_schemaVersion:"1.16",r_service:o.service,r_timestamp:Date.now(),id:t.uuid(),sessionID:t.getCookie("_dss"),sessionpageID:m.getLastPageID(this)}),this.errors.push(a.data);break;case r.page.performance:e.extend(a.data,{r_schemaName:"waperformance1",r_schemaVersion:"1.05",r_timestamp:Date.now(),r_service:o.service,id:a.data.fetchstart?t.getCookie("_dss")+"-"+Math.round(performance.timeOrigin).toString():t.uuid(),sessionID:t.getCookie("_dss"),sessionpageID:m.getLastPageID(this)}),this.performances.push(a.data);break;case r.performance.enableCustomPerformance:a.windowId&&!s.includes(a.windowId)&&s.push(a.windowId);break;case r.performance.custom:s.includes(a.windowId)&&(e.extend(a.data,{r_schemaName:"waperformanceCustom1",r_schemaVersion:"1.00",r_timestamp:Date.now(),r_service:o.service,id:a.data.fetchstart?t.getCookie("_dss")+"-"+Math.round(performance.timeOrigin).toString():t.uuid(),sessionID:t.getCookie("_dss"),sessionpageID:m.getLastPageID(this)}),this.performances.push(a.data));break;case r.gdpr_banner.custom:e.extend(a.data,{r_schemaName:"suwaconsentbannerchoice",r_schemaVersion:"1.04",r_timestamp:Date.now(),r_service:o.service,"event__id ":t.uuid(),event__start:Date.now(),wa__session__id:t.getCookie("_dss"),host__hostname:o.hostname,source__browser__locale:navigator.language||"en-US",user_agent__original:t.clientEngine.userAgent}),this.gdpr_banners.push(a.data);break;case r.window.init:if(a.data){let e=document.getElementById(a.data);e&&this.initListenerForWindow(e.contentWindow)}return}m.pruneData(this),this.sendDebounced||(this.sendDebounced=t.debounce(this.send.bind(this),o.sendDebounceRate)),a.sync?this.send():this.sendDebounced()}},send:function(e){var n,r=new FormData,i=new FormData,s=e&&e.mode||"xhr",c=this,d=0,u=0;this.gdpr_banners&&(this.gdpr_banners.forEach((function(e){i.append("usage"+u,JSON.stringify(e)),u++})),u&&("beacon"===s?navigator.sendBeacon?navigator.sendBeacon(o.uploadPath,i):t.beaconPolyfill(o.uploadPath,i):((n=new XMLHttpRequest).open("POST",o.uploadPath),n.send(i)))),m.models.forEach((function(e){c[e.internal].forEach((function(t){r.append(e.payload+d,JSON.stringify(t)),d++}))})),d&&((!a.hasConsent()||a.isFunctionalConsent()||e&&e.force)&&("beacon"===s?navigator.sendBeacon?navigator.sendBeacon(o.uploadPath,r):t.beaconPolyfill(o.uploadPath,r):((n=new XMLHttpRequest).open("POST",o.uploadPath),n.send(r))),m.clearData(this))}}}.apply(t,r))||(e.exports=a)},function(e,t,n){var r;void 0===(r=function(){"use strict";function e(e){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n,r=16*(e?(n=1e4*Math.sin(e++))-Math.floor(n):Math.random())|0;return("x"===t?r:3&r|8).toString(16)}))}var t,n,r,a,o,i,s,c={uuid:e,getUUID:e,navigationType:(s="unknown",window.performance.navigation&&(s=0===(i=window.performance.navigation.type)?"navigate":1===i?"reload":2===i?"back":"unknown"),s),getChecksum:function(){var e=arguments,t=String(e[0]),n=e[1],r=0,a=t.length;for(n=n||305419896;r<a;r++)n+=t.charCodeAt(r)*r;return Math.abs(parseInt(n,10)).toString(36)},beaconPolyfill:function(e,t){var n=window.XMLHttpRequest?new XMLHttpRequest:new window.ActiveXObject("Msxml2.XMLHTTP");n.open("POST",e,!1),n.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),n.setRequestHeader("Accept","*/*"),n.send(t)},clientEngine:(o=navigator.userAgent?navigator.userAgent.toLowerCase():"","ie"===(t=o.match(/(opera|ie|firefox|chrome|version)[\s\/:]([\w\d\.]+)?.*?(safari|version[\s\/:]([\w\d\.]+)|$)/)||o.match(/(webkit)[\s\/:]([\w\d\.]+)/)||o.match(/(trident)\/.*rv:([\d\.]+)/))[1]||"trident"===t[1]?(a=(n=window.document&&document.documentMode)&&n.toString(),r="ie"):(a="opera"===t[1]&&t[4]?t[4]:t[2],r="version"===t[1]?t[3]:t[1]),{name:r,version:a,userAgent:o}),clientPlatform:function(){var e=navigator&&navigator.userAgent.toLowerCase()||"",t=(navigator&&navigator.platform.toLowerCase()||"").split(" ")[0],n=/ip(?:ad|od|hone)/.test(e)?"ios":/webos|wossystem/.test(e)?"webos":/blackberry/.test(e)?"blackberry":/android/.test(e)?"android":/mac|win|linux/.test(t)?t:"other";return{name:n,mobile:"ios"===n||"android"===n||"blackberry"===n||!!e.match(/tablet/),resheight:screen&&screen.height||0,reswidth:screen&&screen.width||0}}(),isVirtualKeyboardOpen:function(){var e=function(){try{return top.document.documentElement}catch(e){return document.documentElement}}(),t={},n=!1,r=e.clientHeight,a=window.screen.height;function o(){if(!c.clientPlatform.mobile||"ios"===c.clientPlatform.name)return!1;var a=i(),o=t[a];if(t[a]=Math.max(t[a]||0,e.clientHeight),!o||e.clientHeight===r)return n;r=e.clientHeight}function i(){return window.screen.width+"x"+window.screen.height}return setTimeout(o),window.addEventListener("resize",(function(){r===e.clientHeight?setTimeout((function e(){if(window.screen.height===a)return setTimeout(e,250);o(),a=window.screen.height}),250):o()})),function(){return n=e.clientHeight<t[i()]}}(),copy:function(e){var t,n,r,a=e.contentEditable,o=e.readOnly;return"ios"===this.clientPlatform.name?(e.contentEditable=!0,e.readOnly=!0,(t=document.createRange()).selectNodeContents(e),(n=window.getSelection()).removeAllRanges(),n.addRange(t),e.setSelectionRange(0,e.value.length),e.contentEditable=a,e.readOnly=o):e.select(),r=document.execCommand("copy"),e.blur(),r},getCookie:function(e){var t,n,r=[];try{r=document.cookie.split("; ")}catch(e){}return(t=r.filter((function(t){return t.split("=")[0]===e}))).length&&(n=t[0].split("=")[1]),n},setPersistantCookie:function(e,t,n){var r,a=new Date;a.setFullYear(a.getFullYear()+1),r=e+"="+t+"; expires="+a.toUTCString(),n&&(r+="; domain="+n),r+="; path=/",document.cookie=r},setCookie:function(e,t,n,r){var a=new Date(Date.now()+6e4*r),o=e+"="+t;n&&(o+="; domain="+n),o+="; path=/",r&&(o+="; expires="+a.toUTCString()),document.cookie=o},removeCookie:function(e,t){var n;n=e+"=undef; expires="+new Date(0).toUTCString(),t&&(n+="; domain="+t),n+="; path=/",document.cookie=n},debounce:function(e,t,n){var r;return function(){var a,o=this,i=arguments,s=function(){r=null,n||e.apply(o,i)};a=n&&!r,clearTimeout(r),r=setTimeout(s,t),a&&e.apply(o,i)}},throttle:function(e,t,n,r,a){var o,i,s,c=null,d=0,u=function(){d=new Date,c=null,s=e.apply(o,i)};return function(){var l=new Date;d||n||(d=l);var p=t-(l-d);return o=a||this,i=arguments,p<=0?(clearTimeout(c),c=null,d=l,s=e.apply(o,i)):!c&&r&&(c=setTimeout(u,p)),s}},sha256:function e(t){function n(e,t){return e>>>t|e<<32-t}for(var r,a,o=Math.pow,i=o(2,32),s="",c=[],d=8*t.length,u=e.h=e.h||[],l=e.k=e.k||[],p=l.length,g={},m=2;p<64;m++)if(!g[m]){for(r=0;r<313;r+=m)g[r]=m;u[p]=o(m,.5)*i|0,l[p++]=o(m,1/3)*i|0}for(t+="";t.length%64-56;)t+="\0";for(r=0;r<t.length;r++){if((a=t.charCodeAt(r))>>8)return;c[r>>2]|=a<<(3-r)%4*8}for(c[c.length]=d/i|0,c[c.length]=d,a=0;a<c.length;){var f=c.slice(a,a+=16),h=u;for(u=u.slice(0,8),r=0;r<64;r++){var v=f[r-15],w=f[r-2],y=u[0],k=u[4],b=u[7]+(n(k,6)^n(k,11)^n(k,25))+(k&u[5]^~k&u[6])+l[r]+(f[r]=r<16?f[r]:f[r-16]+(n(v,7)^n(v,18)^v>>>3)+f[r-7]+(n(w,17)^n(w,19)^w>>>10)|0);(u=[b+((n(y,2)^n(y,13)^n(y,22))+(y&u[1]^y&u[2]^u[1]&u[2]))|0].concat(u))[4]=u[4]+b|0}for(r=0;r<8;r++)u[r]=u[r]+h[r]|0}for(r=0;r<8;r++)for(a=3;a+1;a--){var _=u[r]>>8*a&255;s+=(_<16?0:"")+_.toString(16)}return s}};return c}.call(t,n,t,e))||(e.exports=r)},function(e,t,n){var r;void 0===(r=function(){return{patch:function(e,t,n){n||(n=window),n.XMLHttpRequest.prototype.__open||n.XMLHttpRequest.prototype.__send||(n.XMLHttpRequest.prototype.__open=n.XMLHttpRequest.prototype.open,n.XMLHttpRequest.prototype.open=function(e,t){this.method=e,this.url=t,this.__open.apply(this,arguments)},n.XMLHttpRequest.prototype.__send=n.XMLHttpRequest.prototype.send,n.XMLHttpRequest.prototype.send=function(){this.time=Date.now(),this.__onreadystatechange=this.onreadystatechange,this.onreadystatechange=function(n){try{var r=n&&n.currentTarget||{status:0,statusText:"",responseText:""};if(r.status>=400&&!this._tracked&&!this.url.startsWith(t)&&4==this.readyState){var a=Date.now()-this.time;e({url:r.url,code:r.status.toString(),method:r.method,duration:a,message:r.responseText.slice(0,2047)||r.statusText.slice(0,2047)}),this._tracked=!0}}catch(e){}finally{this.__onreadystatechange&&this.__onreadystatechange.apply(this,arguments)}},this.onerror=function(n){try{var r=n&&n.currentTarget||{status:0,statusText:"",responseText:""};if(!this._tracked&&!this.url.startsWith(t)&&4==this.readyState){var a=Date.now()-this.time;e({url:r.url,code:r.status.toString(),method:r.method,duration:a,message:r.responseText.slice(0,2047)||r.statusText.slice(0,2047),type:"xhr"}),this._tracked=!0}}catch(e){}},this.__send.apply(this,arguments)})},patchFetch:function(e,t,n){n.fetch=new Proxy(n.fetch,{apply:function(n,r,a){let o=n.apply(r,a);try{const n=Date.now();o.then(r=>{const a=Date.now()-n;r.ok||!r.url||r.url.startsWith(t)||e({url:r.url,code:r.status.toString(),duration:a,message:r.statusText&&r.statusText.slice(0,2047)||null,type:"fetch"})}).catch(t=>{const r=Date.now()-n;e({url:a[0],duration:r,message:t.message,stack:t.stack,type:"fetch"})})}catch(e){}return o}})}}}.apply(t,[]))||(e.exports=r)},function(e,t,n){var r;void 0===(r=function(){"use strict";Number.isInteger||(Number.isInteger=function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e});var e=["status","privacyVersion","consentCategories","blockedOnCategories","creationTimestamp"],t=["necessary","functional","advertising"],n={getCookie:function(e){var t,n,r=[];try{r=document.cookie.split("; ")}catch(e){}return(t=r.filter((function(t){return t.split("=")[0]===e}))).length&&(n=t[0].split("=")[1]),n},getIndexFromRank:function(e){if(e=parseInt(e),Number.isInteger(e))return e-1;throw new Error("GDPR : Cookie rank must be an integer")},decode:function(e,r){var a=r.includes("%2C")?r.split("%2C"):r;if("consentCategories"===e)if(r)if(Array.isArray(a))a=a.map((function(e){var r=n.getIndexFromRank(e);return t[r]}));else{var o=n.getIndexFromRank(r);a=o?[t[o]]:a}else a=[t[0]];return a},getModel:function(){var t=n.getCookie("TC_PRIVACY"),r=[],a={status:0,privacyVersion:"001",consentCategories:[],blockedOnCategories:1,creationTimestamp:Date.now()};if(t){var o=t.indexOf("%40")>=0?"%40":"@";r=t.split(o)}return r.forEach((function(t,r){var o=e[r];a[o]=n.decode(o,t)})),a}};return{get:n.getModel,getConsentCategories:function(){return this.get().consentCategories},isFunctionalConsent:function(){return this.getConsentCategories().includes(t[1])},hasConsent:function(){return!!this.getConsentCategories().length}}}.call(t,n,t,e))||(e.exports=r)},function(e,t,n){var r,a;r=[n(0),n(2),n(10),n(1)],void 0===(a=function(e,t,n,r){"use strict";var a=!1,o=function(){var e=window.location,t=window.top.location;try{t.protocol}catch(e){a=!0}return a?{}:{current:e.protocol+"//"+e.hostname+(e.port?":"+e.port:""),parent:t.protocol+"//"+t.hostname+(t.port?":"+t.port:"")}}(),i=a?window:window.top;function s(e){return"string"==typeof e||e instanceof String}function c(e){return"number"==typeof e&&isFinite(e)}function d(e){return e&&"object"==typeof e&&e.constructor===Object}function u(e){return"function"==typeof e}function l(e){var t=!0;if(!d(e))return!1;if(0==Object.keys(e).length)return!1;if(Object.keys(e).length>20)return!1;for(var n in e)e.hasOwnProperty(n)&&(/^(pd|pv)[0-9]+$/.test(n)||(t=!1),s(e[n])||(t=!1));return t}function p(e){var t=!0;if(!d(e))return!1;if(0==Object.keys(e).length)return!1;if(Object.keys(e).length>20)return!1;for(var n in e)e.hasOwnProperty(n)&&(/^(pd|pv)[0-9]+$/.test(n)||(t=!1),c(e[n])||(t=!1));return t}function g(){var e={};return window&&window.widget&&(e.widgetinstancetitle=window.widget.title,e.widgetinstanceid=window.widget.id),e}const m="TrackerJS - One or more mandatory fields are missing";var f={getTracker:function(){var t,a,o=arguments,i=o[0],s=o[1],c=o[2];if(void 0===c&&"object"==typeof s?(c=s,s=i,i="action"):void 0===c&&"string"==typeof s?c={}:void 0===s&&void 0===c&&("string"==typeof i?(s=i,i="action",c={}):(s=(a=e.clone(i)).name,i=a.type,c=a.options||{})),void 0===s)throw new TypeError("No tracker name specified");switch(i){case"action":var d=c;d.name=s,this.notify(d,r.tracker.creation),t=new n(s)}return t},trackPageView:function(e,t,n,a,c){var f=arguments[0];if(d(f)&&(e=f.pageURL,t=f.pageTitle,n=f.persDim,a=f.pageLanguage,c={persVal:f.persVal,appID:f.appID,tenant:f.tenant,scope:f.scope,type:f.type}),!e||!s(e))return void console.log(m);var h={origin:o.current,topic:r.page.view,sync:!!f.callback,data:{url:e,location:window.location.href,timestamp:Date.now(),pagelg:a||(window.dsLang?window.dsLang:"")}};t&&s(t)&&(h.data.title=t),n&&l(n)&&(h.data.persDimPages=[n]),c&&d(c)&&p(c.persVal)&&(h.data.persValPages=[c.persVal]),c&&d(c)&&c.appID&&(h.data.appID=c.appID),c&&d(c)&&c.tenant&&(h.data.tenant=c.tenant),c&&d(c)&&s(c.scope)&&(h.data.trackerscope=c.scope),c&&d(c)&&s(c.type)&&(h.data.type=c.type);const v=window.performance.getEntriesByType("navigation").map(e=>e.type);v&&v.length>0&&s(v[0])&&(h.data.navigationtype=v[0]),h.data={...h.data,...g()},i.postMessage&&i.postMessage(JSON.stringify(h),o.parent||window.location.origin),u(f.callback)&&setTimeout(f.callback,0)},trackPageEvent:function(e,t,n,a,f,h){var v=arguments[0];if(d(v)&&(e=v.eventCategory,t=v.eventAction,n=v.eventLabel,a=v.eventValue,f=v.persDim,h={persVal:v.persVal,appID:v.appID,tenant:v.tenant,scope:v.scope}),e&&s(e)&&t&&s(t)){var w={origin:o.current,topic:r.page.event,sync:!!v.callback,data:{category:e,action:t,timestamp:Date.now()}};n&&s(n)&&(w.data.label=n),null!=a&&c(a)&&(w.data.value=a),f&&l(f)&&(w.data.persDimPageEvents=[f]),h&&d(h)&&p(h.persVal)&&(w.data.persValPageEvents=[h.persVal]),h&&d(h)&&h.appID&&(w.data.appID=h.appID),h&&d(h)&&h.tenant&&(w.data.tenant=h.tenant),h&&d(h)&&s(h.scope)&&(w.data.trackerscope=h.scope),w.data={...w.data,...g()},i.postMessage&&i.postMessage(JSON.stringify(w),o.parent||window.location.origin),u(v.callback)&&setTimeout(v.callback,0)}else console.log(m)},trackPageError:function(e,t,n,a,c,f){var h=arguments[0];if(d(h)&&(e=h.errorLevel,t=h.errorMessage,n=h.errorName,a=h.errorSource,c=h.persDim,f={persVal:h.persVal,errorSourceColumn:h.errorSourceColumn,errorSourceLine:h.errorSourceLine,errorStack:h.errorStack,errorCode:h.errorCode,errorType:h.errorType,errorTargetUrl:h.errorTargetUrl,errorMethodUrl:h.errorMethodUrl,errorDuration:h.errorDuration,appID:h.appID,scope:h.scope,tenant:h.tenant,category:h.category||"custom"}),e&&s(e)&&t&&s(t)&&n&&s(n)&&a&&s(a)){var v={origin:o.current,topic:r.error.custom,sync:!!h.callback,data:{level:e,message:t,name:n,source:a,timestamp:Date.now()}};f&&d(f)&&f.errorSourceColumn&&(v.data.column=f.errorSourceColumn),f&&d(f)&&f.errorSourceLine&&(v.data.line=f.errorSourceLine),f&&d(f)&&f.errorStack&&(v.data.stack=f.errorStack),f&&d(f)&&f.errorCode&&(v.data.code=f.errorCode),f&&d(f)&&f.errorType&&(v.data.type=f.errorType),f&&d(f)&&f.errorTargetUrl&&(v.data.targeturl=f.errorTargetUrl),f&&d(f)&&f.errorMethodUrl&&(v.data.methodurl=f.errorMethodUrl),f&&d(f)&&f.errorDuration&&(v.data.duration=f.errorDuration),f&&d(f)&&f.appID&&(v.data.appID=f.appID),f&&d(f)&&s(f.scope)&&(v.data.trackerscope=f.scope),c&&l(c)&&(v.data.persDimPageError=[c]),f&&d(f)&&p(f.persVal)&&(v.data.persValPageError=[f.persVal]),f&&d(f)&&f.tenant&&(v.data.tenant=f.tenant),f&&d(f)&&s(f.category)&&(v.data.category=f.category),v.data={...v.data,...g()},i.postMessage&&i.postMessage(JSON.stringify(v),o.parent||window.location.origin),u(h.callback)&&setTimeout(h.callback,0)}else console.log(m)},trackPageInteraction:function(e){var t={origin:o.current,topic:r.interaction.custom,sync:!!e.callback,data:{}};e&&d(e)&&e.className&&(t.data.className=e.className),e&&d(e)&&e.tagName&&(t.data.tagName=e.tagName),e&&d(e)&&e.action&&(t.data.action=e.action),e&&d(e)&&e.clientX&&(t.data.clientX=e.clientX),e&&d(e)&&e.clientY&&(t.data.clientY=e.clientY),e&&d(e)&&e.tenant&&(t.data.tenant=e.tenant),e&&d(e)&&e.iframeUrl&&(t.data.iframeurl=e.iframeUrl),e&&d(e)&&e.appID&&(t.data.appID=e.appID),e&&d(e)&&c(e.viewportTop)&&(t.data.viewportTop=e.viewportTop),e&&d(e)&&c(e.viewportBottom)&&(t.data.viewportBottom=e.viewportBottom),e&&d(e)&&c(e.viewportLeft)&&(t.data.viewportLeft=e.viewportLeft),e&&d(e)&&c(e.viewportRight)&&(t.data.viewportRight=e.viewportRight),e&&d(e)&&c(e.pageHeight)&&(t.data.pageHeight=e.pageHeight),e&&d(e)&&c(e.pageWidth)&&(t.data.pageWidth=e.pageWidth),e&&d(e)&&l(e.persDim)&&(t.data.persDimInteractions=[e.persDim]),e&&d(e)&&p(e.persVal)&&(t.data.persValInteractions=[e.persVal]),i.postMessage&&i.postMessage(JSON.stringify(t),o.parent||window.location.origin),u(e.callback)&&setTimeout(e.callback,0)},enableCustomPerformance:function(){var e={origin:o.current,topic:r.performance.enableCustomPerformance,windowId:window.self&&window.self.frameElement&&window.self.frameElement.id||"top"};i.postMessage&&i.postMessage(JSON.stringify(e),o.parent||window.location.origin)},trackPagePerformance:function(e){var t={origin:o.current,topic:r.performance.custom,sync:!!e.callback,data:{},windowId:window.self&&window.self.frameElement&&window.self.frameElement.id||"top"};e&&d(e)&&s(e.endpoint)&&c(e.startTime)&&c(e.duration)&&c(e.transferSize)&&s(e.blockingStatus)&&s(e.category)?(t.data.endpoint=e.endpoint,t.data.starttime=e.startTime,t.data.duration=e.duration,t.data.transfersize=e.transferSize,t.data.blockingStatus=e.blockingStatus,t.data.category=e.category,s(e.appID)&&(t.data.appID=e.appID),s(e.tenant)&&(t.data.tenant=e.tenant),s(e.category)&&(t.data.category=e.category),s(e.method)&&(t.data.method=e.method),s(e.statusCode)&&(t.data.statusCode=e.viewportRight),l(e.persDim)&&(t.data.persDimInteractions=[e.persDim]),p(e.persVal)&&(t.data.persValInteractions=[e.persVal]),t.data={...t.data,...g()},i.postMessage&&i.postMessage(JSON.stringify(t),o.parent||window.location.origin),u(e.callback)&&setTimeout(e.callback,0)):console.log(m)},registerData:function(){var e,t,n=arguments;!a&&n.length&&(1===n.length&&"object"==typeof n[0]?e=n[0]:n.length>1&&((e={})[n[0]]=n[1]),e&&(t={origin:o.current,topic:r.data.register,data:e},i.postMessage&&i.postMessage(JSON.stringify(t),o.parent||window.location.origin)))},trackGDPRBanner:function(e,t){var n=arguments[0];if(d(n)&&(e=n.eventName,t={consentDetailed:n.consentDetailed,bannerVersion:n.bannerVersion,consentedNecessary:n.consentedNecessary,consentedFunctional:n.consentedFunctional,consentedAdvertising:n.consentedAdvertising,waPageviewPlatformLanguage:n.waPageviewPlatformLanguage}),e&&s(e)){var a={origin:o.current,topic:r.gdpr_banner.custom,sync:!!n.callback,data:{event__name:e}};t&&d(t)&&t.consentDetailed&&(a.data.wa__consent__detailed=t.consentDetailed),t&&d(t)&&t.bannerVersion&&(a.data.wa__consent__privacy_banner_version=t.bannerVersion),t&&d(t)&&t.consentedNecessary&&(a.data.wa__consent__consented_necessary=t.consentedNecessary),t&&d(t)&&t.consentedFunctional&&(a.data.wa__consent__consented_functional=t.consentedFunctional),t&&d(t)&&t.consentedAdvertising&&(a.data.wa__consent__consented_advertising=t.consentedAdvertising),t&&d(t)&&t.waPageviewPlatformLanguage&&(a.data.wa__pageview__platform_language=t.waPageviewPlatformLanguage),i.postMessage&&i.postMessage(JSON.stringify(a),o.parent||window.location.origin),u(n.callback)&&setTimeout(n.callback,0)}else console.log(m)},notify:function(e,t){var n={origin:o.current,topic:t,data:e};i.postMessage&&i.postMessage(JSON.stringify(n),o.parent||window.location.origin)},init:function(){var n=this;if(!this._initiated&&(this._initiated=!0,t.on("*",(function(t,r){r.forAPI||n.notify(e.clone(r),t)})),window.addEventListener("message",(function(e){var n={};try{n=JSON.parse(e.data)}catch(e){}n.forAPI&&(e.stopPropagation(),t.trigger(n.topic,n))})),!a&&window.self!==window.top)){var s={origin:o.current,topic:r.window.init,data:window.self&&window.self.frameElement&&window.self.frameElement.id};i.postMessage&&i.postMessage(JSON.stringify(s),o.parent||window.location.origin)}}};return f.init(),f}.apply(t,r))||(e.exports=a)},function(e,t,n){var r,a;r=[n(0),n(11),n(13)],void 0===(a=function(e,t,n){"use strict";function r(e){n.warn("Module DS/Usage/ActionTracker is deprecated. Use DS/Usage/TrackerAPI#trackPageEvent instead"),t.call(this,e),this.type="action"}return e.inherit(r,t),r}.apply(t,r))||(e.exports=a)},function(e,t,n){var r,a;r=[n(0),n(12),n(2),n(1)],void 0===(a=function(e,t,n,r){"use strict";function a(e){this.name=e}return e.inherit(a,{set:function(e,t){var a;"object"==typeof e?(a=e,t=void 0):(a={})[e]=t,Object.keys(a).length>0&&(a.name=this.name,a.type=this.type,n.trigger(r.tracker.update,a))},get:function(){var e=this;return new t((function(t){var a=r.tracker.gotContent+":"+e.name,o=r.tracker.getContent+":"+e.name;n.on(a,(function(r){n.off(a),r&&r.data&&r.data.name===e.name&&t(r.data)})),n.trigger(o,{name:e.name})}))}}),a}.apply(t,r))||(e.exports=a)},function(e,t,n){var r;!function(a){"use strict";void 0===(r=function(){function e(e){return null==e?e+"":typeof e}var t,n=a.Promise,r=n&&"resolve"in n&&"reject"in n&&"all"in n&&"race"in n&&function(){var e;return new n((function(t){e=t})),"function"==typeof e}(),o=void 0!==a.setImmediate?a.setImmediate:a.setTimeout,i=[];function s(){for(var e=0;e<i.length;e++)i[e][0](i[e][1]);i=[],t=!1}function c(e,n){i.push([e,n]),t||(t=!0,o(s,0))}function d(e){var t=e._then;e._then=void 0;for(var n=0;n<t.length;n++)h(t[n])}function u(e){e._state="fulfilled",d(e)}function l(e){e._state="rejected",d(e)}function p(e,t){"pending"===e._state&&(e._state="sealed",e._data=t,c(u,e))}function g(e,t){e!==t&&f(e,t)||p(e,t)}function m(e,t){"pending"===e._state&&(e._state="sealed",e._data=t,c(l,e))}function f(t,n){var r;try{if(t===n)throw new TypeError("A promises callback cannot return that same promise.");if(n&&("function"===e(n)||"object"===e(n))){var a=n.then;if("function"===e(a))return a.call(n,(function(e){r||(r=!0,n!==e?g(t,e):p(t,e))}),(function(e){r||(r=!0,m(t,e))})),!0}}catch(e){return r||m(t,e),!0}return!1}function h(t){var n=t.owner,r=n._state,a=n._data,o=t[r],i=t.then;if("function"===e(o)){r="fulfilled";try{a=o(a)}catch(e){m(i,e)}}f(i,a)||("fulfilled"===r&&g(i,a),"rejected"===r&&m(i,a))}function v(t){if("function"!==e(t))throw new TypeError("Promise constructor takes a function argument");if(this instanceof v==="false")throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function(e,t){function n(e){m(t,e)}try{e((function(e){g(t,e)}),n)}catch(e){n(e)}}(t,this)}return v.prototype={constructor:v,_state:"pending",_then:null,_data:void 0,then:function(e,t){var n={owner:this,then:new this.constructor((function(){})),fulfilled:e,rejected:t};return"fulfilled"===this._state||"rejected"===this._state?c(h,n):this._then.push(n),n.then},catch:function(e){return this.then(null,e)}},v.all=function(t){if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.all().");return new this((function(n,r){var a=[],o=0;function i(e){return o++,function(t){a[e]=t,--o||n(a)}}for(var s,c=0;c<t.length;c++)(s=t[c])&&"function"===e(s.then)?s.then(i(c),r):a[c]=s;o||n(a)}))},v.race=function(t){if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.race().");return new this((function(n,r){for(var a,o=0;o<t.length;o++)(a=t[o])&&"function"===e(a.then)?a.then(n,r):n(a)}))},v.resolve=function(t){return t&&"object"===e(t)&&t.constructor===this?t:new this((function(e){e(t)}))},v.reject=function(e){return new this((function(t,n){n(e)}))},r?n:v}.call(t,n,t,e))||(e.exports=r)}(this)},function(e,t,n){var r;/*! Copyright 2015 Dassault Systèmes */void 0===(r=function(){"use strict";var e=Array.prototype.slice,t=Function.prototype.apply,n=function(n,r){return function(){"undefined"!=typeof console&&console[n]?t.call(console[n],console,e.call(arguments)):r&&r.apply(r,e.call(arguments))}},r={};return r.log=n("log"),r.info=n("info",r.log),r.debug=n("debug",r.log),r.warn=n("warn",r.log),r.error=n("error",r.log),r.trace=n("trace",(function(){r.log((new Error).stack)})),r}.call(t,n,t,e))||(e.exports=r)}])}));
