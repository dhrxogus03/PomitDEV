define("DS/TweakersEx/AutoCompleteViewModuleTweakerString",["DS/Tweakers/StringViewModules","DS/Utilities/Utils","DS/Utilities/Dom","DS/WUXAutoComplete/AutoComplete","DS/Utilities/KeyboardUtils","i18n!DS/Tweakers/assets/nls/translation"],function(e,t,i,o,n,a){"use strict";var r=function(t,i){e.Base.call(this,t,i)};return t.applyMixin(r,e.Base),r.AllowedViewOptions=["filterCB"],r.prototype.buildView=function(){var e=this._options.viewOptions||{};e.multiSearchMode=this._tweaker.allowMultipleValuesFlag,e.touchMode=this._tweaker._getCurrentTouchMode(),e.fireOnlyFromUIInteractionFlag=!0,e.allowFreeInputFlag=this._tweaker.allowFreeInputFlag,e.allowResetToUndefinedByUIFlag=this._tweaker.allowResetToUndefinedByUIFlag,e.placeholder=this._tweaker.placeholder&&""!==this._tweaker.placeholder?this._tweaker.placeholder:a.get("AutoCompletePlaceHolder"),e.customFilterMessage=a.get("AutoCompleteNoValueFound"),e.minLengthBeforeSearch=this._tweaker.minLengthBeforeSearch||0,e.typeDelayBeforeSearch=this._tweaker.typeDelayBeforeSearch,e.keepSearchResultsFlag=this._tweaker.keepSearchResultsFlag,e.columnOptions=Object.assign({},e.columnOptions),void 0!==e.typeRepresentation&&(e.getChipInfo=function(e){let t=this.getDefaultChipInfo(e);return{label:e.options.value&&"object"==typeof e.options.value&&null!==e.options.value?e.options.value.label:e.getLabel(),icon:t.icon,_iconOptions:t._iconOptions}},e.columnOptions.typeRepresentation=e.typeRepresentation),r.AllowedViewOptions.forEach(t=>{this._tweaker.viewOptions&&this._tweaker.viewOptions.hasOwnProperty(t)&&(e[t]=this._tweaker.viewOptions[t])}),this._view=new o(e),this.setPossibleValues(this._tweaker.possibleValues),this.setValue(this._tweaker.value)},r.prototype.computeTweakerContentLength=function(){var e=this._tweaker._getCurrentTouchMode()?51:30;return i.computeStringWidth(this._view.value,this._tweaker.getFontSize(),this._tweaker.getFontFamily(),this._tweaker.getEditedState())+e},r.prototype._getElementToFocus=function(){return this._view._getElementToFocus()},r.prototype.handleEvents=function(){var e=this,t=this._tweaker,o=this._view;o&&t&&(i.addEventOnElement(t,o,"uncommittedChange",function(e){e.stopPropagation(),t.onPreEdit()}),i.addEventOnElement(t,o,"change",function(i){i.stopPropagation(),e.setTweakerValue(o.value),t.onPostEdit()}),i.addEventOnElement(t,o,"keydown",function(e){e.keyCode===n.ESCAPE&&t.onCancelEdit()}))},r.prototype.setValue=function(e){this._view&&(this._view.value=e)},r.prototype.setPossibleValues=function(e){this._view&&(this._view.elementsTree=Array.isArray(e)?function(e){let t,i=[];return e.forEach(e=>{t="object"==typeof e?{label:e.label||e.value,value:e.value||e,tooltip:e.tooltip}:e,e.hasOwnProperty("icon")&&("object"==typeof t.value&&"object"===!t.hasOwnProperty("icon")?t.value.icon=e.icon:t.value.icon!==e.icon&&(t.icon=e.icon)),i.push(t)}),i}(e):e)},r.prototype.setPlaceholder=function(e){this._view&&(this._view.placeholder=e&&""!==e?e:a.get("AutoCompletePlaceHolder"))},r.prototype.setAllowResetToUndefinedByUIFlag=function(e){this._view&&(this._view.allowResetToUndefinedByUIFlag=e)},r.prototype.setAllowMultipleValuesFlag=function(e){this._view&&(this._view.multiSearchMode=e)},r.prototype.setMinLengthBeforeSearch=function(e){this._view&&(this._view.minLengthBeforeSearch=e)},r.prototype.setTypeDelayBeforeSearch=function(e){this._view&&(this._view.typeDelayBeforeSearch=e)},r.prototype.setKeepSearchResultsFlag=function(e){this._view&&(this._view.keepSearchResultsFlag=e)},r.prototype.setViewOptions=function(e){const t={};r.AllowedViewOptions.forEach(i=>{e&&e.hasOwnProperty(i)&&(t[i]=e[i])}),Object.keys(t).length>0&&this._view.setProperties(t)},r});var __extends=this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(t,i)};return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function o(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}();define("DS/TweakersEx/TweakerPath",["require","exports","DS/Tweakers/TweakerBase","DS/Utilities/Utils","DS/Core/WebUXComponents","DS/ControlsEx/PathExplorer","DS/TreeModel/TreeDocument","DS/TreeModel/TreeNodeModel"],function(e,t,i,o,n,a,r,s){"use strict";var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),Object.defineProperty(t,"publishedProperties",{get:function(){return{displayStyle:{defaultValue:"pathExplorer",type:"string"},value:{defaultValue:null,type:"DS/TreeModel/TreeNodeModel"},possibleValues:{defaultValue:null,type:"DS/TreeModel/TreeDocument"}}},enumerable:!1,configurable:!0}),t.prototype.getStringFromValue=function(e){var t="";if(e)if(e instanceof s)t=e.buildPath({buildPath:function(e,t,i){var o=e+t.getLabel();return t&&t.hasChildren()&&(o+="/"),o}});else if(Array.isArray(e))for(var i=0;i<e.length;i++)t+=e[i],i<e.length-1&&(t+="/");return t},t}(i),u=function(e,t){i.prototype.baseViewModule.call(this,e,t)};return o.applyMixin(u,i.prototype.baseViewModule),u.prototype.buildView=function(){this._tweaker.elements.container.addClassName("wux-tweakers-path");var e=this._options.viewOptions||{};e.touchMode=this._tweaker._getCurrentTouchMode(),e.disabled=this._tweaker.readOnly,e.fireOnlyFromUIInteractionFlag=!0,e.useModelSelectionFlag=!1;var t=this._tweaker.possibleValues,i=this._tweaker.value;Array.isArray(i)&&t&&t instanceof r&&(i=t.computeNodeFromLabels(i)),e.model=this._tweaker.possibleValues,e.value=i,this._view=new a(e)},u.prototype.setValue=function(e){if(this._view){var t=e;Array.isArray(e)&&(t=this._view.computeValueFromStrings(e)),this._view.value=t}},u.prototype.setPossibleValues=function(e){this._view&&(this._view.model=e)},u.prototype.handleEvents=function(){var e=this._view;if(void 0!==e){var t=this._tweaker,i=this;t.readOnly||e.addEventListener("change",function(t){t.stopPropagation(),i.setTweakerValue(e.value)})}},u.prototype.destroy=function(){this._tweaker&&this._tweaker.elements.container&&this._tweaker.elements.container.removeClassName("wux-tweakers-path"),i.prototype.baseViewModule.prototype.destroy.call(this)},u.prototype.computeTweakerContentLength=function(){var e=0;return this._view&&(e+=this._view.getContent().offsetWidth+7),e},l.prototype.VIEW_MODULES={pathExplorer:{classObject:u}},n.addClass(l,"TweakerPath"),l});__extends=this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(t,i)};return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function o(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}();define("DS/TweakersEx/TweakerCode",["require","exports","DS/Tweakers/TweakerBase","DS/Core/WebUXComponents","DS/Utilities/Dom","DS/Utilities/Utils","DS/ControlsEx/CodeMirror"],function(e,t,i,o,n,a,r){"use strict";var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),Object.defineProperty(t,"publishedProperties",{get:function(){return{mode:{defaultValue:void 0,type:"string",category:"Behavior",readOnly:!0},value:{defaultValue:void 0,type:"string",category:"Behavior"},CMOptions:{defaultValue:void 0,type:"string",category:"Behavior"}}},enumerable:!1,configurable:!0}),t.prototype.buildView=function(){e.prototype.buildView.call(this),this.elements.container.addClassName("wux-tweakers-code")},t.prototype._applyCMOptions=function(){this.elements._viewModule&&this.elements._viewModule.setCMOptions(this.CMOptions)},t.prototype._applyProperties=function(t){e.prototype._applyProperties.call(this,t),this.isDirty("CMOptions")&&this._applyCMOptions()},t}(i),l=function(e,t){i.prototype.baseViewModule.call(this,e,t)};a.applyMixin(l,i.prototype.baseViewModule),l.prototype.setCMOptions=function(){};var u=function(e,t){i.prototype.baseViewModule.call(this,e,t)};return a.applyMixin(u,l),u.prototype.buildView=function(){var e=this;this._view=new r({value:this._tweaker.value,mode:this._tweaker.mode,CMOptions:this._tweaker.CMOptions}),n.addEventOnElement(this._view,this._view,"change",function(t){t.stopPropagation(),e._tweaker.value=e._view.value})},u.prototype.setValue=function(){this._view.value=this._tweaker.value},u.prototype.setCMOptions=function(){this._view.CMOptions=this._tweaker.CMOptions},s.prototype.VIEW_MODULES={codeMirror:{classObject:u},codeMirror_readOnly:{classObject:u}},o.addClass(s,"tweakerCode"),s}),define("DS/TweakersEx/TweakerObject2",["UWA/Core","DS/Utilities/Utils","DS/Tweakers/TweakerUtils","DS/Tweakers/TweakerBase","DS/Utilities/Dom","DS/Utilities/Object","i18n!DS/Tweakers/assets/nls/translation","DS/DataGridView/DataGridView","DS/TreeModel/TreeNodeModel","DS/TreeModel/TreeDocument"],function(e,t,i,o,n,a,r,s,l,u){"use strict";var p=!1,d="#",c=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toString","toSource","valueOf","toLocaleString"];function h(e,t){this.__contexts.push(e),t.call(this),this.__contexts.pop()}function w(e,t,i){var o=t.split(d),n=this[e];o.forEach(function(e,t){t<o.length-1&&(n=n[e])}),n[o[o.length-1]]=i}function _(e){if(!e)return{};var t={};return void 0!==e.readOnly&&(t.editableState=!e.readOnly),void 0!==e.typeRepresentation&&(t.typeRepresentation=e.typeRepresentation),void 0!==e.authorizedTypeRepresentations&&(t.authorizedTypeRepresentations=e.authorizedTypeRepresentations),void 0!==e.getValue&&(t.getValue=e.getValue),void 0!==e.setValue&&(t.setValue=e.setValue),void 0!==e.loadModel&&(t.loadModel=e.loadModel),t}function f(e,t){if(-1!==c.indexOf(e))return!1;var i=this.filter;return"function"==typeof i?i.call(this,e,t):!this._regexp||this._regexp.test(e)}function y(e,t){if(null===e)return!1;var i=v(e);return"date"!==i&&"array"!==i&&"object"===i&&(a.isLiteralObject(e)||Object.getPrototypeOf(e).name&&""!==Object.getPrototypeOf(e).name)}function v(e){return null==e?"string":e instanceof Date?"date":Array.isArray(e)?"array":typeof e}function g(t,i,o,n){p&&console.group("Call to buildProperty",n?"of "+n:"");var a=[],r=t,s=this,l=e.extend({},i);do{Object.getOwnPropertyNames(r).forEach(function(t){if(Object.prototype.hasOwnProperty.call(r,t)){var i=n?n+d+t:t;if(f.call(s,t,i)){var u=_.call(s,l[t]),c=u.getValue?u.getValue(t,i):r[t],h={label:t,grid:e.extend({value:c,editableState:!0,typeRepresentation:v(c),authorizedTypeRepresentations:"allTypes"},u),path:i,depth:o,configuration:l[t],modelLoadedState:"toBeLoaded"};y.call(s,c,o)&&(h.children=[]),p&&console.info("Property ",t," extracted: ",h),a.push(h)}else p&&console.warn("Property ",t," ignored: filtered")}else p&&console.warn("Property ",t," ignored: not in current prototype")}),r=Object.getPrototypeOf(r)}while(r);return p&&console.groupEnd(),a}function V(){var e=[];void 0!==this.value&&null!==this.value&&(e=g.call(this,this.value,this.configuration,0)),this._listOfProperties.prepareUpdate(),this._listOfProperties.empty(),this._listOfProperties.loadModel(e),this._listOfProperties.pushUpdate(),function(){this.elements._viewModule&&this.elements._viewModule.updateListOfProperties&&this.elements._viewModule.updateListOfProperties(this._listOfProperties)}.call(this)}function M(){var e=this.filter;e&&new RegExp("^reg:","g").test(e)?this._regexp=new RegExp(e.substring(4,e.length)):this._regexp=null}var m=o.inherit({name:"tweakerObject2",publishedProperties:{viewModuleOptions:{defaultValue:null,type:"TweakerObject2ViewModuleOptions"},filter:{defaultValue:"reg:^[^_]",type:"string|function"},configuration:{defaultValue:null,type:"object"},displayStyle:{defaultValue:"list",type:"string"},value:{defaultValue:void 0,type:"object"},referenceValue:{defaultValue:void 0,type:"object"}},updateViewModuleOptions:function(t){e.extend(this.viewModuleOptions,t,!0),this._applyViewModuleOptions()},updateConfiguration:function(t){e.extend(this.configuration,t,!0),this._applyConfiguration()},getContextes:function(){return this.__contexts},getStringFromValue:function(){var e=!0,t="";return this._listOfProperties.getRoots().forEach(function(i){var o=i.getLabel();if(o){e||(t+=" | ");var n=i.getAttributeValue("value");Array.isArray(n)||n instanceof Date||"object"!=typeof n?t+=o+": "+JSON.stringify(n):t+=o+": {...}",e=!1}}),t},buildView:function(t){this._parent(),function(){this._listOfProperties=new u({useAsyncPreExpand:!0});var t=this;this._listOfProperties.onPreExpand(function(i){var o=i.target;if("loaded"!==o.options.modelLoadedState){var n=function(){var e=o.getAttributeValue("value"),i=o.options.configuration;o.empty(),o.addChild(g.call(t,e,i,o.options.depth+1,o.options.path)),o.preExpandDone()},a=o.getAttributeValue("loadModel");a?a.call(t,o.getLabel(),o.options.path).then(function(i){if(i.modelLoadedState&&(o.options.modelLoadedState=i.modelLoadedState),void 0!==i.configuration){var a=_(i.configuration);o.updateOptions({configuration:i.configuration,grid:a}),w.call(t,"configuration",o.options.path,o.options.configuration)}if(void 0!==i.value){var r=Object.assign({},o.getAttributeValue("value"));e.extend(r,i.value),o.options.grid.value=r,h.call(t,"change:valueLoaded",function(){w.call(this,"value",o.options.path,r),this._applyValue()})}n()}):(o.updateOptions({modelLoadedState:"loaded"}),n())}else o.preExpandDone()})}.call(this),this._regexp=null,this.__contexts=[]},destroy:function(){this._listOfProperties.destroy(),this._listOfProperties=null,this._regexp=null,this._parent()},_applyValue:function(){0===this.getContextes().length?(V.call(this),h.call(this,"change:valueModified",this._parent)):this._parent()},_applyFilter:function(){M.call(this),V.call(this)},_applyConfiguration:function(){V.call(this)},_applyViewModuleOptions:function(e){this.elements._viewModule&&this.elements._viewModule.setViewModuleOptions&&this.elements._viewModule.setViewModuleOptions(this.viewModuleOptions,e)},_applyProperties:function(e){var t=this.isDirty("displayStyle")||this.isDirty("readOnly");this.isDirty("filter")&&M.call(this),this._parent(e),!t&&this.isDirty("viewModuleOptions")&&this._applyViewModuleOptions(e.viewModuleOptions),this.isDirty("value")||!this.isDirty("filter")&&!this.isDirty("configuration")||V.call(this)}}),O=function(e,t){o.prototype.baseViewModule.call(this,e,t)};t.applyMixin(O,o.prototype.baseViewModule),O.prototype.setViewModuleOptions=function(e){},O.prototype.updateListOfProperties=function(e,t){},O.prototype.setValue=function(e){};var b=function(e,t){O.call(this,e,t)};t.applyMixin(b,O);var C=function(){var t=this,i=e.extend({showAlternateBackgroundFlag:!1,rowSelection:"none",cellSelection:"none",cellPreselectionFeedback:"none",cellActivationFeedback:"none",treeNodeCellOptions:{buildLinks:!1,expanderStyle:"triangle"},focusNextEditableCellOnTabFlag:!0},this._tweaker.viewModuleOptions&&this._tweaker.viewModuleOptions.dataGridViewOptions);return i.columns=[{text:"Name",dataIndex:"tree",typeRepresentation:"string",width:"40%",getCellSemantics:function(e){if(e.nodeModel&&!e.nodeModel.getChildren())return{alignment:"far"}}},{visibleFlag:!1,text:"Type",dataIndex:"typeRepresentation",typeRepresentation:"enumString",getCellSemantics:function(e){if(e.nodeModel){var t=e.nodeModel.getAttributeValue("authorizedTypeRepresentations");return"allTypes"===t?{possibleValues:this.getTypeRepresentationFactory().getRegisteredEnum("allSupportedTypes")()}:{possibleValues:t}}},editableFlag:!0,editionPolicy:"EditionOnOver"},{text:"Value",dataIndex:"value",hasCellValue:function(e){return!e.nodeModel||"object"!==e.nodeModel.getAttributeValue("typeRepresentation")||!e.nodeModel.isExpanded()},getCellValue:function(i){if(i.nodeModel){var o=i.nodeModel.getAttributeValue("getValue");if(o)return o.call(t._tweaker,i.nodeModel.getLabel(),i.nodeModel.options.path);var n=i.nodeModel.getAttributeValue("value");return"object"===i.nodeModel.getAttributeValue("typeRepresentation")&&(n=e.clone(n,!1)),n}},setCellValue:function(e,i){if(e.nodeModel){var o=e.nodeModel.getAttributeValue("setValue");o?o.call(t._tweaker,i,e.nodeModel.getLabel(),e.nodeModel.options.path):(e.nodeModel.setAttribute("value",i),w.call(t._tweaker,"value",e.nodeModel.options.path,i));var n=e.nodeModel.getParent();n&&!n._isTrueRoot()&&t._view.updateRowView(n._getRowID(),{updateCellContent:!0}),h.call(t._tweaker,"change:valueEdited",function(){t.setTweakerValue(this.value),this._applyValue()})}},getCellTypeRepresentation:function(e){if(e.nodeModel){var t=e.nodeModel.getAttributeValue("typeRepresentation");return"object"===t?"subObject":t}return"string"},getCellEditableState:function(e){return!t._options.readOnly&&(!!e.nodeModel&&(!e.nodeModel.getChildren()&&e.nodeModel.getAttributeValue("editableState")))},getCellSemantics:function(e){if(e.nodeModel)return{alignment:"near"}},editionPolicy:"EditionInPlace",width:"auto"}],i.treeDocument=this._tweaker._listOfProperties,i.useAsyncPreExpand=!0,i};b.prototype.buildView=function(){this._view=new s(C.call(this)),this._view.layout.setProperties(function(){return e.extend({columnsHeader:!1,rowsHeader:!1,rowSpacing:6},this._tweaker.viewModuleOptions&&this._tweaker.viewModuleOptions.dataGridViewLayoutOptions)}.call(this)),this._view.sizeColumnToFit("tree",{isUserInteraction:!1,computeAllRows:!0})},b.prototype.handleEvents=function(){this._view.addEventListener("change",function(e){e.stopPropagation()});var e=this;this._tweaker._listOfProperties.onPostExpand(function(){e._view.sizeColumnToFit("tree",{isUserInteraction:!1,computeAllRows:!0})});e=this;var t=this._view.addEventListener("allCellsRendered",function(i){e._view.removeEventListener("allCellsRendered",t),e._view.sizeColumnToFit("tree",{isUserInteraction:!1,computeAllRows:!0}),i.stopImmediatePropagation()})},b.prototype.setViewModuleOptions=function(e){this._view.setProperties(C.call(this)),this._view.layout.setProperties(this._tweaker.viewModuleOptions&&this._tweaker.viewModuleOptions.dataGridViewLayoutOptions)},b.prototype.updateListOfProperties=function(e,t){};var k=function(e,t){O.call(this,e,t)};t.applyMixin(k,O),k.prototype.buildView=function(){var e=this._options.targetContainer?this._options.targetContainer:this._tweaker.elements.container;e&&e.addClassName("wux-tweakers-object2-label wux-tweakers-string-label"),this.formatValue()},k.prototype.setValue=function(e){this.formatValue()},k.prototype.destroy=function(){var e=this._options.targetContainer?this._options.targetContainer:this._tweaker.elements.container;e&&(e.textContent="",e.removeClassName("wux-tweakers-object2-label")),O.prototype.destroy.call(this)},k.prototype.updateListOfProperties=function(e,t){this.formatValue()},k.prototype.formatValue=function(){var e=this._options.targetContainer?this._options.targetContainer:this._tweaker.elements.container;e&&(e.textContent=""),e.textContent=this._tweaker.getStringFromValue()};var S=function(e,t){O.call(this,e,t)};return t.applyMixin(S,O),S.prototype.buildView=function(){var t=new e.createElement("div");this._labelVM=new k(this._tweaker,{targetContainer:t}),this._dataGridViewVM=new b(this._tweaker,this._options);var o=this;this._view=i._buildTweakerAggregateView(this._tweaker,{viewModule:this,inlined:t,extended:this._dataGridViewVM._view},{overlapContainer:!0,hasButton:!this._options.readOnly,getExtendedViewHeight:function(){var e=o._dataGridViewVM._view.model.length-1,t=o._dataGridViewVM._view.layout.getRowPosition(e);return t+=o._dataGridViewVM._view.layout.getRowHeight(e),t+=o._dataGridViewVM._view.layout.rowSpacing,t=Math.min(450,t+1),o._dataGridViewVM._view.height=t,t}})},S.prototype.destroy=function(){this._labelVM.destroy(),this._dataGridViewVM.destroy()},S.prototype.setViewModuleOptions=function(e){this._labelVM.setViewModuleOptions(e),this._dataGridViewVM.setViewModuleOptions(e)},S.prototype.setValue=function(e){this._labelVM.setValue(e),this._dataGridViewVM.setValue(e)},S.prototype.updateListOfProperties=function(e,t){this._labelVM.updateListOfProperties(e,t),this._dataGridViewVM.updateListOfProperties(e,t)},S.prototype._giveFocus=function(){this._view.openExtendedViewButton.getContent().focus()},m.prototype.baseViewModule=O,m.prototype.VIEW_MODULES={readOnly:{classObject:k},labelDotsList_readOnly:{classObject:S,options:{readOnly:!0}},labelDotsList:{classObject:S},list_readOnly:{classObject:b,options:{readOnly:!0}},list:{classObject:b}},m.prototype.registerViewModule=function(e,t){},m}),define("DS/TweakersEx/AutoCompleteInlineViewModuleTweakerString",["UWA/Core","DS/Tweakers/StringViewModules","DS/Utilities/Utils","DS/Utilities/Dom","DS/TweakersEx/AutoCompleteViewModuleTweakerString","DS/Tweakers/TweakerUtils","DS/Utilities/KeyboardUtils"],function(e,t,i,o,n,a,r){"use strict";var s=function(e,i){t.Base.call(this,e,i)};return i.applyMixin(s,t.Base),s.prototype.buildView=function(){this._labelContainer=e.createElement("div");var t=this;this._view=a._buildTweakerAggregateView(this._tweaker,{viewModule:this,inlined:this._labelContainer,getExtended:function(){return t._autoCompleteVM||(t._autoCompleteVM=new n(t._tweaker,t._options)),t._autoCompleteVM}},{overlapContainer:!0,hasButton:!this._options.readOnly,getExtendedViewHeight:function(){return"auto"},onPopupDisplay:function(){t._view.extendedViewContainer&&t._view.extendedViewContainer.getContent().setStyle("min-height",t._view.offsetHeight),t._autoCompleteVM&&t._autoCompleteVM._view&&(t._autoCompleteVM._view._showPopup(),t._autoCompleteVM._view.focus({preventScroll:!0}))},immediateOpenFlag:this._options&&this._options.viewOptions&&this._options.viewOptions.immediateOpenFlag}),this._view.addClassName("wux-tweakers-string-lineeditordots"),this._tweaker.getContent().addClassName("wux-tweakers-string-autocomplete"),this.setPossibleValues(this._tweaker.possibleValues),this.setValue(this._tweaker.value),this.setTouchMode(this._tweaker._getCurrentTouchMode())},s.prototype.destroy=function(){this._tweaker.elements.container&&this._tweaker.getContent().removeClassName("wux-tweakers-string-autocomplete"),this._autoCompleteVM&&this._autoCompleteVM.destroy(),this._view.extendedViewContainer&&(this._view.extendedViewContainer.visibleFlag=!1,this._view.extendedViewContainer.destroy()),this._view.openExtendedViewButton&&this._view.openExtendedViewButton.destroy(),t.Base.prototype.destroy.call(this)},s.prototype.computeTweakerContentLength=function(){const e=this._tweaker;if(!e)return;let t=this._tweaker._getCurrentTouchMode()?68:37;const i=e.getStringFromValue(this._tweaker.value);return o.computeStringWidth(i,e.getFontSize(),e.getFontFamily(),e.getEditedState())+t},s.prototype.handleEvents=function(){var e=this,t=this._tweaker,i=this._view;i&&t&&(o.addEventOnElement(t,i,"change",function(o){o.stopPropagation(),e.setTweakerValue(i.value),t.onPostEdit()}),o.addEventOnElement(t,i,"keydown",function(e){e.keyCode===r.ESCAPE&&t.onCancelEdit()}))},s.prototype.setValue=function(e){this._labelContainer&&(this._labelContainer.textContent=this._tweaker.getStringFromValue(e)),this._autoCompleteVM&&this._autoCompleteVM.setValue(e)},s.prototype.setPossibleValues=function(){this._autoCompleteVM&&this._autoCompleteVM._tweaker&&(this._autoCompleteVM.possibleValues=this._tweaker.possibleValues)},s.prototype.setPlaceholder=function(){this._autoCompleteVM&&this._autoCompleteVM._tweaker&&(this._autoCompleteVM.placeholder=this._tweaker.placeholder)},s.prototype.setAllowResetToUndefinedByUIFlag=function(){this._autoCompleteVM&&this._autoCompleteVM._tweaker&&(this._autoCompleteVM.allowResetToUndefinedByUIFlag=this._tweaker.allowResetToUndefinedByUIFlag)},s.prototype.setAllowMultipleValuesFlag=function(){this._autoCompleteVM&&this._autoCompleteVM._tweaker&&(this._autoCompleteVM.allowMultipleValuesFlag=this._tweaker.allowMultipleValuesFlag)},s.prototype.setTouchMode=function(e){t.Base.prototype.setTouchMode.call(this,e),!0===e?this._view.setAttributeNode(document.createAttribute("touch-mode")):this._view.removeAttribute("touch-mode"),this._autoCompleteVM&&(this._autoCompleteVM.touchMode=e)},s.prototype.setViewOptions=function(e,t){if(this._autoCompleteVM&&this._autoCompleteVM.setViewOptions(e,t),!this._labelContainer)return;let i=t&&t.multipleValuesSeparator;(e&&e.multipleValuesSeparator)!==i&&(this._labelContainer.textContent=this._tweaker.getStringFromValue(this._tweaker.value))},s});