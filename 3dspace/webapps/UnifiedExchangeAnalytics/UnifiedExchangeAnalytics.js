define("DS/UnifiedExchangeAnalytics/Constants",[],function(){"use strict";return Object.freeze({TENANT:{KEY:"tenant"},x3dAppId:{KEY:"appID"},SERVICE:{EXCHANGE:"exchange",XCADDATAPROCESSOR:"xcaddataprocessor"},DIMENSION:{KEY:"persDim",DEVICE:{KEY:"pd1",VALUES:{DTP:"Desktop",TAB:"Tab",MOB:"Mobile"}},APP_ID:{KEY:"pd2"},APP_TITLE:{KEY:"pd3",VALUES:{ENOFOL3_AP:"Bookmark Editor",ENOPSTR_AP:"Product Structure",ENOSCEN_AP:"Product Explore",ENXENG_AP:"Engineering Release",X3DSEAR_AP:"3DSearch",ENXUIMP_AP:"IP Import",Unknown:"Unknown"}}},PERSONALVALUES:{KEY:"persVal",SIZE:{SELECTION:{KEY:"pv1"},CONTENT:{KEY:"pv2"}},TIME:{KEY:"pv3"}},EVENT:{CATEGORY:{KEY:"eventCategory",VALUES:{EXPORT:"Unified Export Command",IMPORT:"IP Import"}},LABEL:{KEY:"eventLabel",VALUES:{STEP:"STEPAP242",CAD:"XCAD"}},ACTION:{KEY:"eventAction",VALUES:{EXCHANGE:"exchange",XCADDATAPROCESSOR:"xcaddataprocessor"}}},ERROR:{MESSAGE:{KEY:"errorMessage"}}})}),define("DS/UnifiedExchangeAnalytics/models/PageEventModel",["UWA/Class/Model"],function(e){"use strict";return e.extend({defaults:{eventCategory:"Unknown",eventAction:"Unknown",eventLabel:"Unknown"}})}),define("DS/UnifiedExchangeAnalytics/models/PageErrorModel",["UWA/Class/Model"],function(e){"use strict";return e.extend({defaults:{errorMessage:"Unknown"}})}),define("DS/UnifiedExchangeAnalytics/Util",["UWA/Class"],function(e){"use strict";return e.extend({Unknown:"Unknown",Tenant:"Tenant",Device:{Desktop:"Desktop",Tab:"Tab",Mobile:"Mobile"},Service:{exchange:"exchange",xcaddataprocessor:"xcaddataprocessor"},Size:{Selection:"selection",Content:"content"},Time:{Start:"start",Finish:"finish"},Status:{Key:"Status",Values:{Success:"success",Failure:"failure"}},Event:{Category:{Usage:"USAGE"},Action:{Click:"Click"},Label:{Key:"Label",Values:{Export:"Unified Export Command",Import:"IP Import"}}},Dimensions:{Device:{key:"pd1"},App:{key:"pd2"},AppTitle:{key:"pd3"},Service:{key:"pd4"},SelectionSize:{key:"pd5"},ContentSize:{key:"pd6"},Status:{key:"pd7"},Time:{key:"pd8"}},x3dAppId:"x3dAppId",x3dAppTitle:{X3DSEAR_AP:"ENOVIA Bookmark Editor",ENOPSTR_AP:"ENOVIA Product Structure",ENOSCEN_AP:"ENOVIA Product Explore",ENXENG_AP:"ENOVIA Engineering Release",X3DSEAR_AP:"3DSearch"},Scope:{Dashboard:"Dashboard",SW:"SOLIDWORKS"}},{init:function(){this.store={},this._parent()},set:function(e,t){this.store[e]=t},get:function(e){return this.store[e]},reset:function(){this.store={}},getDevice:function(){var e=navigator.userAgent;if(/Mobi/i.test(e)){var t=window.screen.width;return t>=600&&t<1024?this.Device.Tab:this.Device.Mobile}return this.Device.Desktop},getLabel:function(){return this.get(this.Event.Label.Key)||this.Unknown},getTenant:function(){return this.get(this.Tenant)||this.Unknown},getAppId:function(){return this.get(this.x3dAppId)||this.Unknown},getAppTitle:function(){var e=this.get(this.x3dAppId);return this.x3dAppTitle[e]||this.Unknown},getService:function(e){return this.Service[e]||this.Unknown},getSelectionSize:function(){return this.get(this.Size.Selection)||0},getContentSize:function(){return this.get(this.Size.Content)||0},getStatus:function(){return this.get(this.Status.Key)||this.Unknown},getTime:function(){var e=this.get(this.Time.Finish)-this.get(this.Time.Start);return(e=e>0?e:0)/1e3},getPersonalDimensions:function(){return{pd1:this.getDevice(),pd2:this.getAppId(),pd3:this.getAppTitle(),pd4:this.getService(),pd5:this.getSelectionSize(),pd6:this.getContentSize(),pd7:this.getStatus(),pd8:this.getTime()}}})}),define("DS/UnifiedExchangeAnalytics/models/PageBaseModel",["UWA/Class/Model","DS/UnifiedExchangeAnalytics/Constants"],function(e,t){"use strict";return e.extend(t,{defaults:{scope:"Dashboard",appID:"Unknown",tenant:"Unknown",persDim:{pd1:"Unknown",pd2:"Unknown",pd3:"Unknown"},persVal:{pv1:0,pv2:0,pv3:0}},setup:function(){this.setDevice()},setDevice:function(){var e=this,t=e.Unknown,n=navigator.userAgent;if(/Mobi/i.test(n)){var i=window.screen.width;t=i>=600&&i<1024?e.DIMENSION.DEVICE.VALUES.TAB:e.DIMENSION.DEVICE.VALUES.MOB}else t=e.DIMENSION.DEVICE.VALUES.DTP;e.setPersDim(e.DIMENSION.DEVICE.KEY,t)},setPersDim:function(e,t){var n=this.get("persDim");n[e]=t,this.set(this.DIMENSION.KEY,n)},setPersVal:function(e,t){var n=this.get("persVal");n[e]=t,this.set(this.PERSONALVALUES.KEY,n)}})}),define("DS/UnifiedExchangeAnalytics/Tracker",["UWA/Class","DS/Usage/TrackerAPI","DS/UnifiedExchangeAnalytics/models/PageBaseModel","DS/UnifiedExchangeAnalytics/models/PageEventModel","DS/UnifiedExchangeAnalytics/models/PageErrorModel","DS/UnifiedExchangeAnalytics/Constants"],function(e,t,n,i,s,o){"use strict";return e.singleton(n,i,s,o,{init:function(){this.PageBaseModel=new n,this.PageEventModel=new i,this.PageErrorModel=new s,this._parent()},setAppId:function(e="Unknown"){this.PageBaseModel.set(this.x3dAppId.KEY,e),this.PageBaseModel.setPersDim(this.DIMENSION.APP_ID.KEY,e),this.PageBaseModel.setPersDim(this.DIMENSION.APP_TITLE.KEY,this.DIMENSION.APP_TITLE.VALUES[e])},setTenant:function(e="Unknown"){this.PageBaseModel.set(this.TENANT.KEY,e)},setSelectionSize:function(e=0){this.PageBaseModel.setPersVal(this.PERSONALVALUES.SIZE.SELECTION.KEY,e)},setContentSize:function(e=0){this.PageBaseModel.setPersVal(this.PERSONALVALUES.SIZE.CONTENT.KEY,e)},setTime:function(e=0){this.PageBaseModel.setPersVal(this.PERSONALVALUES.TIME.KEY,e)},setOperation:function(e=i.UNKNOWN){this.PageEventModel.set(this.EVENT.CATEGORY.KEY,e)},setService:function(e=i.UNKNOWN){this.PageEventModel.set(this.EVENT.ACTION.KEY,e)},setFormat:function(e=i.UNKNOWN){this.PageEventModel.set(this.EVENT.LABEL.KEY,e)},setErrorMessage:function(e){this.PageErrorModel.set(this.ERROR.MESSAGE.KEY,e)},sendError:function(){var e={...this.PageBaseModel._attributes,...this.PageErrorModel._attributes};console.log(e),this.clear()},sendEvent:function(){var e={...this.PageBaseModel._attributes,...this.PageEventModel._attributes};console.log(e),t.trackPageEvent(e),this.clear()},clear:function(){this.PageBaseModel.clear(),this.PageEventModel.clear(),this.PageErrorModel.clear(),this.PageBaseModel=new n,this.PageEventModel=new i,this.PageErrorModel=new s}})}),define("DS/UnifiedExchangeAnalytics/UnifiedExchangeAnalytics",["DS/UnifiedExchangeAnalytics/Tracker"],e=>({onLoad:function(){widget.setTitle("Analytics"),widget.body.empty(),e.setSelectionSize(4e3),e.setContentSize(2e3),e.setAppId("X3DSEAR_AP"),e.setService("EXCHANGE"),e.setEventCategory(e.EVENT.CATEGORY.VALUES.USAGE),e.setEventAction(e.EVENT.ACTION.VALUES.CLICK),e.setEventLabel(e.EVENT.LABEL.VALUES.EXPORT),e.setTenant("DEVOPSPA412345"),e.setErrorMessage("Error Message 001"),setTimeout(()=>{e.setTime(22002),e.send()},500)}}));