define("DS/DELPPWFacets/common/AppCore",["UWA/Core","DS/DELModularWebAppCore/Core","DS/Controls/ModalContainer","DS/Controls/Loader","text!DS/DELPPWFacets/assets/json/AuthorizedEvents.json","text!DS/DELPPWFacets/assets/json/XMLMapping.json","text!DS/DELPPWFacets/assets/json/ModuleConfigurations.json","text!DS/DELPPWFacets/assets/json/ModelServiceOptions.json"],function(e,n,t,i,o,a,r,l){"use strict";var s,u,c,d,g,P,m=e.Json.decode(r),D={manufacturingUIModule:"DS/DELPPWManufacturingUIModule/manufacturingUIModule",ImplementModule:"DS/DELPPWImplementModule/ImplementModule",ResultingProductModule:"DS/DELPPWResultingProductModule/ResultingProductModule",InsertCmdModule:"DS/DELPPWInsertCmdModule/InsertCmdModule"},f={DataGridViewBehavior:"DS/DELPPWViewBehaviors/DataGridViewBehavior/DataGridViewBehavior",UXFactoryBehavior:"DS/DELPPWViewBehaviors/UXFactoryBehavior/UXFactoryBehavior",ProductImplementBehavior:"DS/DELPPWModelBehaviors/ProductImplementBehavior",ProcessImplementBehavior:"DS/DELPPWModelBehaviors/ProcessImplementBehavior",ResourceBehavior:"DS/DELPPWModelBehaviors/ResourceBehavior",ModelBehavior:"DS/DELPPWModelBehaviors/ModelBehavior",SelectionBehavior:"DS/DELPPWViewBehaviors/SelectionBehavior",AssignProductBehavior:"DS/DELPPWModelBehaviors/AssignProductBehavior",WUXNodeModelBehavior:"DS/DELPPWViewBehaviors/WUXNodeModelBehavior/WUXNodeModelBehavior",TreeListViewBehavior:"DS/DELPPWViewBehaviors/TreeListViewBehavior/TreeListViewBehavior",ViewBehavior:"DS/DELPPWViewBehaviors/ViewBehavior",LinkBehavior:"DS/DELPPWModelBehaviors/LinkBehavior",SearchBehavior:"DS/DELPPWViewBehaviors/SearchBehavior",MfgProcessBehavior:"DS/DELPPWModelBehaviors/MfgProcessBehavior"},p={UXComponentsPlugin:"DS/DELPPWViewPlugins/UXComponentsPlugin/UXComponentsPlugin",DatabasePlugin:"DS/DELPPWModelPlugins/DatabasePlugin/DatabasePlugin",ResourcePlugin:"DS/DELPPWModelPlugins/ResourcePlugin/ResourcePlugin",WebServicePlugin:"DS/DELPPWModelPlugins/ResourcePlugin/WebServicePlugin",AttributePlugin:"DS/DELPPWModelPlugins/AttributePlugin",DicoPlugin:"DS/DELPPWModelPlugins/DicoPlugin",SelectionPlugin:"DS/DELPPWViewPlugins/SelectionPlugin/SelectionPlugin",ProcessImplementPlugin:"DS/DELPPWViewPlugins/ImplementPlugin/ProcessImplementPlugin",ProductImplementPlugin:"DS/DELPPWViewPlugins/ImplementPlugin/ProductImplementPlugin",PlatformPlugin:"DS/DELPPWViewPlugins/TreeViewPlugin/PlatformPlugin",MfgItemPlugin:"DS/DELPPWModelPlugins/MfgItem/MfgItemPlugin",KeyBindingPlugin:"DS/DELPPWViewPlugins/KeyBindingPlugin",RootsPlugin:"DS/DELPPWViewPlugins/RootsPlugin",CfgColumnsPlugin:"DS/DELPPWViewPlugins/TreeViewPlugin/CfgColumnsPlugin",RelationsPlugin:"DS/DELPPWViewPlugins/RelationsPlugin",DocumentPlugin:"DS/DELPPWModelPlugins/DocumentPlugin",ChangeActionPlugin:"DS/DELPPWModelPlugins/ChangeActionPlugin",TreeViewPlugin:"DS/DELPPWViewPlugins/TreeViewPlugin/TreeViewPlugin",BIPlugin:"DS/DELPPWModelPlugins/BI/BIPlugin",SearchPlugin:"DS/DELPPWViewPlugins/SearchPlugin/SearchPlugin",MfgProcessPlugin:"DS/DELPPWModelPlugins/MfgProcess/MfgProcessPlugin",InterWidgetComPlugin:"DS/DELPPWModelPlugins/InterWidgetComPlugin",Operations3DViewerPlugin:"DS/DELPPWViewPlugins/Operations3DViewerPlugin"},M={CommandsService:"DS/DELMFNApplicationServices/Commands/CommandsService",ConfigService:"DS/DELPPWServices/ConfigService/ConfigService",LoggerService:"DS/DELPPWServices/LoggerService/LoggerService",ModelService:"DS/DELPPWServices/ModelService"};return{init:function(){return new Promise(function(r,S){s=new n({appId:"DELMFN_AP",widgetTrigram:"XEN",immersiveFrame:null,isFacet:!0,cloudServiceName:"3dmfgitemsmgt",unAuthorizedTypes:["PRODUCT","PARTS"],appContext:{widget:{getId:function(){return widget.id},data:{appId:"DELMFN_AP"}}},require:{module:D,behavior:f,plugin:p,service:M},resource:{iconCatalogPath:"DS/DELPPWFacets/assets/icons/catalog.json",selectionMappingPath:"DS/DELPPWFacets/assets/json/SelectionMapping.json",rootsMappingPath:"DS/DELPPWFacets/assets/json/RootsMapping.json",commandsAvailabilityPath:"DS/DELPPWFacets/assets/json/CommandsAvailability.json",xmlConfiguration:e.Json.decode(a),indexMappingXML:"indexMappingXML",modelRelationsXML:"modelRelationsXML",relationsColumnMappingXML:"relationsColumnMappingXML",insertFormAttributeXML:"insertFormAttributeXML",modelCustomRelationsXML:"modelCustomRelationsXML",documemntColumnConfigXML:"documemntColumnConfigXML",duplicateAdvancedPreferencesXML:"duplicateAdvancedPreferencesXML",columnConfigPathXML:"columnConfigPathXML",nlsFilePath:"DS/DELPPWFacets/assets/nls/NLS",appConfigPath:"DS/DELPPWFacets/AppConfig",custoParameterRegExp:"MFNParameters*",afrWorkbenchName:"DELPPWFacets.xml",afrWorkbenchModule:"DELMFNApp",ItemOOTBFiltering:"ItemOOTBFiltering"},Mediator:{authorizedEvents:e.Json.decode(o)},ModelService:e.Json.decode(l)}),u=e.createElement("div",{class:"manModContainer",styles:{height:"100%"}}),c=e.createElement("div",{class:"ImplementModule"}),d=e.createElement("div",{class:"ResultingProductModule"}),g=e.createElement("div",{class:"InsertCmdModule"});let h=new i;h.on(),t.createModal(u,h.elements.container),s.useServices(["LoggerService","ConfigService","ModelService","CommandsService"],function(){s.createModule("ResultingProductModule","RESULTINGMOD",d,function(){s.start("RESULTINGMOD",null,function(){})}),s.createModule("ImplementModule","IMPMOD",c,function(){s.start("IMPMOD",null,function(){})}),s.createModule("InsertCmdModule","INSTCMDMOD",g,function(){s.start("INSTCMDMOD",null,function(){})}),s.createModule("manufacturingUIModule","MANMOD",u,function(){s.start("MANMOD",m.MANMOD,function(){null!==(P=s.getInstance().MANMOD.instance)?r():S()})})})})},setImmersiveFrame:function(n){e.is(s)&&(s.getConfig().immersiveFrame=n)},getCore:function(){return s},getXENModule:function(){return P},getManModContainer:function(){return u}}}),define("DS/DELPPWFacets/facets/FacetCommandManager",["UWA/Class","UWA/Core","DS/CoreEvents/Events"],function(e,n,t){"use strict";var i,o={HistoryHdr:"DS/LifecycleCmd/HistoryCmd",ActionBar_ChangeOwner:"DS/ENOCollabSharingCmds/commands/TransferOwnershipCmd/ActionBar_ChangeOwnerCmd",MaturityHdr:"DS/LifecycleCmd/MaturityCmd"},a={},r=null,l=null,s=null,u=null;return e.singleton({init:function(e){var c=Object.keys(o);r=e.context,l=e.model,s=e.logger,i=this,c.forEach(function(e){i.initCmd(e,o[e])}),t.subscribe({event:"FacetCommandManager/executeCommand"},function(e){n.is(e)&&n.is(e.commandName)&&n.is(a[e.commandName])?(a[e.commandName].execute(e.targetNode),u=e.targetNode.displayName):console.log("FacetCommandManafer : error ,command not found")}),t.subscribe({event:"FacetCommandManager/beginCommand"},function(e){n.is(e)&&n.is(e.commandName)&&n.is(a[e.commandName])?a[e.commandName].begin():console.log("FacetCommandManafer : error ,command not found")})},initCmd:function(e,t){require([t],function(t){var i=new t({ID:e,context:r});i.options.context.getSelectedNodes=function(){var e=l.getSelectedNodes();return n.is(e,"array")&&e.forEach(function(e){e.getID=function(){return e.options.referencePID},e.getInstID=function(){return null},e.getLabel=function(){return e.options.label}}),e},i.options.context.displayNotification=function(e){"primary"===e.eventID||"success"===e.eventID?s().info(u,e.msg):s().warn(u,e.msg)},a[e]=i})},getCommand:function(e){var t=null;return n.is(e)&&(t=a[e]),t}})}),define("DS/DELPPWFacets/AppConfig",["DS/DELPPWModelServices/BehaviorUtil"],function(e){"use strict";return{preferences:[{name:"showDialog",label:"Preferences.ShowDialog",defaultValue:"true",type:"hidden"},{name:"navigateOnIndexedDB",type:"hidden",label:"Preferences.NavOnIndexedDB",defaultValue:"false"},{name:"fetchAllLevel",label:"Preferences.fetchAllLevel",defaultValue:"false",type:"hidden"},{name:"oneDelmiaAggregationMode",label:"Preferences.oneDelmiaAggregationRules",defaultValue:"true",type:"hidden"},{name:"separator",label:"Preferences.Separator",defaultValue:"|",type:"hidden"},{name:"navigateOnIndex",options:[{value:"Database",label:"Database"},{value:"Index",label:"Index"},{value:"IndexRelationsOnDemand",label:"Index - Relations On Demand"}],label:"Preferences.NavOnIndex",defaultValue:"Index",type:"hidden"},{name:"organization",label:"Preferences.Org",options:[],defaultValue:"",onchange:"OrganizationUpdated",type:"hidden"},{name:"collaborativeSpace",label:"Preferences.CollabSpace",options:[],defaultValue:"",onchange:"CollabSpaceUpdated",type:"hidden"},{name:"role",label:"Preferences.Role",options:[],defaultValue:"",onchange:"RoleUpdated",type:"hidden"},{name:"timeout",label:"Preferences.ServerTimeout",defaultValue:"600",onchange:"TimeoutUpdated",type:"hidden"},{name:"systemsViewColumns",type:"hidden",defaultValue:[]},{name:"consumedItemsColumns",type:"hidden",defaultValue:[]},{name:"capableResourcesColumns",type:"hidden",defaultValue:[]},{name:"forceDBModePreferences",type:"hidden",defaultValue:"false"},{name:"isManufacturingItemsVisible",type:"hidden",defaultValue:!0},{name:"isProductsPartsVisible",type:"hidden",defaultValue:!0},{name:"isMFNToggleAuxiliaryViewVisible",type:"hidden",defaultValue:!1},{name:"isViewPersistanceOn",type:"hidden",defaultValue:"false"},{name:"refreshBIOnAuthoring",type:"hidden",defaultValue:!0},{name:"isReleaseSyncXENEnabled",type:"hidden",defaultValue:!1}]}}),define("DS/DELPPWFacets/DataProvider/ManufacturingDataProvider",["UWA/Core","UWA/Class","DS/DELPPWFacets/common/AppCore","DS/DELPPWResourceServices/ResourceUtils"],function(e,n,t,i){"use strict";var o,a,r,l;return n.singleton({init:function(e){this._parent(e),l=new Promise(function(e){t.init().then(function(){r=t.getXENModule(),e(r)})})},_fetchData:function(n){var t=[];return new Promise(function(r){l.then(function(l){o=l.getDatagridViewBehavior(),a=l.getModelBehavior(),e.is(n)&&(n.forEach(function(n){t.push(new Promise(function(t){o.getScopes(n,function(n){var o,r=[];e.is(n)&&0!==n.length?n.length>1?r=i.getNLSValue("ManufDataProvider.Multiple"):(o=n[0].get("type"),r=(a.isAKindOf(o,"CreateKit")||a.isAKindOf(o,"CreateAssembly")||a.isAKindOf(o,"CreateMaterial")?i.getNLSValue("Column.MakeOrBuy.Make"):a.isAKindOf(o,"Provide")||a.isAKindOf(o,"ProcessContinuousProvide")?i.getNLSValue("Column.MakeOrBuy.Buy"):i.getNLSValue("Column.MakeOrBuy.Unknown"))+" - "+n[0].get("organization")):r=i.getNLSValue("ManufDataProvider.None"),t(r)})}))}),Promise.all(t).then(function(e){var t=[],i=0;n.forEach(function(n){t[n]=e[i],i++}),t.length=i,r(t)}))})})},getInitPromise:function(){return l}})}),define("DS/DELPPWFacets/facets/ManufacturingIntentFacet",["UWA/Core","UWA/Promise","DS/EditPropWidget/facets/Common/FacetsBase","DS/CoreEvents/Events","DS/DELPPWFacets/common/AppCore","DS/DELPPWFacets/facets/FacetCommandManager","DS/PlatformAPI/PlatformAPI","DS/DELPPWFacets/DataProvider/ManufacturingDataProvider","css!DS/DELPPWFacets/DELPPWFacets.css"],function(e,n,t,i,o,a,r,l){"use strict";var s,u,c,d,g,P,m,D,f=null,p={},M=!1,S=function(){s.show(),P.hide(),M=!0},h=function(e){m.setText(g.getPlugins("ResourcePlugin").instance.getNLSValue(e)),s.hide(),P.show(),M=!1};return t.extend({init:function(t){var f=this;this._parent.apply(this,arguments),widget.setValue("fromXen",!0),e.is(g)?(this.elements.container||(this.elements.container=u),u.show(),d=n.resolve(c)):(this.elements.container||(this.elements.container=e.createElement("div",{class:"manufacturingFacet",styles:{height:"100%"}}),u=this.elements.container,i.subscribe({event:"ManufacturingIntent.Destroy"},function(){u.hide()})),d=new n(function(n,i){l.getInitPromise().then(function(l){c=l,(s=o.getManModContainer()).inject(u),o.setImmersiveFrame(t.immersiveFrame),g=o.getCore(),e.is(c)&&(p={model:c.getModel(),context:g.getConfig().appContext,logger:g.getLogger},P=e.createElement("div",{class:"enoderivedoutputs_information"}),D=e.createElement("div",{class:"content_box"}).inject(P),e.createElement("span",{class:"enoderivedoutputs_information_icon wux-ui-3ds wux-ui-3ds-5x wux-ui-3ds-docs"}).inject(D),m=e.createElement("h2",{class:"enoderivedoutputs_information_msg"}).inject(D),P.setStyle("position","relative"),P.setStyle("height","100%"),P.setStyle("vertical-align","top"),D.setStyle("position","absolute"),D.setStyle("top","calc(50% - 100px)"),D.setStyle("text-align","left"),D.setStyle("color","#303030"),D.setStyle("opacity",".2"),P.hide(),P.inject(f.elements.container),a.init(p),r.publish("XENFacetLoaded"),n(c)),i()})}))},updateFacet:function(){var n,t=this;d.then(function(i){var o,a={context:i},r=null,l=null,s=function(){null!==f&&n===f||(i.removeRoots(),i.fetchRoot(n,a),f=n)};a.onComplete=function(n){var t;g.getLogger().log("Entering fetchRoot Completed"),t=e.is(n.get("baseType"))?n.get("baseType"):n.get("type"),e.is(n)&&(e.is(n,"array")&&(n=n[0]),i.isAvailableType(t)?(g.getLogger().log("Entering object supported condition"),S(),i.fetchXENSlide(n.get("PID"))):(g.getLogger().log("Entering object not supported condition"),h("objectTypeNotSupported")))},a.onFailure=function(){g.getLogger().log("Entering fetchRoot Failure"),h("ObjectRetrievalFailed")},e.is(t.options.appContext)&&e.is(t.options.appContext.settingManager)&&e.is(t.options.appContext.settingManager.getSecurityContext)&&(r=e.is(t.options.appContext.settingManager.getSecurityContext(),"string")&&t.options.appContext.settingManager.getSecurityContext().length>0?t.options.appContext.settingManager.getSecurityContext():null),null!==r&&i.setSecurityContext(r),o=t.getModel(),e.is(o)&&e.is(o.get("objectId"))?(n=o.get("objectId"),g.getLogger().log("Selected objects: "+n),n.indexOf(".")>0?(g.getLogger().log("Entering multi-selection condition"),h("MultiselectionMessage")):(g.getLogger().log("Entering single-Selection condition"),S(),"businessobject"===(l=o.get("metatype"))||"bus"===l?s():"relationship"===l&&(n=o.get("selReferenceID"),s()))):(g.getLogger().log("No object selected"),h("NoObjectSelected"),i.removeLoader())})},getContent:function(){return s},getCore:function(){return g},getXENDatagridViewBehavior:function(){return c.getDatagridViewBehavior()},getXENManufacturingUIModule:function(){return c},onAction:function(e){var n=this;d.then(function(t){var i;if("Add"===e&&M)return i=document.querySelector(".wux-button-icon-placeholder .fonticon-plus"),t.renderMenu(i.getBoundingClientRect(),n.getModel().get("objectId"),"addToolBar")})},destroyComponent:function(){}})});