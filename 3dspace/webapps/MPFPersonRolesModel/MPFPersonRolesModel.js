define("DS/MPFPersonRolesModel/PersonRolesDataProxy",["DS/MPFDataProxy/DataProxy","DS/MPFUrl/UrlUtils"],function(e,t){const r=Object.freeze({USER:"user"});return e.extend({init:function(e,t){this._parent(e,"/mdpeoplecompany/users/roles",t)},urlGet(e,s){return new t(this._computeDefaultUrl(e,s)).addParameter(r.USER,s.user).getUrl()},buildPath:function(e){return this.resourcePath}})}),define("DS/MPFPersonRolesModel/PersonRolesModel",["DS/MPFModel/MPFModel","DS/MPFUtils/MPFUtils","DS/MPFServices/MarketplaceServices"],(e,t,r)=>{"use strict";const s=Object.freeze({FIRST_NAME:"firstname",LAST_NAME:"lastname",EMAIL:"email",ROLES:"roles"}),o=Object.freeze({[r.MAKE]:"PRS",[r.ENGINEERING]:"EIS",[r.PART_SUPPLY]:"PSP",[r.INNOVATE]:"BES"}),n=Object.freeze({[r.MAKE]:"PRB",[r.ENGINEERING]:"EIB",[r.PART_SUPPLY]:"UPS",[r.INNOVATE]:"BEB"}),i=e.extend({setup(e,t){this._parent(e,t),this._type="PersonRolesModel"},parse(e){const t=e.platform;return t&&(e[s.ROLES]=t.roles.map(e=>e.id)),e},getEmail(){return this.get(s.EMAIL)},hasRole(e){return this.get(s.ROLES).includes(e)},hasSellerRoleForService(e){return this.get(s.ROLES).includes(o[e])},hasBuyerRoleForService(e){return this.get(s.ROLES).includes(n[e])},async addRoles(e){const t=this.dataProxy.url(this),r=await this.dataProxy.requestPromise(t,{method:"POST",data:JSON.stringify({user:this.get("id"),roles:e})});return this.clearPendingChanges(),this.set(this.parse(r)),this.dispatchEvent("onSync",[this,r]),r},async removeRoles(e){const t=this.dataProxy.url(this),r=await this.dataProxy.requestPromise(t,{method:"DELETE",headers:{"Content-Type":"application/json"},data:JSON.stringify({user:this.get("id"),roles:e})});return this.clearPendingChanges(),this.set(this.parse(r)),this.dispatchEvent("onSync",[this,r]),r}});return i.Fields=s,i.SellerRoles=o,i.BuyerRoles=n,i}),define("DS/MPFPersonRolesModel/PersonRolesFactory",["DS/MPFModelFactory/Factory","DS/MPFPersonRolesModel/PersonRolesModel","DS/MPFPersonRolesModel/PersonRolesDataProxy"],(e,t,r)=>{"use strict";const s=Object.freeze({USER:"user"}),o=e.extend({createModel(e,r={},s={}){return this._parent(t,e,r,s)},getDataProxy(e){let t=null;return e===s.USER&&(t=this.getOrCreateDataProxyForType(s.USER,r)),t}});return o.Types=s,o});