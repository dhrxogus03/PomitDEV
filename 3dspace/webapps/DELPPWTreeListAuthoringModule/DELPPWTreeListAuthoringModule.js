define("DS/DELPPWTreeListAuthoringModule/TreeListAuthoringBaseModule",["UWA/Core"],function(e){"use strict";return{behaviors:["TreeListViewBehavior","WUXNodeModelBehavior","DropZoneViewBehavior","ModelBehavior","TaggerBehavior","BIBehavior","SearchBehavior","ResourceBehavior","EditAttributeBehavior","DocumentBehavior","ExportToCSVBehaviour","RefreshBehavior","UXFactoryBehavior","ProductImplementBehavior","ProcessImplementBehavior","ViewBehavior","ExpandFilterBehavior"],creator:function(n,t,o,i,r,a,d,c,s,u,h,l,f,g,p,v){var A=function(t){var i,a,d,c,s={forceDBMode:!0,silent:!0,onComplete:function(t){e.is(t)?r.insertInstance({isInstanceOf:t.id,"PLMEntity.V_Name":t.get("PLMEntity.V_Name"),type:t.get("type"),isAggregatedBy:d.get("PID")},c):n.debug("Child reference fetch failed")}};i=o.getSelectedNodesInfo(),e.is(i,"array")&&e.is(t)&&(a=i[0].id,c=i[0].absPath,d=r.getReferenceModel(a),t.forEach(function(e){r.fetchRoot(e.id,s)}))};return{listenTo:function(){return{referenceAdded:this.onAddReference,instanceAdded:this.onAddInstance,connectionAdded:this.onAddConnection,referenceRemoved:this.onRemoveRefOrInst,instanceRemoved:this.onRemoveRefOrInst,connectionRemoved:this.onRemoveConnection,referenceChanged:this.onChangeIRPC,connectionChanged:this.onChangeIRPC,documentAdded:this.addDocumentConnections,EditAttribute:this.onEditAttribute,editRichText:this.onEditRichText,reparentInstances:this.onReparentInstances,reparentBegin:this.onReparentBegin,reparentEnd:this.onReparentEnd,searchAndAddInstance:this.onSearchAndAddInstance,InsertAsCopy:this.onInsertAsCopy,expandAll:this.onExpandAll,collapseAll:this.onCollapseAll}},onStart:function(){var r,a=n.getElement(),d=a.getElementsByClassName("module-toolbar-container")[0],c=a.getElementsByClassName("tree-list-container")[0],s=a.getElementsByClassName("drop-zone-container")[0];s&&i.getContent().inject(s),t.loadDocument(o.getWUXNodeModel()),r=t.getToolBarContent(),e.is(r)&&(r.inject(d),c.addClassName("with-toolbar")),t.getContent().inject(c)},onStop:function(){},onAddReference:function(n,t,i){n=e.is(n,"array")?n:[n],o.withTransactionUpdate(function(){n.forEach(function(n){!function(n){var t={silentMode:!0,withLinksResolved:!1};e.is(i)&&(t=e.merge(i,t)),o.addNode(n,t)}(n)})})},onAddInstance:function(n,t){var i={silentMode:!0,withLinksResolved:!1},r=e.is(t)?e.merge(t,i):i,a=function(e){o.addNode(e,r)};e.is(n,"array")?o.withTransactionUpdate(function(){n.forEach(function(e){a(e)})}):a(n)},onAddOccurrence:function(e){e=Array.isArray(e)?e:[e],o.withTransactionUpdate(function(){o.addOccurences(e)})},addDocumentConnections:function(n){o.withTransactionUpdate(function(){e.is(n,"array")&&n.forEach(function(e){o.updateDocAttributes(e)})})},onChangeIRPC:function(e){e=Array.isArray(e)?e:[e],o.withTransactionUpdate(function(){e.forEach(function(e){o.updateAttributes(e)})})},onRemoveRefOrInst:function(e){var n=[];e=Array.isArray(e)?e:[e],o.withTransactionUpdate(function(){e.forEach(function(e){n.push(e.get("PID"))}),o.removeNodes(n)})},onReparentInstances:function(e){o.reparent(e)},onReparentBegin:function(e){o.isNodeAdded(e)&&(o.showOverlay(),o.unSelectAll())},onReparentEnd:function(e){o.isNodeAdded(e)&&o.removeOverlay()},onExpandAll:function(){var n=o.getSelectedNodes();e.is(n,"array")&&n.length>0&&o.expandAll(n)},onCollapseAll:function(){var n=o.getSelectedNodes();e.is(n,"array")&&n.length>0&&o.collapseAll(n)},onEditAttribute:function(e,n){u.editAttribute(e,n)},onEditRichText:function(e,n){u.editRichTextAttribute(e,n)},onSearchAndAddInstance:function(){var e,n,t=o.getSelectedNodesInfo();1===t.length&&(n="RESOURCE"!==(e=r.getReferenceModel(t[0].id,!0)).get("PPRTYPE")?r.getValidChildTypes(e):["VPMReference","ErgoHuman"],c.showSearchDialoguAndActivate(A,{types:n}))},onInsertAsCopy:function(){var e,n=o.getSelectedNodesInfo();1===n.length&&(e=r.getReferenceModel(n[0].id,!0),c.showSearchDialoguAndActivate(A,{types:r.getValidChildTypes(e),command:"duplicate"}))}}}}}),define("DS/DELPPWTreeListAuthoringModule/TreeListAuthoringModule",["UWA/Core","DS/DELPPWTreeListAuthoringModule/TreeListAuthoringBaseModule"],function(e,n){"use strict";return{behaviors:["TreeListViewBehavior","GraphViewBehavior","WUXNodeModelBehavior","DropZoneViewBehavior","ModelBehavior","SelectionBehavior","TaggerBehavior","BIBehavior","SearchBehavior","ResourceBehavior","EditAttributeBehavior","DocumentBehavior","ExportToCSVBehaviour","RefreshBehavior","CrossHighlightBehavior","UXFactoryBehavior","ProductImplementBehavior","DuplicateAdvBehavior","ViewBehavior","ExpandFilterBehavior","LoadObjectBehavior","Viewer3DBehavior","AltSubBIBehavior","LinkBehavior","AltSubReplaceBehavior","RootsBehavior","CfgColumnsBehavior","InterWidgetComBehavior"],creator:function(t,o,i,r,a,d,c,s,u,h,l,f,g,p,v,A,R,B,y,C,m,I,P,T,E,w,S,b,N){var M,O,L,D,V,U,k,x,W,j,F,G=new(0,n.creator)(t,o,r,a,d,s,u,h,l,f,g,p,v,R,B,C,m),H=[],X=[];return D=function(n){var t,o=function(n){var o=!1;return e.is(n)&&e.is(n.get,"function")&&(n.isConnection()?o=X.indexOf(n.get("type"))>-1:(t=d.getPPRType(n),o=H.indexOf(t)>-1)),o};return Array.isArray(n,"array")?n.every(function(e){return o(e)}):o(n)},V=function(){return H.indexOf("PROCESS")>-1||H.indexOf("SERVICE")>-1||H.indexOf("CONSTRUCTION")>-1},U=function(){return H.indexOf("PART")>-1||H.indexOf("PRODUCT")>-1},j=function(){r.getSelectedNodesInfo().forEach(function(e){A.updateCrossHighlightForSelf(e.absPath.length>0?e.absPath:e.id)})},W=function(n){var a,d,c,s=function(){d=r.getWUXNodeModel(),i.setModel(d),c=i.viewName},u=function(){d=i.getModel(),o.loadDocument(d),c=o.viewName};a=t.getElement(),e.is(n,"boolean")?!0===n?a.hasClassName("showGraphView")||(s(),a.addClassName("showGraphView")):a.hasClassName("showGraphView")&&(u(),a.removeClassName("showGraphView")):(a.hasClassName("showGraphView")?u():s(),a.toggleClassName("showGraphView")),C.setCurrentView({currentView:c}),t.notify("ManageGraphViewCmdAvailablity")},x=function(n){var o=!1;e.is(n.arguments[0])&&e.is(n.arguments[0].sourceModuleId)?n.arguments[0].sourceModuleId!==t.getId()?o=!1:n.arguments[0].sourceModuleId===t.getId()&&(o=!0):o=C.getActiveView()===t.getId(),o&&W()},k=function(){var n,o,r,a=t.getId();o=t.getPreferenceValue("widgetLayoutValues"),e.is(o)&&""!==(n=e.Json.decode(o))[a]&&(r=n[a]===i.viewName,W(r))},F=function(e){var n=[];(e=Array.isArray(e)?e:[e]).forEach(function(e){var t=d.getReferenceModel(e[0]);D(t)&&n.push(e)}),n.length>0&&G.onAddOccurrence(n)},{listenTo:function(){return e.extend(G.listenTo(),{referenceAdded:this.onAddReference,connectionAdded:this.onAddConnection,addOccurrece:F,addProductOrPart:this.onAddProductOrPart,referenceRemoved:this.onRemoveRefOrInst,instanceRemoved:this.onRemoveRefOrInst,connectionRemoved:this.onRemoveConnection,referenceChanged:this.onChangeIRPC,instanceChanged:this.onChangeIRPC,addRootNode:this.onRootNodeAdded,connectionChanged:this.onChangeIRPC,EditAttribute:this.onEditAttribute,Quantity:this.onEditAttribute,reparentInstances:this.onReparentInstances,reparentBegin:this.onReparentBegin,reparentEnd:this.onReparentEnd,searchAndAddInstance:this.onSearchAndAddInstance,InsertAsCopy:this.onInsertAsCopy,ToggleGraphView:x,widgetLayoutChanged:k,select:this.onSelect})},onStart:function(n){if(G.onStart(n),!n.pprTypes||!n.linkTypes)throw new Error(t.getId()+": TreeListAuthoringModule initialization failed");H=n.pprTypes,X=n.linkTypes,M=e.is(n.displayBadgeProductScope)?n.displayBadgeProductScope:null,O=e.is(n.displayBadgePartialProductScope)?n.displayBadgePartialProductScope:null,L=e.is(n.displayBadgeRPL)?n.displayBadgeRPL:null,k(),r.setForceIndexMode(n.forceIndexMode||!1),t.notify("ManageGraphViewCmdAvailablity")},onStop:function(){G.onStop()},onAddReference:function(n,o,i){n=e.is(n,"array")?n:[n],r.withTransactionUpdate(function(){n.forEach(function(n){var r,a;a={silentMode:!0,withLinksResolved:!1},D(r=n)?(e.is(i)&&(a=e.merge(i,{silentMode:!0,withLinksResolved:!1})),G.onAddReference(r,o,a)):V()&&"RESOURCE"===r.get("PPRTYPE")&&t.notify("addToAuxiliaryView",[r])})})},onAddConnection:function(n){var t=function(n){var t,o,i;D(n)&&(t=n.get("from"),o=n.get("type"),i=t,g.isDocConnection(n)?r.updateDocAttributes(t):(V()&&(r.isNodeAdded(t)&&(r.prepareUpdate(),e.is(M)&&M.linkType===o&&r.updateBadge(i,M.badgeIcon),r.updateAttributes(n),r.pushUpdate()),j()),U()&&j()))};e.is(n,"array")?r.withTransactionUpdate(function(){n.forEach(function(e){t(e)})}):t(n)},onChangeIRPC:function(n){var t=function(e){D(e)&&G.onChangeIRPC(e)};e.is(n,"array")?r.withTransactionUpdate(function(){n.forEach(function(e){t(e)})}):t(n)},onRemoveRefOrInst:function(n){var t,o=[];t=function(e){D(e)&&o.push(e)},e.is(n,"array")?n.forEach(function(e){t(e)}):t(n),o.length>0&&G.onRemoveRefOrInst(o)},onRemoveConnection:function(n){var o=!1,i=function(n){var i,a;if(e.is(n)){if(D(n))if(a=n.get("from"),g.isDocConnection(n))r.updateDocAttributes(a);else{if(V()){if(i=n.get("type"),!e.is(i,"string"))return void t.debug("Could not get connection type");r.isNodeAdded(a)&&((e.is(M)&&M.linkType===i||e.is(L)&&L.linkType===i||e.is(O)&&O.linkType===i)&&r.updateBadge(a,null),r.updateAttributes(n)),o=!0}U()&&(o=!0)}}else t.debug("ERROR: No model defined")};r.withTransactionUpdate(function(){e.is(n,"array")?n.forEach(function(e){i(e)}):i(n),o&&j()})},onReparentInstances:function(e){V()&&G.onReparentInstances(e)},onReparentBegin:function(e){V()&&G.onReparentBegin(e)},onReparentEnd:function(e){V()&&G.onReparentEnd(e)},onEditAttribute:function(e,n){V()&&G.onEditAttribute(e,n)},onSearchAndAddInstance:function(){V()&&G.onSearchAndAddInstance()},onInsertAsCopy:function(){V()&&G.onInsertAsCopy()},onRootNodeAdded:function(n,o){var i;const a=o||{},d=!e.is(a.loadRelatedobjectsToView)||a.loadRelatedobjectsToView;if(V()&&e.is(n)&&r.isNodeAdded(n)&&d){const o=B.getScopeLinksOfImplementing(n);if(o.length>0)i=o[0].get("to");else{const e=B.getPartialScopeLinksOfImplementing(n);e.length>0&&(i=e[0].get("to"))}e.is(i)&&t.notify("addProductOrPart",{pid:i})}},onAddProductOrPart:function(n){var o,i;e.is(n)&&e.is(n.pid)?U()&&(r.isNodeAdded(n.pid)||(o=d.getReference(n.pid),e.is(o)?r.addNode(o,{silentMode:!0,withLinksResolved:!1}):(i={forceDBMode:!0,silent:!0,onComplete:function(n){e.is(n)&&r.addNode(n,{silentMode:!0,withLinksResolved:!1})}},d.fetchRoot(n.pid,i)))):t.debug(this.name,"Required input parameters are missing.")},onSelect:function(n){var o;e.is(A)&&e.is(n)&&e.is(n.changed)&&(o=n.changed,A.crossHighlightUnselectAndUnhighlightNodes(o.nodeId,o.absPath,o.isSelected),setTimeout(function(){A.crossHighlightImpacted(o.nodeId,o.absPath,o.isSelected),t.notify("nodesHighlighted",{moduleId:t.getId()})},0))}}}}}),define("DS/DELPPWTreeListAuthoringModule/UpperViewsModule",["UWA/Core","DS/DELPPWTreeListAuthoringModule/TreeListAuthoringBaseModule"],function(e,n){"use strict";return{behaviors:["TreeListViewBehavior","WUXNodeModelBehavior","DropZoneViewBehavior","ModelBehavior","SelectionBehavior","TaggerBehavior","BIBehavior","SearchBehavior","ResourceBehavior","EditAttributeBehavior","DocumentBehavior","ExportToCSVBehaviour","RefreshBehavior","DuplicateAdvBehavior","UXFactoryBehavior","ProcessImplementBehavior","CapableResourceLinkBehaviour","ViewBehavior","ExpandFilterBehavior","LoadObjectBehavior","LinkBehavior","TLV3DViewerBehavior","RootsBehavior","MfgProcessBehavior","MfgProcessCrossHighlightBehavior"],creator:function(t,o,i,r,a,d,c,s,u,h,l,f,g,p,v,A,R,B,y,C,m,I,P,T,E,w){var S,b,N,M,O,L,D,V,U,k,x,W,j,F,G,H=new(0,n.creator)(t,o,i,r,a,c,s,u,h,l,f,g,p,A,R,C),X=[],z=[];return S=function(n){var t,o=!1;return e.is(n)&&(t=a.getPPRType(n),o=X.indexOf(t)>-1),o},b=function(n){var t=!1;return e.is(n)&&e.is(n.get)&&(t=z.indexOf(n.get("type"))>-1),t},N=function(){var e=[];i.getSelectedNodes().forEach(function(n){e.push({nodeId:n.getInstancePID()||n.getReferencePID(),isSelected:n.isSelected(),absPath:n.getAbsolutePath()})}),e.length>0&&t.notify("reComputeCrossHighlight",[e])},M=function(n,t,o){n=e.is(n,"array")?n:[n],i.withTransactionUpdate(function(){n.forEach(function(e){var n;S(n=e)&&H.onAddReference(n,t,o)})})},O=function(n){var t=!1,o=[];n=e.is(n,"array")?n:[n],i.withTransactionUpdate(function(){n.forEach(function(n){!function(n,o){var r,a;b(n)&&(r=n.get("from"),a=n.get("to"),e.is(o,"array")&&o.length>0&&o.indexOf(a)>-1||(o.push(a),f.isDocConnection(n)?i.updateDocAttributes(r):i.isNodeAdded(a)&&(i.updateAttributes(n),t=!0)))}(n,o)}),t&&N()})},L=function(n){var t=[],o=function(n,t){var o,r;b(n)&&(o=n.get("to"),e.is(t,"array")&&t.length>0&&t.indexOf(o)>-1||(t.push(o),i.isNodeAdded(o)||(r=a.getReference(o),e.is(r)&&i.addNode(r,{loadChildren:!0}),N())))};e.is(n,"array")?i.withTransactionUpdate(function(){n.forEach(function(e){o(e,t)})}):o(n,t)},U=function(n){var t=function(e){(S(e)||b(e))&&H.onChangeIRPC(e)};e.is(n,"array")?i.withTransactionUpdate(function(){n.forEach(function(e){t(e)})}):t(n)},D=function(n){var t=function(e){S(e)&&H.onRemoveRefOrInst(e)};e.is(n,"array")?i.withTransactionUpdate(function(){n.forEach(function(e){t(e)})}):t(n)},V=function(n){var o,r=!1;n=e.is(n,"array")?n:[n],o=function(n){var o,d;e.is(n)?b(n)&&(o=n.get("from"),d=n.get("to"),f.isDocConnection(n)?i.updateDocAttributes(o):("ProcessImplementLink"!==n.get("type")&&"PartialProcessImplementLink"!==n.get("type")||!Array.isArray(n.get("to"))||2===n.get("to").length&&a.isInstance(n.get("to")[0])&&a.isReference(n.get("to")[n.get("to").length-1])&&(d=n.get("to")[0]),i.isNodeAdded(d)&&(i.updateAttributes(n),r=!0))):t.debug("ERROR: No model defined")},i.withTransactionUpdate(function(){n.forEach(function(e){o(e)}),r&&N()})},k=function(e){var n=a.getReferenceModel(e.newInstPIDArray[0]);S(n)&&H.onReparentInstances(e)},x=function(e){var n=a.getReferenceModel(e);S(n)&&H.onReparentBegin(e)},W=function(e){var n=a.getReferenceModel(e);S(n)&&H.onReparentEnd(e)},j=function(n){var t,o;if(e.is(n)&&(e.is(n.selectedNodeIds)&&e.is(n.selectedNodeIds.length>0)&&n.selectedNodeIds.forEach(function(e){i.unSelectNode(e)}),e.is(n.changed)))if(e.is(n.changed.childOccurencePath)){if(t=i.getNodeModel(n.changed.childOccurencePath),e.is(t)&&t.length>0)for(o=0;o<t.length;o++)if(t[o].getAbsolutePath().join()===n.changed.childOccurencePath.join()){t[o].select();break}}else if(t=i.getNodeModel(n.changed.nodeId),e.is(t)&&t.length>0)for(o=0;o<t.length;o++)t[o].isRoot(!0)&&t[o].select()},F=function(e){var n=[];(e=Array.isArray(e)?e:[e]).forEach(function(e){var t=a.getReferenceModel(e[0]);S(t)&&n.push(e)}),n.length>0&&H.onAddOccurrence(n)},G=function(){o.manageToolBarItemsAvailability()},{listenTo:function(){return e.extend(H.listenTo(),{referenceAdded:M,connectionAdded:O,addLinkedObject:L,referenceRemoved:D,instanceRemoved:D,connectionRemoved:V,referenceChanged:U,instanceChanged:U,connectionChanged:U,reparentInstances:k,reparentBegin:x,reparentEnd:W,EGraphNodeSelect:j,updateCrossHighlight:N,addOccurrece:F,select:G})},onStart:function(e){if(H.onStart(e),!e.pprTypes||!e.linkTypes)throw new Error(t.getId()+": UpperViewsModule initialization failed");X=e.pprTypes,z=e.linkTypes},onStop:function(){H.onStop()}}}}}),define("DS/DELPPWTreeListAuthoringModule/RoutingsModule",["UWA/Core","DS/DELPPWTreeListAuthoringModule/TreeListAuthoringBaseModule"],function(e,n){"use strict";return{behaviors:["TreeListViewBehavior","WUXNodeModelBehavior","DropZoneViewBehavior","ModelBehavior","SelectionBehavior","TaggerBehavior","BIBehavior","SearchBehavior","ResourceBehavior","EditAttributeBehavior","DocumentBehavior","ExportToCSVBehaviour","RefreshBehavior","UXFactoryBehavior","ProcessImplementBehavior","CapableResourceLinkBehaviour","DuplicateAdvBehavior","ViewBehavior","ExpandFilterBehavior","LoadObjectBehavior","TLV3DViewerBehavior","RootsBehavior","LinkBehavior","ProductFlowLinkBehavior","CfgColumnsBehavior","MfgProcessBehavior","MfgProcessCrossHighlightBehavior","OperationTimeBehavior","OrderbySequenceBehavior"],creator:function(t,o,i,r,a,d,c,s,u,h,l,f,g,p,v,A,R,B,y,C,m,I,P,T,E,w,S,b,N,M){var O,L,D,V,U,k,x,W,j,F,G,H,X,z,Z,q,Y,_,J=new(0,n.creator)(t,o,i,r,a,c,s,u,h,l,f,g,p,v,A,C),Q=[],K=[],$=[];return D=function(n){var t,o=!1;return e.is(n)&&(t=a.getPPRType(n),o=Q.indexOf(t)>-1),o},V=function(n){var t=!1;return e.is(n)&&e.is(n.get)&&(t=K.indexOf(n.get("type"))>-1),t},U=function(e){return $.indexOf(e)>-1},k=function(){var e=[];i.getSelectedNodes().forEach(function(n){e.push({nodeId:n.getInstancePID()||n.getReferencePID(),isSelected:n.isSelected(),absPath:n.getAbsolutePath()})}),e.length>0&&t.notify("reComputeCrossHighlight",[e])},x=function(n,t,o){n=e.is(n,"array")?n:[n],i.withTransactionUpdate(function(){n.forEach(function(e){var n;D(n=e)&&J.onAddReference(n,t,o)})})},H=function(n,o){var r;e.is(n)&&i.isNodeAdded(n)&&(r=a.getImpactedConnections([n]),t.notify("connectionAdded",[r,o]))},W=function(n,o){var r=!1,a=[];o=o||{},n=e.is(n,"array")?n:[n],i.withTransactionUpdate(function(){n.forEach(function(n){!function(n,a){var d,c,s,u,h=!e.is(o.loadRelatedobjectsToView)||o.loadRelatedobjectsToView;V(n)&&("SecondaryCandidateResourceLink"===n.get("type")&&(n=T.cloneSecondaryCapableRscLinkWithFromAttr(n)),d=n.get("from"),c=n.get("to"),s=n.get("type"),u=d,e.is(a,"array")&&a.length>0&&a.indexOf(c)>-1||(a.push(c),f.isDocConnection(n)?i.updateDocAttributes(d):i.isNodeAdded(d)&&(e.is(O)&&O.linkType===s?i.updateBadge(u,O.badgeIcon):e.is(L)&&L.linkType===s&&i.updateBadge(u,L.badgeIcon),i.updateAttributes(n),r=!0,U(s)&&h&&t.notify("addLinkedObject",[n]))))}(n,a)}),r&&k()})},F=function(n){var o,r=!1,a=[];n=e.is(n,"array")?n:[n],o=function(n){var o,d;e.is(n)?V(n)&&("SecondaryCandidateResourceLink"===n.get("type")&&(n=T.cloneSecondaryCapableRscLinkWithFromAttr(n)),d=n.get("from"),f.isDocConnection(n)?i.updateDocAttributes(d):(o=n.get("type"),e.is(o,"string")?i.isNodeAdded(d)&&((e.is(O)&&O.linkType===o||e.is(L)&&L.linkType===o)&&a.push(d),i.updateAttributes(n),r=!0):t.debug("Could not get connection type"))):t.debug("ERROR: No model defined")},i.withTransactionUpdate(function(){n.forEach(function(e){o(e)}),r&&k(),a.length>0&&i.updateBadge(a,null)})},G=function(n){var t=function(e){(D(e)||V(e))&&J.onChangeIRPC(e)};e.is(n,"array")?i.withTransactionUpdate(function(){n.forEach(function(e){t(e)})}):t(n)},j=function(n){var t=function(e){D(e)&&J.onRemoveRefOrInst(e)};e.is(n,"array")?i.withTransactionUpdate(function(){n.forEach(function(e){t(e)})}):t(n)},X=function(e){var n=a.getReferenceModel(e.newInstPIDArray[0]);D(n)&&J.onReparentInstances(e)},z=function(e){var n=a.getReferenceModel(e);D(n)&&J.onReparentBegin(e)},Z=function(e){var n=a.getReferenceModel(e);D(n)&&J.onReparentEnd(e)},q=function(n){var t,o;if(e.is(n)&&(e.is(n.selectedNodeIds)&&e.is(n.selectedNodeIds.length>0)&&n.selectedNodeIds.forEach(function(e){i.unSelectNode(e)}),e.is(n.changed)))if(e.is(n.changed.childOccurencePath)){if(t=i.getNodeModel(n.changed.childOccurencePath),e.is(t)&&t.length>0)for(o=0;o<t.length;o++)if(t[o].getAbsolutePath().join()===n.changed.childOccurencePath.join()){t[o].select();break}}else if(t=i.getNodeModel(n.changed.nodeId),e.is(t)&&t.length>0)for(o=0;o<t.length;o++)t[o].isRoot(!0)&&t[o].select()},Y=function(e){var n=[];(e=Array.isArray(e)?e:[e]).forEach(function(e){var t=a.getReferenceModel(e[0]);D(t)&&n.push(e)}),n.length>0&&J.onAddOccurrence(n)},_=function(){o.manageToolBarItemsAvailability()},{name:"RoutingsModule",listenTo:function(){return e.extend(J.listenTo(),{referenceAdded:x,connectionAdded:W,addOccurrece:Y,referenceRemoved:j,instanceRemoved:j,connectionRemoved:F,referenceChanged:G,instanceChanged:G,connectionChanged:G,addRootNode:H,reparentInstances:X,reparentBegin:z,reparentEnd:Z,EGraphNodeSelect:q,updateCrossHighlight:k,select:_})},onStart:function(n){if(J.onStart(n),!n.pprTypes||!n.linkTypes)throw new Error(t.getId()+": RoutingsModule initialization failed");Q=n.pprTypes,K=n.linkTypes,$=e.is(n.loadConectedObjLinkTypes)?n.loadConectedObjLinkTypes:[],O=e.is(n.displayBadgeProcessScope)?n.displayBadgeProcessScope:null,L=e.is(n.displayBadgePartialProcessScope)?n.displayBadgePartialProcessScope:null},onStop:function(){J.onStop()}}}}});