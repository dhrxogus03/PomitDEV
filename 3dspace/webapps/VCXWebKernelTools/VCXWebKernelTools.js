define("DS/VCXWebKernelTools/VCXAnalyticsTrackerBaseManager",["require","exports","DS/Usage/TrackerAPI","DS/Visualization/ThreeJS_DS"],function(e,t,n,r){"use strict";class a{NewClock(){return new r.Clock}getApplicationId(){return""}isString(e){return"string"==typeof e||e instanceof String}isNumber(e){return"number"==typeof e&&isFinite(e)}isObject(e){return e&&"object"==typeof e&&e.constructor===Object}checkPdPv(e,t){var n=!0;if(!this.isObject(e))return!1;if(0==Object.keys(e).length)return!1;if(Object.keys(e).length>20)return!1;for(var r in e)e.hasOwnProperty(r)&&/^(pd|pv)[0-9]+$/.test(r)?t&&!this.isString(e[r])?(n=!1,e[r]=String(e[r]),console.warn("[Analytics] "+r+" is has a wrong type ! it need to be a string")):t||this.isNumber(e[r])||(n=!1,delete e[r],console.warn("[Analytics] "+r+" is has a wrong type ! it need to be a number")):n=!1;return n}trackEvent({eventCategory:e="",eventAction:t="",eventLabel:r="",eventValue:a,persDim:o,persVal:i}={}){var p=this.getApplicationId();p&&(o&&!this.checkPdPv(o,!0)&&console.warn("[Analytics] Something went wrong with your persDim : "+t+" "+e+" "+r),i&&!this.checkPdPv(i,!1)&&console.warn("[Analytics] Something went wrong with your persVal : "+t+" "+e+" "+r),n.trackPageEvent({eventCategory:e,eventAction:t,eventLabel:r,eventValue:a,appID:p,tenant:widget.getValue("x3dPlatformId"),persDim:o,persVal:i}))}postInitialize(){}unInitialize(){}}return Object.defineProperty(a.prototype,"componentType",{enumerable:!0,get:function(){return"VCXAnalyticsTrackerBaseManager"}}),a}),define("DS/VCXWebKernelTools/VCXAnalyticsTrackerAppManager",["require","exports","DS/VCXWebKernelTools/VCXAnalyticsTrackerBaseManager"],function(e,t,n){"use strict";class r extends n{getApplicationId(){let e="";this._experienceBase&&(this._experienceBase.getManager("VCXContextManager").getProdHighMode()&&(e="XCTXPR_AP"));return e}trackImport3dxmlEvent(e,t,n){const r={eventCategory:e,eventAction:"import3dxml",eventLabel:"import3dxml",persDim:{pd1:t},persVal:{pv1:((e,t)=>(e/1048576).toFixed(t))(n,1)}};this.trackEvent(r)}trackNewPresentationEvent(e){const t={eventCategory:e,eventAction:"NewPresentation",eventLabel:"NewPresentation"};this.trackEvent(t)}trackOpenPresentationEvent(e){const t={eventCategory:e,eventAction:"OpenPresentation",eventLabel:"OpenPresentation"};this.trackEvent(t)}trackLaunchJobMonitor(e){const t={eventCategory:e,eventAction:"OpenJobMonitor",eventLabel:"OpenJobMonitor"};this.trackEvent(t)}trackGraphicCards(e){const t={eventCategory:"xH_UserHw",eventAction:"graphicCard",eventLabel:"graphicCard",persDim:{pd1:e||""}};this.trackEvent(t)}trackStartCmdEvent(e){const t={eventCategory:"xH_Commands",eventAction:"startCommand",eventLabel:"startCommand",persDim:{pd1:e}};this.trackEvent(t)}trackSkipGuidedTour(e,t){const n={eventCategory:"xH_GuidedTour",eventAction:"SkipGuidedTour",eventLabel:"SkipGuidedTour",eventValue:t,persVal:{pv1:e}};this.trackEvent(n)}trackCompletedGuidedTour(e){const t={eventCategory:"xH_GuidedTour",eventAction:"CompletedGuidedTour",eventLabel:"CompletedGuidedTour",persVal:{pv1:e}};this.trackEvent(t)}trackStopGuidedTour(e){const t={eventCategory:"xH_GuidedTour",eventAction:"StopGuidedTour",eventLabel:"StopGuidedTour",persVal:{pv1:e}};this.trackEvent(t)}trackTimeAndRatioLPR(e,t){const n={eventCategory:"LPR",eventAction:"StartingTimeAndRatio",eventLabel:"StartingTimeAndRatio",eventValue:e,persVal:{pv1:t.height,pv2:t.width}};this.trackEvent(n)}trackPublishImage(e,t,n,r,a){const o={eventCategory:"publish",eventAction:"click",eventLabel:"publish.rasterimage",eventValue:e,persDim:{pd1:t,pd2:n},persVal:{pv1:r,pv2:a}};this.trackEvent(o)}trackPublishImageGI(e,t,n,r,a,o,i,p){const c={eventCategory:"publish",eventAction:"click",eventLabel:"publish.raytracingimage",persDim:{pd1:t,pd2:n,pd3:e,pd4:r,pd5:String(a),pd6:String(o)},persVal:{pv1:i,pv2:p}};this.trackEvent(c)}trackPublishVideo(e,t,n,r){const a={eventCategory:"publish",eventAction:"click",eventLabel:"publish.video",eventValue:e,persDim:{pd1:t,pd2:n,pd3:r}};this.trackEvent(a)}trackComputeVecto(e){const t={eventCategory:"compute",eventAction:"click",eventLabel:"compute.vecto",eventValue:e};this.trackEvent(t)}trackPublishVecto(){this.trackEvent({eventCategory:"publish",eventAction:"click",eventLabel:"publish.vecto"})}trackPublishImageGLTF(){this.trackEvent({eventCategory:"publish",eventAction:"click",eventLabel:"publish.gltf"})}trackPublishImageDSXM(){this.trackEvent({eventCategory:"publish",eventAction:"click",eventLabel:"publish.dsxm"})}trackSaveExperience(){if(this._experienceBase&&this._experienceBase.ComponentsMap){const e=this._experienceBase.ComponentsMap,t=e.GetComponentFromType("VCXScenario").length,n=e.GetComponentFromType("Model_VPMReference_Spec").length,r=e.GetComponentFromType("VCXComponentOccurrenceComposer").length-n,a=e.GetComponentFromType("CXPCameraActor_Spec").length,o=e.GetComponentFromType("VCXViewport_Spec").length,i=e.GetComponentFromType("VCXSection_Spec").length,p=e.GetComponentFromType("VCXRedLine_Spec").length,c=e.GetComponentFromType("VCXPolyline_Spec").length,s=e.GetComponentFromType("VCXMagnetLine_Spec").length,v={eventCategory:"dataStats",eventAction:"save",eventLabel:"Experience data stats (during save)",persVal:{pv1:t,pv2:n,pv3:r,pv4:a,pv5:o,pv6:i,pv7:p,pv8:c,pv9:e.GetComponentFromType("VCXMarkup_Spec").length,pv10:e.GetComponentFromType("VCXArrow_Spec").length,pv11:e.GetComponentFromType("VCXCompass_Spec").length,pv12:e.GetComponentFromType("VCXCircle_Spec").length,pv13:e.GetComponentFromType("AmbienceModel_Spec").length,pv14:e.GetComponentFromType("VCXDigger_Spec").length,pv15:this._experienceBase.getManager("VCXMaterialManager").getMaterialsPLM().length,pv16:s}};this.trackEvent(v);const l=this._experienceBase.getManager("VCXVisuManager").getActiveViewport().QueryInterface("VCXIModifiable"),u={eventCategory:"visuStats",eventAction:"save",eventLabel:"Experience visu stats (during save)",persVal:{pv1:l.GetPropertyValue("Environment.SSAO"),pv2:l.GetPropertyValue("Environment.AA")}};this.trackEvent(u)}}trackActionsLPR(e){const t={eventCategory:"LPR",eventAction:"TrackUpdateServer",eventLabel:"Experience data stats (during LPR)",persVal:{pv1:e.visibility_actor,pv2:e.update_current_ambience,pv3:e.update_viewport,pv4:e.update_ground,pv5:e.update_paper,pv6:e.update_varpos_actor,pv7:e.update_root}};this.trackEvent(t)}}return Object.defineProperty(r.prototype,"componentType",{enumerable:!0,get:function(){return"VCXAnalyticsTrackerAppManager"}}),r});