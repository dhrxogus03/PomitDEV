define("DS/DELPPWDicoServices/ModelConfigExt",["UWA/Core","DS/DELPPWLoggerModel/LoggerUtils","DS/DELPPWWebServices/WebserviceUtils"],function(e,t,i){"use strict";return{_pprTypes:[],_validChildTypesMap:{},_relationsList:{},_customRelationsList:{},retrievePPRTypes:function(e,t){var n=this;i.webServiceRequest({url:"dsmfg/private/V0/invoke/getPPRTypes",method:"GET",onComplete:function(t){n._pprTypes=t,e()},onFailure:function(e){n._pprTypes=[],t(e)},onTimeout:function(e){n._pprTypes=[],t(e)}})},retrieveValidChildTypes:function(e,t){var n=this,r=widget.getBool("oneDelmiaAggregationMode");i.webServiceRequest({url:"dsmfg/private/V0/invoke/getChildTypes",method:"GET",data:{oneDelmiaAggregationMode:r},onComplete:function(t){n._validChildTypesMap=t,e()},onFailure:function(e){n._validChildTypesMap=[],t(e)},onTimeout:function(e){n._validChildTypesMap=[],t(e)}})},retrieveModelRelations:function(e,t){var n=this;i.getXMLValues(n.options.modelRelationsXML,function(t){n._relationsList=t.RelationsList,e()},function(e){t(e)})},retrieveModelCustomRelations:function(t,n){var r=this;i.getXMLValues(r.options.modelCustomRelationsXML,function(i){var n,o,s,a,u,c={},f={},p=[],l=0;if(e.is(i.CustomRelationsList.RelationConfig)){for(a=i.CustomRelationsList.RelationConfig,a=Array.isArray(a)?a:[a],n=0;n<a.length;n++){if(o=a[n].fromType,s=a[n].toType,u=a[n].Relation,p=[],e.is(f[o])||(f[o]={}),f[o][s]=!1,e.is(u))for(u=Array.isArray(u)?u:[u],l=0;l<u.length;l++)"Instance"===u[l].type?f[o][s]=!0===e.Json.decode(u[l].write):p.push(u[l]);e.is(c[o])||(c[o]={}),c[o][s]={Relation:p}}r._customRelationsList=c,r._processCustomInstanceConfig(f)}t()},function(e){n(e)})},getPPRType:function(i){if(e.is(i))return this._pprTypes[i];t.debug(this.name,"type is undefined")},_processCustomInstanceConfig:function(t){var i,n,r,o,s,a;if(e.is(t))for(i in t)if(Object.prototype.hasOwnProperty.call(t,i))for(n in t[i])Object.prototype.hasOwnProperty.call(t[i],n)&&(r=t[i][n],s=this._validChildTypesMap,a=this._validChildTypesMap[i],e.is(a)?(o=a.indexOf(n))>=0?r||a.splice(o,1):r&&a.push(n):r&&(s[i]=[n]))},getValidChildTypes:function(i){if(e.is(i))return this._validChildTypesMap[i]||[];t.debug(this.name,"parentType is undefined")},_filterConfiguredRelationsByMode:function(t,i){var n,r=[],o=[],s=null;if(e.is(t)&&e.is(t.Relation))for(e.is(t.Relation.length)||(o.push(t.Relation),t.Relation=o),s=0;s<t.Relation.length;s++)n=t.Relation[s],e.is(n[i])&&!0===e.Json.decode(n[i])&&r.push(n.type);return r},getConfiguredRelations:function(t,i,n){var r,o=[];return e.is(t,"string")&&(r=this._relationsList[t],e.is(r)&&e.is(i,"string")&&e.is(r[i])&&(o=this._filterConfiguredRelationsByMode(r[i],n))),o},getAllConfiguredRelations:function(t,i){var n,r,o,s=t?this._relationsList[t]:[],a=[];if(t&&e.is(s,"object"))for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(o=this._filterConfiguredRelationsByMode(s[r],i),a.push.apply(a,o));for(n in this._relationsList)n!==t&&(s=this._relationsList[n],e.is(s,"object")&&Object.prototype.hasOwnProperty.call(s,t)&&(o=this._filterConfiguredRelationsByMode(s[t],i),a.push.apply(a,o)));return a},getConfiguredCustomRelations:function(i,n,r){var o,s=this._customRelationsList;if(e.is(i)&&e.is(n))return e.is(s)&&e.is(s[i])&&e.is(s[i][n])&&(o=this._filterConfiguredRelationsByMode(s[i][n],r)),o;t.debug(this.name,"fromType or toType is undefined")},getPossibleRelations:function(t,i,n){var r;return r=this.getConfiguredCustomRelations(t,i,n),e.is(r)||(r=this.getConfiguredRelations(this.getPPRType(t),this.getPPRType(i),n)),r}}}),define("DS/DELPPWDicoServices/AttributeConfigExt",["UWA/Core","DS/DELPPWLoggerModel/LoggerUtils","DS/DELPPWWebServices/WebserviceUtils","DS/DELPPWResourceServices/ResourceUtils","text!DS/DELPPWDicoServices/assets/json/PLMAttrInfos.json","text!DS/DELPPWDicoServices/assets/json/ProtectedAttributes.json"],function(e,t,i,n,r,o){"use strict";return r=e.Json.decode(r),o=e.Json.decode(o),{_attributeInfo:{},_typeMaskInfo:{},_typeExtnInfo:{},retrieveDicoAttributeInfo:function(o,s){var a=this,u=[],c=function(e,t){i.webServiceRequest({url:"dsmfg/private/V0/invoke/WorkInstruction/getSignOffRoles",method:"GET",onComplete:e,onFailure:t,onTimeout:t})};u=[new Promise(function(t,n){i.webServiceRequest({url:"dictionary/properties",method:"POST",onComplete:function(r){var s=[];r.forEach(function(e){var t;e.info.forEach(function(e){"Double"===e.Type&&"Yes"===e.HasRangeDefined&&""!==e.ManipulationUnit&&(t=e.AuthorizedValues.map(function(e){return e.NLS}),s.push({unit:e.ManipulationUnit,values:t}))})}),s.length>0?i.webServiceRequest({url:"dsmfg/private/V0/invoke/convertMKStoUnit",method:"POST",onComplete:function(e){var t;r.forEach(function(i){i.info.forEach(function(i){"Double"===i.Type&&"Yes"===i.HasRangeDefined&&""!==i.ManipulationUnit&&(t=e.shift(),i.AuthorizedValues.forEach(function(e){e.NLS=t.shift()}))})}),o(r)},onFailure:n,onTimeout:n,data:e.Json.encode(s)}):t(r)},onFailure:n,onTimeout:n,data:JSON.stringify(a._modelAttrsJSON)})}),new Promise(function(e,t){i.fireGETWSInChunkIfTooBig({url:"dsmfg/private/V0/invoke/getAttributesMaskInfo",onComplete:e,onFailure:t,onTimeout:t,data:a._modelAttrsJSON})})],a._modelAttrsJSON.some(function(e){return"DELWkiSignOffReference"===e.type&&e.attributes.indexOf("V_WISignOff_Actors")>-1&&(u.push(new Promise(c)),!0)}),Promise.all(u).then(function(i){var s,c={},f={},p="DELRME_AP"===widget.getValue("appId")||"DELRMEC_AP"===widget.getValue("appId");e.is(i,"array")&&i.length===u.length&&(s=i[0].map(function(t){var r,o={};return r={},i[1].filter(e=>e.type===t.type)[0].info.forEach(e=>r[e.Name]=e),o.type=t.type,o.info=t.info.map(t=>{var i=t.Name;return e.is(r[i])?e.extend(r[i],t,!0):t}),o.info.forEach(function(t){var r,s;switch(e.is(i[2],"array")&&"DELWkiSignOffReference"===o.type&&"V_WISignOff_Actors"===t.Name&&(t.AuthorizedValues=[],t.HasRangeDefined="Yes",i[2].forEach(function(e){t.AuthorizedValues.push({NLS:e,Name:e})})),t.Name){case"V_SequencingMode":t.NLS=n.getNLSValue("Attribute.DELLmiPPRSystemReference.V_SequencingMode");break;case"V_ContQuantity":t.NLS=n.getNLSValue("Attribute.Dimension.V_ContQuantity");break;case"V_UseCase":p&&(t.NLS=n.getNLSValue("Attribute.DELFmiUseCaseExt.V_UseCase"));break;case"IsCompensation":t.NLS=n.getNLSValue("Attribute.Dimension.IsCompensation");break;case"V_ScrapQuantityRatio":t.NLS=n.getNLSValue("Attribute.DELLmiScrapQuantity_Ratio.V_ScrapQuantityRatio");break;case"V_WIPQuantityRatio":t.NLS=n.getNLSValue("Attribute.DELLmiWIPQuantity_Ratio.V_WIPQuantityRatio");break;case"V_IncrementQuantity":t.NLS=n.getNLSValue("Attribute.DELMBOMLotQuantityMgtMass.V_IncrementQuantity");break;case"V_MaxLotQuantity":t.NLS=n.getNLSValue("Attribute.DELMBOMLotQuantityMgtMass.V_MaxLotQuantity");break;case"V_MinLotQuantity":t.NLS=n.getNLSValue("Attribute.DELMBOMLotQuantityMgtMass.V_MinLotQuantity");break;case"V_YieldQuantity":t.NLS=n.getNLSValue("Attribute.DELFmiYieldQuantity_Ratio.V_YieldQuantity");break;case"V_LowerTolerance":t.NLS=n.getNLSValue("Attribute.DELFmiLimitQuantity_Mass.V_LowerTolerance");break;case"V_UpperTolerance":t.NLS=n.getNLSValue("Attribute.DELFmiLimitQuantity_Mass.V_UpperTolerance");break;case"V_DistributionRule":t.NLS=n.getNLSValue("Attribute.DELLmiHeaderOperationInstance.V_DistributionRule");break;case"V_TransferQuantity":t.NLS=n.getNLSValue("Attribute.DELLmiTimeConstraintQuantityDistribution.V_TransferQuantity");break;case"V_Priority":t.NLS=n.getNLSValue("Attribute.DELLmiTimeConstraintQuantityDistribution.V_Priority")}"DELLmiTimeConstraintCnx"===o.type&&("V_MaterialNeed"===t.Name&&(t.NLS=n.getNLSValue("Attribute.DELLmiTimeConstraintCnx.V_MaterialNeed")),"V_DependencyType"===t.Name&&(r=["StartToFinish","PreviousCycle"],t.AuthorizedValues=t.AuthorizedValues.filter(function(e){return-1===r.indexOf(e.Name)}))),s=o.type+"."+t.Name,f[s]=t.NLS,c[s]=function(t){return e.is(t)&&e.is(t.AuthorizedValues,"array")&&(t.AuthorizedValues=t.AuthorizedValues.map(function(t){return{Name:t.Name,NLS:e.is(t.NLS,"string")?t.NLS.trimEnd():t.NLS}}),e.is(t.DefaultValue,"string")&&(t.DefaultValue=t.DefaultValue.trimEnd())),t}(t)}),o})),["PLMInstance.PLM_ExternalID","PLMReference.V_isLastVersion","PLMReference.V_ApplicabilityDate"].forEach(t=>{var i;!e.is(c[t])&&e.is(r[t])&&((i=r[t]).NLS=n.getNLSValue("Attribute."+t),c[t]=i,f[t]=i.NLS)}),t.debug(a.name,"Attributes info merged (dico and mask): ",JSON.stringify(s)),n.addNlsJSON(f),a.addAttributeInfo(c),o(s)},s)},_retrieveAttrMaskInfoForOperationTypes:function(e,t){this.getAttributeMaskInfoOfType("OPERATION",e,t)},_retrieveAttrMaskInfoForSystemTypes:function(e,t){this.getAttributeMaskInfoOfType("SYSTEM",e,t)},_retrieveAttrMaskInfoForResourceTypes:function(e,t){this.getAttributeMaskInfoOfType("RESOURCE",e,t)},_retrieveAttrMaskInfoForProcessTypes:function(e,t){this.getAttributeMaskInfoOfType("PROCESS",e,t)},_retrieveAttrMaskInfoForProductTypes:function(e,t){this.getAttributeMaskInfoOfType("PRODUCT",e,t)},_retrieveAttrMaskInfoForPartTypes:function(e,t){this.getAttributeMaskInfoOfType("PART",e,t)},retrieveAttrMaskInfoForPPRTypes:function(e,i){var n=this,r=["PROCESS","RESOURCE","PRODUCT","PART","SYSTEM","OPERATION","SERVICE","CONSTRUCTION"],o=[];r.indexOf("PROCESS")>=0&&o.push(new Promise(this._retrieveAttrMaskInfoForProcessTypes.bind(this))),r.indexOf("RESOURCE")>=0&&o.push(new Promise(this._retrieveAttrMaskInfoForResourceTypes.bind(this))),r.indexOf("PRODUCT")>=0&&o.push(new Promise(this._retrieveAttrMaskInfoForProductTypes.bind(this))),r.indexOf("PART")>=0&&o.push(new Promise(this._retrieveAttrMaskInfoForPartTypes.bind(this))),r.indexOf("SYSTEM")>=0&&o.push(new Promise(this._retrieveAttrMaskInfoForSystemTypes.bind(this))),r.indexOf("OPERATION")>=0&&o.push(new Promise(this._retrieveAttrMaskInfoForOperationTypes.bind(this))),r.indexOf("SERVICE")>=0&&o.push(new Promise(this._retrieveAttrMaskInfoForOperationTypes.bind(this))),r.indexOf("CONSTRUCTION")>=0&&o.push(new Promise(this._retrieveAttrMaskInfoForOperationTypes.bind(this))),Promise.all(o).then(function(){e()},function(e){t.debug(n.name,"DicoUtils.retrieveAttrMaskInfoForPPRTypes FAILED !!!"),i(e)})},_retrieveExtnInfoForRefTypes:function(e,t){var i=this,n=["PROCESS","PART","SYSTEM","OPERATION","SERVICE","WORKINSTRUCTION","CONSTRUCTION"],r=[];this.getReferenceTypes().forEach(function(e){var t=i.getPPRType(e);n.indexOf(t)>-1&&r.push(e)}),this.getExtnInfoOfTypes(r,e,t)},_retrieveExtnInfoForInstTypes:function(e,t){this.getExtnInfoOfTypes(this.getInstanceTypes(),e,t)},_retrieveExtnInfoForLinkTypes:function(e,t){this.getExtnInfoOfTypes(["MfgProductionPlanning","DELLmiTimeConstraintCnx","DELAsmProcessCanUseCnx","PrimaryResourceLinkDetail"],e,t)},retrieveExtnInfoForClassTypes:function(e,i){var n=this,r=[];r.push(new Promise(this._retrieveExtnInfoForRefTypes.bind(this))),r.push(new Promise(this._retrieveExtnInfoForInstTypes.bind(this))),r.push(new Promise(this._retrieveExtnInfoForLinkTypes.bind(this))),Promise.all(r).then(function(){e()},function(e){t.debug(n.name,"DicoUtils.retrieveExtnInfoForClassTypes FAILED !!!"),i(e)})},getAttributeMaskInfoOfType:function(t,n,r){var o=this;i.webServiceRequest({url:"dsmfg/private/V0/invoke/getTypesAttributesMaskInfo",method:"GET",data:{payload:JSON.stringify([t])},onComplete:function(t){var i;for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&o.addTypeMaskInfo(i,t[i]);e.is(n,"function")&&n()},onFailure:r,onTimeout:r})},getExtnInfoOfTypes:function(t,n,r){var o=this;i.webServiceRequest({url:"dictionary/interfaces?customerOnly=false",method:"POST",data:e.Json.encode({classes:t}),onComplete:function(t){e.is(t)&&(t=t.results,Array.isArray(t)&&t.forEach(function(e){var t;t=e.interfaces.map(function(e){return e.name}),e.name="MfgProductionPlanning"===e.name?"ProcessImplementLinkOcc":e.name,o.addTypeExtnInfo(e.name,t)})),e.is(n,"function")&&n()},onFailure:r,onTimeout:r})},addTypeExtnInfo:function(e,t){this._typeExtnInfo[e]=t},addTypeExtnCustomInterface:function(t,i){e.is(this._typeExtnInfo[t],"array")?-1===this._typeExtnInfo[t].indexOf(i)&&this._typeExtnInfo[t].push(i):this._typeExtnInfo[t]=[i]},getProtectedAttributes:function(e){return o[e]},getTypeExtnInfo:function(e){return this._typeExtnInfo[e]},addAttributeInfo:function(t){e.extend(this._attributeInfo,t,!0)},getAttributeInfo:function(e,t){var i;return e&&(-1===e.indexOf(".")&&Object.keys(this._attributeInfo).some(function(t){var i;return(i=t.slice(t.lastIndexOf(".")+1,t.length)===e)&&(e=t),i}),(i=this._attributeInfo[e])&&(i.FullName=e,t&&(i=i[t]))),i},addTypeMaskInfo:function(e,t){this._typeMaskInfo[e]=t},getTypeMaskInfo:function(e){return this._typeMaskInfo[e]}}}),define("DS/DELPPWDicoServices/CustoXmlUtils",["UWA/Core","UWA/Class"],function(e,t){"use strict";const i=["current","description","isbestsofar","ispublished","locked","locker","majorrevision","minorrevision","modified","name","organization","originated","owner","physicalid","policy","project","reserved","reservedby","revision"];var n,r,o,s,a;return n=function(e){return Array.isArray(e)?[...e]:[e]},r=function(t,i,n){e.is(t)&&e.is(i)&&e.is(n)&&(e.is(t[i])||(t[i]=[]),-1===t[i].indexOf(n)&&t[i].push(n))},o=function(t,n){var o,s;e.is(t.name)&&(s=e.is(t.dicoType)?t.dicoType:i.indexOf(t.name)>-1?"BusinessType":null,o=t.name,r(n,s,o))},s=function(t,s){var a,u;e.is(t.dataIndex)?(u=e.is(t.dicoType)?t.dicoType:i.indexOf(t.dataIndex)>-1?"BusinessType":null,a=t.dataIndex,r(s,u,a)):e.is(t.Attribute)&&n(t.Attribute).forEach(function(e){o(e,s)})},a=function e(t,i){for(const[r,s]of Object.entries(t))if("Attribute"===r){n(s).forEach(e=>o(e,i))}else"object"==typeof s&&e(s,i)},t.singleton({name:"CustoXmlUtils",retrieveAttributesInfoFromXml:function(t,i){var n,r,o={};return e.is(t.type)&&e.is(t.rootNode)&&(n=t.type,r=t.rootNode,e.is(this[n],"function")&&(0,this[n])(i[r],o)),o},columnConfiguration:function(e,t){if(e.Label){n(e.Label).forEach(e=>s(e,t))}if(e.Columns&&e.Columns.Column){n(e.Columns.Column).forEach(e=>s(e,t))}},bomViewConfiguration:function(e,t){if(e.Preferences){const i=e.Preferences;if(i.BOMView){const e=i.BOMView;if(e.Color){const i=e.Color;if(i.AttributeDefinition){const e=i.AttributeDefinition;s(e,t)}}if(e.Content){const i=e.Content;if(i.Type){n(i.Type).forEach(e=>{if(e.Row){n(e.Row).forEach(e=>s(e,t))}})}}}}},insertFormConfiguration:function(e,t){if(e.Type){n(e.Type).forEach(e=>{n(e.Section).forEach(e=>{n(e.Attribute).forEach(e=>o(e,t))})})}},editFormConfiguration:function(e,t){if(e.Type){n(e.Type).forEach(e=>{n(e.Attribute).forEach(e=>o(e,t))})}},toolTipFormConfiguration:function(e,t){if(e.Tooltip){n(e.Tooltip).forEach(e=>{n(e.Attribute).forEach(e=>o(e,t))})}},graphViewConfiguration:function(e,t){e.Preferences&&a(e.Preferences,t)}})}),define("DS/DELPPWDicoServices/DicoUtils",["UWA/Core","UWA/Class","DS/DELPPWWebServices/WebserviceUtils","DS/DELPPWDicoServices/ModelConfigExt","DS/DELPPWDicoServices/AttributeConfigExt","DS/DELPPWResourceServices/ResourceUtils","DS/DELPPWLoggerModel/LoggerUtils"],function(e,t,i,n,r,o,s){"use strict";var a=t.singleton(n,r,{name:"DicoUtils",_modelAttrsJSON:[],_modelTypeConfig:{},_typeHierarchy:{},_readOnlyTypes:null,_acceptedPPRTypesForActions:null,_acceptedBaseTypesForActions:null,_isAutoCreateScopeOnHOP:!1,_dicoTypesAttributesProperties:[],init:function(t){var i,n,r=this;if(t=t||{},!e.is(t.modelRelationsXML)||!e.is(t.modelCustomRelationsXML))throw new Error("modelTypesPath or modelRelationsXML or modelCustomRelationsXML options not defined");r.options=t,(i=!!e.is(t.acceptedPPRTypesForActionsFilePath)&&t.acceptedPPRTypesForActionsFilePath)&&require(["text!"+i],function(t){e.is(t)?r._acceptedPPRTypesForActions=e.is(t,"string")?e.Json.decode(t):t:s.debug("Accepted Types for DnD mapping is not defined.")}),(n=!!e.is(t.acceptedBaseTypesForActionsFilePath)&&t.acceptedBaseTypesForActionsFilePath)&&require(["text!"+n],function(t){e.is(t)?r._acceptedBaseTypesForActions=e.is(t,"string")?e.Json.decode(t):t:s.debug("Accepted base types are not defined.")})},setup:function(e){a._modelAttrsJSON=e.configuredAttribures||[],a._modelTypeConfig=e.modelTypesConfig||{},a._readOnlyTypes=e.readOnlyTypesConfig||new Set},updateAggregationRules:function(e,t){this.retrieveValidChildTypes(e,t)},retrieveSharedIconPath:function(t,n){var r=o.getIconNames();e.is(r,"array")&&r.length>0?i.webServiceRequest({url:"dsmfg/private/V0/invoke/getSharedIconPath",method:"POST",data:JSON.stringify(r),onComplete:function(e){o.setSharedIconPath(e),t()},onFailure:n,onTimeout:n}):t()},retrieveDimensions:function(e,t){i.webServiceRequest({url:"dictionary/dimensions",method:"GET",onComplete:function(t){o.addDimensions(t.results),e()},onFailure:t,onTimeout:t})},_retrieveDicoType:function(t,n,r){var s=this;i.webServiceRequest({url:"dictionary/getTypeInfo?parentInfo=true",method:"POST",data:JSON.stringify(t),onComplete:function(t){n(),Object.keys(t).forEach(function(i){for(var n=[],r=e.is(t[i].parent)?t[i].parent:null;null!==r;)n.push(r),r=e.is(t[r].parent)?t[r].parent:null;n.length>0&&(n.reverse(),-1!==s.getReferenceTypes().indexOf(n[0])?s._modelTypeConfig.reference.types.push(i):-1!==s.getInstanceTypes().indexOf(n[0])&&s._modelTypeConfig.instance.types.push(i),-1!==s.getDocumentTypes().indexOf(n[0])&&s._modelTypeConfig.document.types.push(i),e.is(t[n[0]].derivedTypes,"array")||(t[n[0]].derivedTypes=[]),t[n[0]].derivedTypes.push(i)),t[i].inheritanceChain=n}),o.addIcons(t),s._typeHierarchy=e.merge(s._typeHierarchy,t)},onFailure:r,onTimeout:r})},retrieveCustomDicoType:function(e,t){i.webServiceRequest({url:"dsmfg/private/V0/invoke/getTypeNLS",method:"POST",data:JSON.stringify({kinds:["entity","interface"],types:this._modelTypeConfig.reference.types}),onComplete:function(t){o.addNlsJSON(t),e()},onFailure:t,onTimeout:t})},retrieveRefDicoType:function(e,t){this._retrieveDicoType(this.getReferenceTypes(),e,t)},retrieveInstDicoType:function(e,t){this._retrieveDicoType(this.getInstanceTypes(),e,t)},retrieveDocDicoType:function(e,t){this._retrieveDicoType(this.getDocumentTypes(),e,t)},retrieveResourceType:function(e,t){var n=this;i.webServiceRequest({url:"dictionary/getTypeInfo",method:"POST",data:JSON.stringify(["Resource"]),onComplete:function(t){var i=Object.keys(t).filter(function(e){return"Resource"!==e});t.Resource.derivedTypes=i,t.Resource.inheritanceChain=[],n._typeHierarchy.Resource=t.Resource,e()},onFailure:t,onTimeout:t})},retrieveParameterIsAutoCreateScopeOnHOP:function(t,n){var r=this;i.webServiceRequest({url:"delmia/param/configuration/getParameters?domainID=DigitalManufacturing&familyID=ProcessBehaviors&paramID=AutoCreateScopeOnHOPCheckbox&argID=AutoCreateScopeOnHOPArg",method:"GET",onComplete:function(i){e.is(i)&&(r._isAutoCreateScopeOnHOP=1===i.length&&"Enabled"===i[0].value),t()},onFailure:n,onTimeout:n})},retrieveDicoTypesAttributesIndexMapping:function(t,n){var r=this,o=this._getDicoTypes(),a=function(e){s.error("Failed to retrieve attribute index mapping from server: "+e),n()};e.is(o,"array")&&o.length>0?i.webServiceRequest({url:"dsmfg/private/V0/invoke/getPredicates",method:"POST",data:JSON.stringify(o),onComplete:function(i){e.is(i,"array")&&(r._dicoTypesAttributesProperties=i),t()},onFailure:a,onTimeout:a}):t()},_getDicoTypes:function(){var t=["PLMEntity","PLMInstance"];return function i(n){e.is(n,"object")?Object.keys(n).forEach(function(r){"dicoType"===r&&e.is(n[r],"string")?"BusinessType"===n[r]||t.includes(n[r])||t.push(n[r]):i(n[r])}):e.is(n,"array")&&n.forEach(function(e){i(e)})}(i._xmlCache),t},getAcceptedPPRTypesForActions:function(){return this._acceptedPPRTypesForActions},getAcceptedBaseTypesForActions:function(){return this._acceptedBaseTypesForActions},getParentTypes:function(t){let i=[];return e.is(this._typeHierarchy[t])&&(i=this._typeHierarchy[t].inheritanceChain||[]),i},getReadOnlyTypes:function(){return this._readOnlyTypes},getTypeHierarchy:function(t){return e.is(this._typeHierarchy[t])&&Array.isArray(this._typeHierarchy[t].derivedTypes)?this._typeHierarchy[t].derivedTypes:[]},getTypeInfo:function(t){var i;return e.is(this._typeHierarchy[t])&&(i=this._typeHierarchy[t]),i},getReferenceTypes:function(){return this._modelTypeConfig.reference.types},getInstanceTypes:function(){return this._modelTypeConfig.instance.types},getDocumentTypes:function(){return this._modelTypeConfig.document.types},getConnectionTypes:function(){return this._modelTypeConfig.connection.types},isEntityReference:function(e){return-1!==this.getReferenceTypes().indexOf(e)},isEntityInstance:function(e){return-1!==this.getInstanceTypes().indexOf(e)},isEntityConnection:function(e){return-1!==this.getConnectionTypes().indexOf(e)},isEntityDocument:function(e){return-1!==this.getDocumentTypes().indexOf(e)},isAutoCreateScopeOnHOP:function(){return this._isAutoCreateScopeOnHOP},isAKindOf:function(t,i){var n=!1,r=e.is(t)?e.is(t,"string")?t:e.is(t.get,"function")?t.get("type"):null:null,o=e.is(i,"string")&&0<i.length?a.getTypeHierarchy(i):null;return e.is(r,"string")&&e.is(i,"string")&&(i===r?n=!0:Array.isArray(o)&&(n=o.some(function(e){return r===e},this))),n},getDicoTypeIndexesForAttribute:function(t,i){var n=[],r="";return e.is(this._dicoTypesAttributesProperties,"array")&&this._dicoTypesAttributesProperties.forEach(function(e){if(e.fullName===t)if(e.kind===i)n.push(e.uri);else if("interface"===e.kind){if(e.uri.startsWith("tbr."))switch(i){case"entity":r="bo"+e.uri.substring(3);break;case"relation":r="ro"+e.uri.substring(3);break;default:r=e.uri}else r=e.uri;n.push(r)}},this),n},getDicoTypeAttributesForIndex:function(t,i){var n=[],r="";return e.is(this._dicoTypesAttributesProperties,"array")&&this._dicoTypesAttributesProperties.forEach(function(e){if(e.uri===t&&e.kind===i)n.push(e.fullName);else if("interface"===e.kind)if(e.uri.startsWith("tbr.")){switch(i){case"entity":r="bo"+e.uri.substring(3);break;case"relation":r="ro"+e.uri.substring(3);break;default:r=e.uri}r===t&&n.push(e.fullName)}else e.uri===t&&n.push(e.fullName)},this),n},fetchDicoAttributeInfo(e,t,i=(()=>{})){e.length>0&&e.forEach(e=>{let t=a._modelAttrsJSON.findIndex(function(t){return t.type===e.type});-1!==t?a._modelAttrsJSON[t].attributes.push(...e.attributes):a._modelAttrsJSON.push(e)}),a.retrieveDicoAttributeInfo(t,i)}});return a});