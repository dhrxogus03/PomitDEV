define("DS/DELWeb3DOpersReviewAppCommands/RemoveAllCmd",["DS/ApplicationFrame/Command","DS/DELWebComponentManager/DELWebComponentManager"],function(e,t){"use strict";return e.extend({init:function(e){this._parent(e,{mode:"shared",isAsynchronous:!0})},execute:function(){t.getComponent("Utils").trackChanges({category:"ActionBarCommand",action:"RemoveAllObjects",label:"RemoveAllCmd"}),t.getComponent("ModelEvents").publish({event:"cleanAll",data:{origin:"RemoveAllCmd"}}),this.disable()}})}),define("DS/DELWeb3DOpersReviewAppCommands/DELOERRightSidePanel",["DS/DEL3DViewer/commands/DELViewerRightSidePanel","DS/DELWebComponentManager/DELWebComponentManager","DS/Selection/CSOManager","DS/DELWebComponentManager/XSOManager"],function(e,t,n,o){"use strict";return e.extend({init:function(e){var t=this;this._csoToken=[],this._modelEventToken=[],this._parent(e),this._csoToken.push(n.onPostAdd(function(e){t.add(e)})),this._csoToken.push(n.onPostRemove(function(e){t.remove(e)}))},getXSO:function(){return o.getCSO()},add:function(e){o.getCSO().add(e)},remove:function(e){o.getCSO().remove(e)},getID:function(e){return e.pathElement?this._parent(e):e.getReferenceId()},getRelationID:function(e){return e.pathElement?this._parent(e):e.getInstanceId()},getServiceId:function(e){return e.pathElement?this._parent(e):"3DSpace"},destroy:function(){this._modelEventToken.forEach(e=>{t.getComponent("ModelEvents").unsubscribe(e)}),this._modelEventToken=[],this._csoToken.forEach(e=>{n.unsubscribe(e)}),this._csoToken=[],this._parent()}})}),define("DS/DELWeb3DOpersReviewAppCommands/DELWeb3DGenerateIssueCmd",["DS/ApplicationFrame/Command","DS/DELWebComponentManager/DELWebComponentManager","DS/DELWebComponentManager/DELWebTypesUtil","DS/DELWebComponentManager/XSOManager","DS/DEL3DViewer/NodeUtil"],function(e,t,n,o,a){"use strict";const i="ds6w:type",r="3DSpace";var s,c,d,u;return u=function(e){var n=t.getComponent("Utils");c?(d.getSecurityContext=function(){return widget.getValue("pad_security_ctx").replace("ctx::","")},d.getTenant=function(){return n.getPlatformId()},e()):require(["DS/IssueManagementWebInWin/ENOIssueGenerationWebPanel","DS/IssueServices/Contexts","DS/IssueServices/services/PlatformServices","DS/IssueServices/services/IssueServices"],function(t,o,a,i){s=t,d=a,i,(c=o).add("widget",window.widget),d.getSecurityContext=function(){return widget.getValue("pad_security_ctx").replace("ctx::","")},d.getTenant=function(){return n.getPlatformId()},d.initPlatformServices().then(function(){e()})})},e.extend({init:function(e){var c,d,p=this,l=[],g=o.getCSO()||null,m=function(e,t){e=e||{},p._buildup={},!0===e.state&&t&&UWA.is(t.data.path,"array")&&t.data.path.length>0&&(p._buildup={state:!0,refId:t.data.path[t.data.path.length-1]})},h=function(e){p._buildup&&(p._buildup={})};e.mode="exclusive",e.isAsynchronous=!0,this._parent(e),d=t.getComponent("ModelEvents"),[{eventName:{event:"activateBuildup"},callback:m.bind(null,{state:!0}),handler:d},{eventName:{event:"deactivateBuildup"},callback:m.bind(null,{state:!1}),handler:d},{eventName:{event:"loadData"},callback:h,handler:d}].forEach(function(e){l.push(e.handler.subscribe(e.eventName,e.callback))}),this.execute=async function(){var e={reportedAgainst:[],contexts:[],attachments:[]},o=g.get(),d=t.getComponent("SessionModel").get("roots"),l=d.some(e=>e.pprType===n.PPRTYPES.PROCESS),m=function(){UWA.is(o,"array")&&o.length>0&&o.forEach(t=>{t.pathElement?e.reportedAgainst.push(a.getLeafID(t.pathElement)):(t.getReferenceType&&n.isWKIType(t.getReferenceType())&&t.getParent()&&e.contexts.push(t.getParent().getReferenceId()),e.reportedAgainst.push(t.getReferenceId()))})};t.getComponent("Utils").trackChanges({category:"ActionBarCommand",action:"GenerateIssue",label:"DELWeb3DGenerateIssueCmd"}),d&&(l&&this._buildup&&!0===this._buildup.state&&this._buildup.refId?e.reportedAgainst.push(this._buildup.refId):m(),(()=>{let t,n;l?t=d:(n=[...new Set(o.map(e=>(function(e){let t;if(e.pathElement){let n=a.getRootReferences(e.pathElement.getLastElement());n.length>0&&(t=a.getNodeID(n[0]))}else t=e.getRoot().getReferenceId();return t})(e)))],t=d.filter(e=>-1!==n.indexOf(e.id))),t&&t.forEach(function(t){e.contexts.push(t.id),t.scopedMfg&&t.scopedMfg.id&&e.contexts.push(t.scopedMfg.id),t.resource&&t.resource.id&&e.contexts.push(t.resource.id)})})());let h=await async function(e){let n=[...new Set([...e.reportedAgainst,...e.contexts])],o=await t.getComponent("Utils").getAttributeForIds(n,[i]),a=function(e){return{physicalId:e,serviceId:r,objectType:o&&o[e]?o[e][i]:null}};return e.reportedAgainst=e.reportedAgainst.map(a),e.contexts=e.contexts.map(a),e}(e);var f;f=h,u(function(){p.isRunning()&&(c=new s({data:f,htmlContainer:window.widget.body,onClose:p.end.bind(p)}))})},this.pauseExecute=function(){p.end()},this.endExecute=function(){c&&(c.destroy(),c=null)},this._destroy=function(){var e=Object.getPrototypeOf(this);l.forEach(e=>{t.getComponent("ModelEvents").unsubscribe(e)}),e._destroy&&e._destroy.apply(this,arguments)},this.onClose=function(){c=null,p.end()},this.disable()}})}),define("DS/DELWeb3DOpersReviewAppCommands/ToggleDataGridViewCmd",["DS/ApplicationFrame/CommandCheckHeader","DS/DELWebComponentManager/DELWebComponentManager"],function(e,t){"use strict";return e.extend({name:"ToggleDataGridViewCmd",options:null,init:function(e){this.options=e,this._parent(e,{mode:"exclusive",isAsynchronous:!1}),this.setState(!0),this.onStateChange(function(){var e=this.getState();t.getComponent("ModelEvents").publish({event:"onToggleDataGridview",data:{data:{state:e},origin:"ToggleDataGridViewCmd"}})})}})}),define("DS/DELWeb3DOpersReviewAppCommands/HomeCmd",["DS/ApplicationFrame/Command","DS/DELWebComponentManager/DELWebComponentManager"],function(e,t){"use strict";return e.extend({execute:function(){t.getComponent("ModelEvents").publish({event:"onHome",data:{origin:"HomeCmd"}})}})}),define("DS/DELWeb3DOpersReviewAppCommands/DELOERRelationalNavigatorCmd",["UWA/Core","DS/ApplicationFrame/Command","DS/DEL3DViewer/NodeUtil","DS/DELWebComponentManager/XSOManager","DS/DELWebComponentManager/DELWebComponentManager"],function(e,t,n,o,a){"use strict";return t.extend({init:function(e){this._parent(e,{mode:"shared",isAsynchronous:!0}),this.disable()},execute:function(){var e=o.getCSO().get(),t=[],i=a.getComponent("Utils");i.trackChanges({category:"ActionBarCommand",action:"ShowRelations",label:"DELOERRelationalNavigatorCmd"}),e.forEach(function(e){var o;o=e.pathElement?function(e){for(var t,o=e.getLastElement(!0);o&&!n.isPLMNode(o);)o=o.parents[0];return o&&(t={options:{type:n.getNodeType(o),grid:{"ds6w:type":""}},getID:function(){return n.getNodeID(o)},getLabel:function(){}}),t}(e.pathElement):function(e){return{options:{type:e.getReferenceType(),grid:{"ds6w:type":""}},getID:function(){return e.getReferenceId()},getLabel:function(){}}}(e),t.push(o)}),t.length&&(i.setObjectOnCompass({nodes_2_open:t}),i.openApp({appId:"ENORIPE_AP"},function(){}))}})});