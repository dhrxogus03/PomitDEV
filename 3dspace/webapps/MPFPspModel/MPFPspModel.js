define("DS/MPFPspModel/ParamPspDataProxy",["DS/MPFDataProxy/DataProxy","DS/MPFError/NotImplementedError","DS/MPFUrl/UrlUtils"],function(e,t,r){"use strict";return e.extend({init(e){this._parent(e,"/mdcart/carts/psp")},urlGet(e,{service:t,country:P,licensorId:s,currency:a,...n}={}){const o=this._parent(e,n),i=new r(o);return i.addParameter("service",t),i.addParameter("country",P),i.addParameter("licensorId",s),i.addParameter("currency",a),i.getUrl()},urlPost:t.emit,urlPut:t.emit,urlPatch:t.emit,urlDelete:t.emit,doPost:t.emit,doPut:t.emit,doPatch:t.emit,doDelete:t.emit})}),define("DS/MPFPspModel/ShopPspDataProxy",["UWA/String","DS/MPFDataProxy/DataProxy","DS/MPFError/NotImplementedError"],(e,t,r)=>{"use strict";return t.extend({init(e,t){this._parent(e,"/mdshop/shops/{0}/psp",t)},buildPath(t,r){return e.format(this.resourcePath,t.parentResourceId)},urlGet(e,t){let r=this._parent(e,t);if(t.forcePsp){const e=new URL(r),P=new URLSearchParams(e.searchParams);P.set("forcePSP",t.forcePsp),e.search=P.toString(),r=e.toString()}else{const e=new URLSearchParams(document.location.search);if(e.has("forcePSP")){const t=new URL(r),P=new URLSearchParams(t.searchParams);P.set("forcePSP",e.get("forcePSP")),t.search=P.toString(),r=t.toString()}}return r},urlPut:r.emit,urlDelete:r.emit,doPut:r.emit,doDelete:r.emit})}),define("DS/MPFPspModel/CartPspDataProxy",["UWA/String","DS/MPFDataProxy/DataProxy","DS/MPFError/NotImplementedError"],(e,t,r)=>{"use strict";return t.extend({init(e,t){this._parent(e,"/mdcart/carts/{0}/psp",t)},buildPath(t,r){return e.format(this.resourcePath,t.parentResourceId)},urlPost:r.emit,urlPut:r.emit,urlPatch:r.emit,urlDelete:r.emit,doPost:r.emit,doPut:r.emit,doPatch:r.emit,doDelete:r.emit})}),define("DS/MPFPspModel/MeOnlineInstanceDataProxy",["UWA/String","DS/MPFDataProxy/DataProxy","DS/MPFError/NotImplementedError"],(e,t,r)=>{"use strict";return t.extend({init(e,t){this._parent(e,"/me/{0}/psp",t)},buildPath(t,r){return e.format(this.resourcePath,t.parentResourceId)},urlPost:r.emit,urlPut:r.emit,urlPatch:r.emit,urlDelete:r.emit,doPost:r.emit,doPut:r.emit,doPatch:r.emit,doDelete:r.emit})}),define("DS/MPFPspModel/PspModel",["DS/MPFModel/MPFModel"],e=>{"use strict";const t=Object.freeze({PUBLIC_KEY:"public_key",COUNTRY_PLATFORM:"country_platform",PSP:"psp",PAYMENT_METHOD:"payment_method",SCA_ENABLED:"sca_enabled",MAX_CHARGE_AMOUNT:"charge_amount_max",BANK_TRANSFER_THRESHOLD:"bank_transfer_threshold"}),r=Object.freeze({HIPAY:"hipay",STRIPE:"stripe",PAYU:"payu",CC_AVENUE:"ccavenue"}),P=Object.freeze({CREDIT_CARD:"CC",BANK_TRANSFER:"BT",UNIFIED_PAYMENTS_INTERFACE:"UPI"}),s=Object.freeze({STRIPE_US:"US",STRIPE_EU:"FR",STRIPE_JAPAN:"JP",STRIPE_GB:"GB",STRIPE_AUSTRALIA:"AU",PAYU_INDIA:"IN"}),a=e.extend({defaults:function(){return{[t.PUBLIC_KEY]:null,[t.COUNTRY_PLATFORM]:null,[t.PSP]:null,[t.PAYMENT_METHOD]:null}},setup(e,t){this._parent(e,t),this._type="PspModel"},getPublicKey(){return this.get(t.PUBLIC_KEY)},setPublicKey(e){return this.set(t.PUBLIC_KEY,e)},getCountryPlatform(){return this.get(t.COUNTRY_PLATFORM)},setCountryPlatform(e){return this.set(t.COUNTRY_PLATFORM,e)},getPsp(){return this.get(t.PSP)},setPsp(e){return this.set(t.PSP,e)},getPaymentMethod(){return this.get(t.PAYMENT_METHOD)},setPaymentMethod(e){return this.set(t.PAYMENT_METHOD,e)},getMaxChargeAmount(){return this.get(t.MAX_CHARGE_AMOUNT)},getBankTransferThreshold(){return this.get(t.BANK_TRANSFER_THRESHOLD)},isScaEnabled(){return this.get(t.SCA_ENABLED)},isBankTransferEnabled(){return-1!==(this.getPaymentMethod()||[]).indexOf(P.BANK_TRANSFER)},doesPriceExceedBtMax({price:e}){const t=parseFloat(this.getBankTransferThreshold());return!isNaN(t)&&t<parseFloat(e)},isStripe(){return this.getPsp()===r.STRIPE},isStripeEU(){return this.getPsp()===r.STRIPE&&this.getCountryPlatform()===s.STRIPE_EU},isStripeGB(){return this.getPsp()===r.STRIPE&&this.getCountryPlatform()===s.STRIPE_GB},isStripeUS(){return this.getPsp()===r.STRIPE&&this.getCountryPlatform()===s.STRIPE_US},isPayU(){return this.getPsp()===r.PAYU},isCcAvenue(){return this.getPsp()===r.CC_AVENUE},usesPaymentPageRedirection(){return this.isPayU()||this.isCcAvenue()}});return a.Fields=t,a.Psp=r,a.PaymentMethod=P,a.Platform=s,a}),define("DS/MPFPspModel/PspFactory",["DS/MPFModelFactory/Factory","DS/MPFPspModel/PspModel","DS/MPFPspModel/ShopPspDataProxy","DS/MPFPspModel/CartPspDataProxy","DS/MPFPspModel/ParamPspDataProxy","DS/MPFPspModel/MeOnlineInstanceDataProxy","DS/MPFError/NotImplementedError"],(e,t,r,P,s,a,n)=>{"use strict";const o=Object.freeze({SHOP_PSP:"shopPsp",CART_PSP:"cartPsp",ME_ONLINE_INSTANCE:"meOnlineInstance",PARAM_PSP:"paramPsp"}),i={[o.SHOP_PSP]:r,[o.CART_PSP]:P,[o.ME_ONLINE_INSTANCE]:a,[o.PARAM_PSP]:s},u=e.extend({createModel(e,r,P){return this._parent(t,e,r,P)},createCollection:n.emit,getDataProxy(e){let t;const r=i[e];return r&&(t=this.getOrCreateDataProxyForType(e,r)),t}});return u.Types=o,u});