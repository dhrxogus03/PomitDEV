define("UWA/Utils/Cookie",["UWA/Core"],function(e){"use strict";var t={},n=window.document,o="nv.",r=new Date("Fri, 31 Dec 9999 23:59:59 UTC"),i=null,a=null;function c(e,t){if(t=t||new Date,"number"==typeof e?e=e===1/0?r:new Date(t.getTime()+1e3*e):"string"==typeof e&&(e=new Date(e)),e&&(n=e,"[object Date]"!==Object.prototype.toString.call(n)||isNaN(n.getTime())))throw new Error("`expires` parameter cannot be converted to a valid Date instance");var n;return e}function u(e){var t=e.indexOf("=");t=t<0?e.length:t;var n,o=e.substr(0,t);try{n=decodeURIComponent(o)}catch(e){throw new Error('Could not decode cookie with key "'+o+'" ['+e+"]")}return{key:n,value:e.substr(t+1)}}function s(){i=function(e){for(var t={},n=e?e.split("; "):[],r=0;r<n.length;r++){var i=u(n[r]);void 0===t[o+i.key]&&(t[o+i.key]=i.value)}return t}(n.cookie),a=n.cookie}return t.defaults={path:"/",secure:!1},t.get=function(e){a!==n.cookie&&s();var t=i[o+e];return void 0===t?void 0:decodeURIComponent(t)},t.getAll=function(){a!==n.cookie&&s();var e={};for(var t in i)e[t.slice(o.length)]=decodeURIComponent(i[t]);return e},t.set=function(e,o,r){return(r=function(e){return{path:e&&e.path||t.defaults.path,domain:e&&e.domain||t.defaults.domain,expires:e&&e.expires||t.defaults.expires,secure:e&&void 0!==e.secure?e.secure:t.defaults.secure}}(r)).expires=c(void 0===o?-1:r.expires),n.cookie=function(e,t,n){var o=(e=(e=e.replace(/[^#$&+\^`|]/g,encodeURIComponent)).replace(/\(/g,"%28").replace(/\)/g,"%29"))+"="+(t=String(t).replace(/[^!#$&-+\--:<-\[\]-~]/g,encodeURIComponent));return o+=(n=n||{}).path?";path="+n.path:"",o+=n.domain?";domain="+n.domain:"",o+=n.expires?";expires="+n.expires.toUTCString():"",o+=n.secure?";secure":""}(e,o,r),t},t.expire=function(e,n){return t.set(e,void 0,n)},t.enabled=function(){var e=!1;try{e="1"===t.set("cookie.js",1).get("cookie.js"),t.expire("cookie.js")}catch(e){}return e}(),e.namespace("Utils/Cookie",t,e)});