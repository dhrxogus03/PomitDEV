define("DS/DELWebViewerFacets/DataCollectRowColumnManager",["UWA/Core","UWA/Class","i18n!DS/DELWebViewerFacets/assets/nls/DataCollect"],function(e,t,n){"use strict";var a,l=function(){return{getCellTypeRepresentation:function(t,n){var a,l;switch(n.isHeader&&(a="string"),e.is(n.nodeModel)&&(l=n.nodeModel.options.grid),t){case"minValue.value":case"controlMinValue.value":case"controlMaxValue.value":case'maxValue.value"':a="number";break;case"possibleValues":a=e.is(l)&&e.is(l["minValue.unit"])?"number":"string";break;case"minIncluded":case"controlMinIncluded":case"controlMaxIncluded":case"maxIncluded":a="boolean";break;case"created":case"modified":a="date";break;default:a="string"}return a},getCellValue:function(t,a){var l,r,i,s,o,c=a.nodeModel.options.grid;switch(o=function(e){switch(e){case 1:return n.get("DataCollect.DCTypeReal.Title");case 2:return n.get("DataCollect.DCTypeInteger.Title");case 3:return n.get("DataCollect.DCTypeText.Title");case 4:return n.get("DataCollect.DCTypeBoolean.Title");case 5:return n.get("DataCollect.DCTypeTimestamp.Title");default:return""}},r=function(t){var n,a,l,r,i,s=e.is(t)?t:"";if(0===s.indexOf("<?xml")&&0<s.indexOf("<html")&&(r=s.indexOf("<body>"),i=s.indexOf("</body>"),r>-1&&i>-1)){for(s=(s=s.slice(r+6,i)).replaceAll("<br/>"," ");-1!==s.indexOf("<");)n=s.indexOf("<"),-1!==(a=s.indexOf(">",n)+1)&&(l=s.substring(n,a),s=s.replace(l,""));s=(s=(s=(s=s.replaceAll("&lt;","<")).replaceAll("&gt;",">")).replaceAll("&amp;","&")).replaceAll("&nbsp;"," ")}return s},l=function(t){var n=t.split("."),a={...c};return n.forEach(e=>{a=a[e]?a[e]:{}}),e.is(a,"object")?"":a},s=function(n){var a="";return e.is(n,"array")?n.forEach((e,t)=>{a+=e+(t===n.length-1?"":"|")}):e.is(c[t],"string")&&(a=n),a},t){case"text":i=r(c[t]);break;case"minValue.unit":case"minValue.value":case"controlMinValue.value":case"controlMaxValue.value":case"maxValue.value":i=l(t);break;case"dcType":i=o(c[t]);break;case"possibleValues":i=s(c[t]);break;default:i=c[t]}return i}}};return e.is(a)||(a=new l),a}),define("DS/DELWebViewerFacets/WkiInstructionsFacetController",["UWA/Core","DS/DELWebUiComponent/facets/DataCollectMgmtUI","DS/DELWebUiComponent/facets/WkiInstructionsFacetUI","DS/DELPPRData/facets/DELWkiInstructionsFacetModel","DS/DELWebViewerFacets/DataCollectRowColumnManager","text!DS/DELWebViewerFacets/assets/json/DataCollectConfig.json","i18n!DS/DELWebViewerFacets/assets/nls/DataCollect"],function(e,t,n,a,l,r,i){"use strict";return function(s){const o="DELWkiDataCollectPlanReference",c="DELWkiDataCollectChecklistReference";var u={sortableFlag:!1,groupableFlag:!0,displayType:"NonEditable",visibleFlag:!0,width:"auto",minWidth:100,editionPolicy:"EditionOnClick",editableFlag:!1},d=new t(s.elements),f=new n(s.elements),p=new a,b=JSON.parse(r);return{createUI:function(t){p.getData(t).then(function(t){var n,a;!t||t.type!==o&&t.type!==c?t&&t.response&&e.is(t.response.member,"array")&&t.response.member.length>0&&t.response.member[0].text&&f.buildView(t.response.member[0].text):t&&t.type&&(n=function(t){var n,a=[];return b[t]&&(n=b[t].Columns,e.is(n,"array")&&n.forEach(e=>{var t={...u};t.dataIndex=e.dataIndex,t.text=i.get("DataCollect."+e.name+".Title"),t.getCellTypeRepresentation=l.getCellTypeRepresentation.bind(null,e.dataIndex),t.getCellValue=l.getCellValue.bind(null,e.dataIndex),a.push(t)})),a}(t.type),a=function(t){var n=[];return t&&e.is(t.member,"array")&&t.member.forEach(e=>{var t={referenceId:e.id?e.id:"",type:e.type?e.type:"",label:e.label?e.label:"",grid:{...e}};n.push(t)}),n}(t.response),d.buildView({columns:n,rows:a}))})},clean:function(){d.clean(),f.clean()},destroy:function(){d.destroy(),f.destroy()}}}}),define("DS/DELWebViewerFacets/DELWkiInstructionsFacet",["UWA/Core","UWA/Controls/Abstract","UWA/Class","DS/EditPropWidget/facets/Common/FacetsBase","DS/DELWebViewerFacets/WkiInstructionsFacetController"],function(e,t,n,a,l){"use strict";return n.extend(t,a,{init:function(e){this._parent(e),this._instructionFacetController=new l({elements:this.elements})},updateFacet:function(){this._instructionFacetController.clean(),this._instructionFacetController.createUI(this.getModel())},destroyComponent:function(){this._instructionFacetController.destroy()},onRefresh:function(){this.updateFacet()},show:function(){this.getUI().show()},hide:function(){this.getUI().hide()}})});