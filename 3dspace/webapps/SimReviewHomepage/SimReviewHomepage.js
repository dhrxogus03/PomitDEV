define("DS/SimReviewHomepage/SimReviewHomepage",["UWA/Core","UWA/Class","i18n!DS/SimReviewHomepage/assets/nls/Homepage","DS/WelcomeScreenView/WelcomeScreen","DS/WelcomeScreenView/WelcomeScreenButtonController","DS/WelcomeScreenView/WelcomeScreenMRUController","DS/WebappsUtils/WebappsUtils","DS/WebUtils/WebServices","DS/SPYLoader/SPYWSProxy"],function(e,t,i,o,n,r,s,l,a){"use strict";return t.singleton({init:function(e){this.container;let t={title:"Physics Simulation Review",subtitle:"Experience collaborative simulation data",background:s.getWebappsBaseUrl()+"/SimReviewHomepage/assets/images/bckg.jpg",linksCategories:[{id:"ContentAndKnowledge",i18n:{title:i.Content_And_Knowledge},links:[{id:"userAssist",i18n:{title:i.User_Assistance},icon:"user-help",url:e.UALink},{id:"whatsNew2",i18n:{title:i.Whats_New},icon:"megaphone",url:e.imwnLink}]},{id:"SocialNetworks",i18n:{title:i.Social_Networks},links:[{id:"SimuliaUsersCommunity",i18n:{title:i.Community},icon:"topbar-users",url:"https://dsext001-eu1-215dsi0708-3dswym.3dexperience.3ds.com/#community:07ascjMNRR-U2i0knw33Zw"}]}],buttons:{items:[{id:"open",i18n:{title:i.Open_Content},icon:"open",controller:new n({onAction:t=>{return require(["DS/PADServices/utils/SearchUtils"],t=>{var i={title:"Open Content",precond:"(types/DesignSight OR types/FEM)",search_criteria_to_display:"",showApplyButton:!1,applyButton_Nls:"",callback:t=>{var i;"3dspace"===t[0].sourceid.split(":")[0]?i={provider:t[0].sourceid.split(":")[0],serviceId:t[0].sourceid.split(":")[0],objectId:t[0].id,objectType:t[0]["ds6w:type_value"],displayName:t[0]["ds6w:label"],displayType:t[0]["ds6w:type"],requiredAuth:"passport",envId:t[0].sourceid.split(":")[1],contextid:t[0].contextid,modified:t[0]["ds6w:modified_value"],image:null!=t[0].preview_url?t[0].preview_url:t[0].preview_url_value}:console.error("UNKNOWN ASSET PROVIDER"),null==i.envId&&(i.envId="OnPremise"),this.container.hide(),e.onObjectOpened(i)},cancel:function(e){}};t.inAppsSearch(i)}),Promise.resolve()}})},{hasCustomContent:!0,id:"mru",i18n:{title:i.Most_Recent_Content},icon:"search-recent",controller:new n({onAction:t=>{var i=[];return l.myAppsPreference({preferenceName:"mruPSR",onComplete:t=>{var o=[];""!=t&&null!=t&&(o=(o=JSON.parse(t)).reverse()),0<o.length&&null!=o[0]&&o.forEach(function(e){var t={},o=e.Play3DXContent.data.items[0];t.id=o.displayName,t.title=o.displayName,t.displayName=o.displayName,t.displayType=o.displayType,t.envId=o.envId,t.image=o.image,t.modified=new Date(o.modified),t.objectId=o.objectId,t.objectType=o.objectType,t.provider=o.provider,t.requiredAuth=o.requiredAuth,t.serviceId=o.serviceId,i.push(t)});a.getThumbnails(o,t=>{JSON.parse(t).results.forEach(e=>{i.forEach(t=>{e.attributes[0].value==t.objectId&&(t.image=e.attributes[6].value,t.title=e.attributes[1].value)})});let o={items:i,controller:new r({simpleHit:!0,onHit:t=>{i.forEach((i,o)=>{i.id==t.id&&(this.container.hide(),e.onObjectOpened(i))})},onContextualMenu:t=>{let o=[];return t&&(o=[{type:"PushItem",title:"Open",action:{callback:t=>{i.forEach((t,i)=>{t.id==cellInfo.id&&(this.container.hide(),e.onObjectOpened(t))})}}}]),o}})};this.container.setMRU(o);var n=document.querySelector(".afr-mru-panel");if(null!=n){n.classList.add("afr-mru-maximized");var s=document.getElementById("resize");null!=s&&s.remove()}},()=>{console.error("Error while fetching thumbnails")},()=>{console.error("Timeout while fetching thumbnails")});let n={items:i,controller:new r({simpleHit:!0,onHit:t=>{i.forEach((i,o)=>{i.id==t.id&&(this.container.hide(),e.onObjectOpened(i))})},onContextualMenu:t=>{let o=[];return t&&(o=[{type:"PushItem",title:"Open",action:{callback:t=>{i.forEach((t,i)=>{t.id==cellInfo.id&&(this.container.hide(),e.onObjectOpened(t))})}}}]),o}})};this.container.setMRU(n);var s=document.querySelector(".afr-mru-panel");if(null!=s){s.classList.add("afr-mru-maximized");var l=document.getElementById("resize");null!=l&&l.remove()}},onFailure:function(){}}),Promise.resolve()}})}]},dragAndDrop:{callbacks:{onDragEnter:e=>Promise.resolve("OverFullPage"),onDrop:e=>{console.log("Object Drop"),this.container.hide()}}},guidedTour:{title:"Quick Tour",items:[{id:"OpenContent",type:"VIDEO",video:s.getWebappsBaseUrl()+"/SimReviewHomepage/assets/video/PSR_Homepage.mp4",title:i.GuidedTourOpen,text:i.GuidedTourOpenSub},{id:"ExploreResults",type:"VIDEO",video:s.getWebappsBaseUrl()+"/SimReviewHomepage/assets/video/PSR_Details.mp4",title:i.GuidedTourExplore,text:i.GuidedTourExploreSub},{id:"SynchronizeWidgets",type:"VIDEO",video:s.getWebappsBaseUrl()+"/SimReviewHomepage/assets/video/PSR_Sync.mp4",title:i.GuidedTourSync,text:i.GuidedTourSyncSub},{id:"toolbar1",type:"IMAGE",img:s.getWebappsBaseUrl()+"/SimReviewHomepage/assets/images/toolbar1.png",title:i.GuidedTourToolbar1,text:i.GuidedTourToolbarSub1},{id:"toolbar2",type:"IMAGE",img:s.getWebappsBaseUrl()+"/SimReviewHomepage/assets/images/toolbar2.png",title:i.GuidedTourToolbar2,text:i.GuidedTourToolbarSub2},{id:"toolbar3",type:"IMAGE",img:s.getWebappsBaseUrl()+"/SimReviewHomepage/assets/images/toolbar3.png",title:i.GuidedTourToolbar3,text:i.GuidedTourToolbarSub3}]}};t.buttons.items[1].controller.subscribe({event:"REMOVE_CUSTOM_CONTENT"},()=>{let e={items:[],controller:new r({simpleHit:!0,onHit:e=>{},onContextualMenu:e=>{let t=[];return e&&(t=[]),t}})};this.container.setMRU(e);let t=this.container.getDOM().querySelector(".afr-mru-panel");t&&t.remove()}),this.container=new o(t)},getDOM:function(){return this.container.getDOM()},show:function(){console.log("homepage show"),this.container.show()},hide:function(){this.container.hide()}})}),define("DS/SimReviewHomepage/commands/CATSPYHomeCmd",["DS/ApplicationFrame/Command","DS/SimReviewHomepage/SimReviewHomepage"],function(e,t){"use strict";return e.extend({beginExecute:function(){t.show()}})});